(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-order-submit"],{"0a73":function(e,t,i){t=e.exports=i("2350")(!1),t.push([e.i,'@charset "UTF-8";\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */\n/* 页面设置相关 */\n/* 边线相关 */.container .fixed[data-v-cc2b7baa]{border-top:1px #f2f2f2 solid}\n/* 主要颜色 */\n/* 超出行数显示 省略号*/.container .coupon .list .item .coupon-title[data-v-cc2b7baa]{word-break:break-all;\n  /*属性规定自动换行的处理方法。normal(使用浏览器默认的换行规则。),break-all(允许在单词内换行。),keep-all(只能在半角空格或连字符处换行。)*/text-overflow:ellipsis;display:-webkit-box;\n  /** 对象作为伸缩盒子模型显示 **/-webkit-box-orient:vertical;\n  /** 设置或检索伸缩盒对象的子元素的排列方式 **/-webkit-line-clamp:1;\n  /** 显示的行数 **/overflow:hidden\n  /** 隐藏超出的内容 **/}.container .address .has-address .text .address-detail[data-v-cc2b7baa],.container .car-list .section .goods .other .title[data-v-cc2b7baa]{word-break:break-all;text-overflow:ellipsis;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2;overflow:hidden}\n/* 阿里巴巴图标被选中状态的样式 */.icon-color[data-v-cc2b7baa]{color:#fc5a5a}.container[data-v-cc2b7baa]{color:#1a1a1a\n  /* 优惠券 */}.container .address[data-v-cc2b7baa]{background:#fff;width:100%;height:%?168?%;font-size:%?28?%;color:#1a1a1a;padding:10px}.container .address .no-address[data-v-cc2b7baa]{width:100%;height:100%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:start;-webkit-justify-content:flex-start;justify-content:flex-start;font-size:%?32?%}.container .address .no-address i[data-v-cc2b7baa]{margin-right:10px}.container .address .has-address[data-v-cc2b7baa]{width:100%;height:100%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;padding-left:10px;padding-right:10px;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between}.container .address .has-address .text[data-v-cc2b7baa]{width:80%}.container .address .has-address .text .mobile[data-v-cc2b7baa]{margin-left:%?30?%;color:#ccc!important}.container .address .has-address .icon-ddx-shop-location[data-v-cc2b7baa]{font-size:%?48?%}.container .address .has-address .icon-ddx-shop-content_arrows[data-v-cc2b7baa]{font-size:%?32?%}.container .car-list[data-v-cc2b7baa]{padding-top:%?24?%;padding-bottom:%?96?%}.container .car-list .section[data-v-cc2b7baa]{background:#fff;margin-bottom:%?24?%}.container .car-list .section .shop-name[data-v-cc2b7baa]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;border-bottom:1px solid #f2f2f2;padding:10px;color:#000;font-size:%?32?%}.container .car-list .section .shop-name .icon-ddx-shop-content_arrows[data-v-cc2b7baa]{margin-left:%?10?%;color:#ccc;font-size:%?24?%}.container .car-list .section .goods[data-v-cc2b7baa]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;padding:10px;width:100%;height:23.5%}.container .car-list .section .goods .chooses[data-v-cc2b7baa]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;margin-right:10px}.container .car-list .section .goods .goods-img[data-v-cc2b7baa]{margin-right:10px}.container .car-list .section .goods .goods-img .img[data-v-cc2b7baa]{width:%?200?%;height:%?200?%;border-radius:%?4?%}.container .car-list .section .goods .other[data-v-cc2b7baa]{width:75%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column}.container .car-list .section .goods .other .title[data-v-cc2b7baa]{color:#1a1a1a;font-size:%?28?%}.container .car-list .section .goods .other .specification[data-v-cc2b7baa]{color:grey;font-size:%?24?%}.container .car-list .section .goods .other .money[data-v-cc2b7baa]{font-size:%?28?%;color:grey;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between}.container .car-list .section .goods .other .money .money-num[data-v-cc2b7baa]{color:#fc5a5a}.container .fixed[data-v-cc2b7baa]{z-index:99;background:#fff;position:fixed;width:100%;bottom:0;left:0;height:%?100?%;line-height:%?100?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-flex-flow:nowrap;flex-flow:nowrap;-webkit-box-pack:end;-webkit-justify-content:flex-end;justify-content:flex-end;font-size:%?32?%;padding-left:10px}.container .fixed .other[data-v-cc2b7baa]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:end;-webkit-justify-content:flex-end;justify-content:flex-end}.container .fixed .other .num[data-v-cc2b7baa]{font-size:%?28?%;color:grey}.container .fixed .other .money[data-v-cc2b7baa]{color:#1a1a1a;margin-right:%?30?%}.container .fixed .other .money .money-num[data-v-cc2b7baa]{color:#fc5a5a}.container .fixed .other .btn[data-v-cc2b7baa]{padding:0 %?60?%;background:#fc5a5a;color:#fff}.container .coupon[data-v-cc2b7baa]{background-color:#fff;height:%?500?%;width:%?650?%;padding:%?24?%;border-radius:8px;font-size:%?28?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between}.container .coupon .title[data-v-cc2b7baa]{font-size:%?36?%;text-align:center;color:#333;width:100%}.container .coupon .list[data-v-cc2b7baa]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;-webkit-box-align:center;-webkit-align-items:center;align-items:center;width:100%;height:%?320?%;overflow-y:auto}.container .coupon .list .item[data-v-cc2b7baa]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-align-content:space-around;align-content:space-around;width:100%;margin-bottom:%?20?%}.container .coupon .list .item[data-v-cc2b7baa]:last-child{margin-bottom:0}.container .coupon .list .item .coupon-title[data-v-cc2b7baa]{width:80%;color:#333}.container .coupon .list .item uni-radio[data-v-cc2b7baa]{text-align:right;width:20%;-webkit-transform:scale(.7);transform:scale(.7)}.container .coupon .footer[data-v-cc2b7baa]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center}.container .coupon .footer .btn[data-v-cc2b7baa]{width:%?428?%;text-align:center;height:%?62?%;line-height:%?62?%;background:#fc5a5a;color:#fff;border-radius:%?31?%}',""])},2231:function(e,t,i){"use strict";var a,n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-uni-view",{staticClass:"container"},[i("v-uni-view",{staticClass:"address"},[e.address.id?i("v-uni-view",{staticClass:"has-address",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e._goPage("address_chooses")}}},[i("v-uni-view",[i("i",{staticClass:"iconfont icon-ddx-shop-location"})]),i("v-uni-view",{staticClass:"text"},[i("v-uni-view",[e._v(e._s(e.address.name)),i("span",{staticClass:"mobile"},[e._v(e._s(e.address.phone))])]),i("v-uni-view",{staticClass:"address-detail"},[e._v(e._s(e.address.addres))])],1),i("v-uni-view",[i("i",{staticClass:"iconfont icon-ddx-shop-content_arrows"})])],1):i("v-uni-view",{staticClass:"no-address",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e._goPage("address_chooses")}}},[i("v-uni-view",[i("i",{staticClass:"iconfont icon-ddx-shop-anonymous-iconfont icon-color"})]),i("v-uni-view",[e._v("选择收货地址")])],1)],1),i("v-uni-view",{staticClass:"car-list"},[e._l(e.myResponseData,function(t,a){return i("v-uni-view",{key:a,staticClass:"section"},[i("v-uni-view",{staticClass:"shop-name"},[i("v-uni-view",[e._v(e._s(t.name))]),i("v-uni-view",[e._v("共"+e._s(t.data.length)+"件")])],1),e._l(t.data,function(t,a){return i("v-uni-view",{key:a,staticClass:"goods"},[i("v-uni-view",{staticClass:"goods-img"},[i("v-uni-image",{staticClass:"img",attrs:{src:t.pic}})],1),i("v-uni-view",{staticClass:"other"},[i("v-uni-view",{staticClass:"title"},[e._v(e._s(t.title))]),t.categoryArr.length?i("v-uni-view",{staticClass:"specification"},[e._v("规格:"),e._l(t.categoryArr,function(t,a){return i("v-uni-text",{key:a,staticStyle:{"margin-right":"6upx"}},[e._v(e._s(t))])})],2):e._e(),i("v-uni-view",{staticClass:"money"},[i("v-uni-view",{staticClass:"money-num"}),i("v-uni-view",[e._v("X"+e._s(t.num))])],1)],1)],1)})],2)}),i("v-uni-view",{staticClass:"section"},[i("v-uni-view",{staticClass:"shop-name",staticStyle:{border:"none"}},[i("v-uni-view",[e._v("商品金额")]),i("v-uni-view",{staticStyle:{color:"#dd524d"}},[e._v("￥"+e._s(e._f("moneyToFixed")(e.sumMoney)))])],1),i("v-uni-view",{staticClass:"shop-name",staticStyle:{border:"none"}},[i("v-uni-view",[e._v("运费")]),i("v-uni-view",{staticStyle:{color:"#dd524d"}},[e._v("￥"+e._s(e._f("moneyToFixed")(e.freight)))])],1),i("v-uni-view",{staticClass:"shop-name",staticStyle:{border:"none"}},[i("v-uni-view",[e._v("优惠券")]),i("v-uni-view",{staticStyle:{display:"flex","align-items":"center",color:"#666666"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.open.apply(void 0,arguments)}}},[e._v(e._s(0!=e.chooseCoupon.receive_id?e.chooseCoupon.coupon.c_name:"未选择")),i("span",{staticClass:"iconfont icon-ddx-shop-content_arrows"})])],1)],1)],2),i("v-uni-view",{staticClass:"fixed"},[i("v-uni-view",{staticClass:"other"},[i("v-uni-view",{staticClass:"num"},[e._v("共"+e._s(e.sumNum)+"件，")]),i("v-uni-view",{staticClass:"money"},[e._v("合计："),0==e.chooseCoupon.receive_id?i("span",{staticClass:"money-num"},[e._v("￥"+e._s(e._f("moneyToFixed")(parseFloat(e.sumMoney)+parseFloat(e.freight))))]):i("span",{staticClass:"money-num"},[e._v("￥"+e._s(e._f("moneyToFixed")(e.chooseCoupon.responsesData.money)))])]),i("v-uni-view",{staticClass:"btn",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.submitOrder.apply(void 0,arguments)}}},[e._v("提交订单")])],1)],1),i("uni-popup",{ref:"coupon",attrs:{type:"center",custom:!0}},[i("div",{staticClass:"coupon"},[i("div",{staticClass:"title"},[e._v("选择优惠券")]),i("v-uni-radio-group",{staticClass:"list",on:{change:function(t){arguments[0]=t=e.$handleEvent(t),e.couponRadioChange.apply(void 0,arguments)}}},[i("v-uni-label",{staticClass:"item"},[i("div",{staticClass:"coupon-title"},[e._v("不使用优惠券")]),i("v-uni-radio",{attrs:{value:"0",checked:0==e.chooseCoupon.receive_id,color:"#FC5A5A"}})],1),e._l(e.useCouponList,function(t,a){return i("v-uni-label",{key:a,staticClass:"item"},[i("div",{staticClass:"coupon-title"},[e._v(e._s(t.c_name))]),i("v-uni-radio",{attrs:{value:""+t.receive_id,checked:t.receive_id==e.chooseCoupon.receive_id,color:"#FC5A5A"}})],1)})],2),i("div",{staticClass:"footer"},[i("div",{staticClass:"btn",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.close.apply(void 0,arguments)}}},[e._v("完成")])])],1)])],1)},o=[];i.d(t,"b",function(){return n}),i.d(t,"c",function(){return o}),i.d(t,"a",function(){return a})},"35c2":function(e,t,i){"use strict";i.r(t);var a=i("4cd3"),n=i("dd9e");for(var o in n)"default"!==o&&function(e){i.d(t,e,function(){return n[e]})}(o);i("52c1");var s,r=i("f0c5"),c=Object(r["a"])(n["default"],a["b"],a["c"],!1,null,"268749c4",null,!1,a["a"],s);t["default"]=c.exports},"4cd3":function(e,t,i){"use strict";var a,n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.showPopup?i("v-uni-view",{staticClass:"uni-popup"},[i("v-uni-view",{staticClass:"uni-popup__mask",class:[e.ani,e.animation?"ani":"",e.custom?"":"uni-custom"],on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.close(!0)}}}),i("v-uni-view",{staticClass:"uni-popup__wrapper",class:[e.type,e.ani,e.animation?"ani":"",e.custom?"":"uni-custom"],on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.close(!0)}}},[i("v-uni-view",{staticClass:"uni-popup__wrapper-box",on:{click:function(t){t.stopPropagation(),arguments[0]=t=e.$handleEvent(t),e.clear.apply(void 0,arguments)}}},[e._t("default")],2)],1)],1):e._e()},o=[];i.d(t,"b",function(){return n}),i.d(t,"c",function(){return o}),i.d(t,"a",function(){return a})},"52c1":function(e,t,i){"use strict";var a=i("9c97"),n=i.n(a);n.a},5510:function(e,t,i){var a=i("0a73");"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var n=i("4f06").default;n("1f02854b",a,!0,{sourceMap:!1,shadowMode:!1})},"9c97":function(e,t,i){var a=i("f6e8");"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var n=i("4f06").default;n("76ec3408",a,!0,{sourceMap:!1,shadowMode:!1})},"9f08":function(e,t,i){"use strict";var a=i("5510"),n=i.n(a);n.a},"9fba":function(e,t,i){"use strict";i.r(t);var a=i("f927"),n=i.n(a);for(var o in a)"default"!==o&&function(e){i.d(t,e,function(){return a[e]})}(o);t["default"]=n.a},bd28:function(e,t,i){"use strict";i.r(t);var a=i("2231"),n=i("9fba");for(var o in n)"default"!==o&&function(e){i.d(t,e,function(){return n[e]})}(o);i("9f08");var s,r=i("f0c5"),c=Object(r["a"])(n["default"],a["b"],a["c"],!1,null,"cc2b7baa",null,!1,a["a"],s);t["default"]=c.exports},dd9e:function(e,t,i){"use strict";i.r(t);var a=i("ee7f"),n=i.n(a);for(var o in a)"default"!==o&&function(e){i.d(t,e,function(){return a[e]})}(o);t["default"]=n.a},ee7f:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a={name:"UniPopup",props:{animation:{type:Boolean,default:!0},type:{type:String,default:"center"},custom:{type:Boolean,default:!1},maskClick:{type:Boolean,default:!0},show:{type:Boolean,default:!0}},data:function(){return{ani:"",showPopup:!1}},watch:{show:function(e){e?this.open():this.close()}},created:function(){},methods:{clear:function(){},open:function(){var e=this;this.$emit("change",{show:!0}),this.showPopup=!0,this.$nextTick(function(){setTimeout(function(){e.ani="uni-"+e.type},30)})},close:function(e){var t=this;!this.maskClick&&e||(this.$emit("change",{show:!1}),this.ani="",this.$nextTick(function(){setTimeout(function(){t.showPopup=!1},300)}))}}};t.default=a},f6e8:function(e,t,i){t=e.exports=i("2350")(!1),t.push([e.i,'@charset "UTF-8";\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */\n/* 页面设置相关 */\n/* 边线相关 */\n/* 主要颜色 */\n/* 超出行数显示 省略号*/\n/* 阿里巴巴图标被选中状态的样式 */.icon-color[data-v-268749c4]{color:#fc5a5a}.uni-popup[data-v-268749c4]{position:fixed;top:0;bottom:0;left:0;right:0;z-index:99999;overflow:hidden}.uni-popup__mask[data-v-268749c4]{position:absolute;top:0;bottom:0;left:0;right:0;z-index:998;background:rgba(0,0,0,.4);opacity:0}.uni-popup__mask.ani[data-v-268749c4]{-webkit-transition:all .3s;transition:all .3s}.uni-popup__mask.uni-bottom[data-v-268749c4],.uni-popup__mask.uni-center[data-v-268749c4],.uni-popup__mask.uni-top[data-v-268749c4]{opacity:1}.uni-popup__wrapper[data-v-268749c4]{position:absolute;z-index:999;box-sizing:border-box}.uni-popup__wrapper.ani[data-v-268749c4]{-webkit-transition:all .3s;transition:all .3s}.uni-popup__wrapper.top[data-v-268749c4]{top:0;left:0;width:100%;-webkit-transform:translateY(-100%);transform:translateY(-100%)}.uni-popup__wrapper.bottom[data-v-268749c4]{bottom:0;left:0;width:100%;-webkit-transform:translateY(100%);transform:translateY(100%)}.uni-popup__wrapper.center[data-v-268749c4]{width:100%;height:100%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-transform:scale(1.2);transform:scale(1.2);opacity:0}.uni-popup__wrapper-box[data-v-268749c4]{position:relative;box-sizing:border-box}.uni-popup__wrapper.uni-custom .uni-popup__wrapper-box[data-v-268749c4]{padding:%?30?%;background:#fff;border-radius:%?10?%}.uni-popup__wrapper.uni-custom.center .uni-popup__wrapper-box[data-v-268749c4]{position:relative;max-width:80%;max-height:80%;overflow-y:scroll}.uni-popup__wrapper.uni-custom.bottom .uni-popup__wrapper-box[data-v-268749c4],.uni-popup__wrapper.uni-custom.top .uni-popup__wrapper-box[data-v-268749c4]{width:100%;max-height:500px;overflow-y:scroll}.uni-popup__wrapper.uni-bottom[data-v-268749c4],.uni-popup__wrapper.uni-top[data-v-268749c4]{-webkit-transform:translateY(0);transform:translateY(0)}.uni-popup__wrapper.uni-center[data-v-268749c4]{-webkit-transform:scale(1);transform:scale(1);opacity:1}',""])},f927:function(e,t,i){"use strict";var a=i("288e");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,i("ac6a"),i("96cf");var n=a(i("3b8d")),o=a(i("35c2")),s={name:"submit",data:function(){return{address:{id:0},myResponseData:[],sumNum:0,sumSum:0,sumMoney:0,freight:0,requestData:null,isDisableSubmitOrder:!1,useCouponList:[],chooseCoupon:{receive_id:0,coupon:{},responsesData:{money:0,discount:0,postage:0}}}},onLoad:function(){var e=(0,n.default)(regeneratorRuntime.mark(function e(){var t,i,a,n=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$minApi.addressList({default:1}).then(function(e){200===e.code&&e.data.length&&(n.address=e.data[0])});case 2:console.log("带过来的参数:",this.$parseURL()),this.myResponseData=this.$parseURL().myResponseData,this.sumNum=this.$parseURL().sumNum,this.sumSum=this.$parseURL().sumSum,this.sumMoney=this.$parseURL().sumMoney,t=uni.getStorageSync("inviteBuy"),i=[],e.t0=this.$parseURL().createOrderType,e.next="buy_now"===e.t0?12:"car"===e.t0?16:"group"===e.t0?19:"spike"===e.t0?23:27;break;case 12:return this.$parseURL().myResponseData.forEach(function(e,t){e.data.forEach(function(e,t){i.push({id:e.item_id,num:e.num,specs_ids:e.key})})}),this.requestData={receive_id:0,address_id:this.address.id,order_distinguish:0,item:i},"buy_now"===t.type&&t.data.id==i[0].id&&(this.requestData.share_id=t.data.share_id),e.abrupt("break",27);case 16:return this.$parseURL().myResponseData.forEach(function(e,t){e.data.forEach(function(e,t){i.push({id:e.item_id,num:e.num,specs_ids:e.key,card_id:e.id})})}),this.requestData={receive_id:0,address_id:this.address.id,order_distinguish:0,item:i},e.abrupt("break",27);case 19:return this.$parseURL().myResponseData.forEach(function(e,t){e.data.forEach(function(e,t){i.push({id:e.item_id,num:e.num,specs_ids:e.key})})}),this.requestData={address_id:this.address.id,activity_id:this.$parseURL().activity_id,order_distinguish:1,commander:this.$parseURL().commander,assemble_list_id:this.$parseURL().assemble_list_id,item:i},"group"===t.type&&(t.data.assemble_list_id?t.data.assemble_list_id==this.requestData.assemble_list_id&&t.data.assemble_id==this.requestData.activity_id&&t.data.item_id==i[0].id&&(this.requestData.share_id=t.data.share_id):t.data.assemble_id==this.requestData.activity_id&&t.data.item_id==i[0].id&&(this.requestData.share_id=t.data.share_id)),e.abrupt("break",27);case 23:return this.$parseURL().myResponseData.forEach(function(e,t){e.data.forEach(function(e,t){i.push({id:e.item_id,num:e.num,specs_ids:e.key})})}),this.requestData={address_id:this.address.id,activity_id:this.$parseURL().seckill_id,order_distinguish:2,item:i},"spike"===t.type&&t.data.seckill_id==this.requestData.activity_id&&t.data.item_id==i[0].id&&(this.requestData.share_id=t.data.share_id),e.abrupt("break",27);case 27:this.getFreight(),"buy_now"!==this.$parseURL().createOrderType&&"car"!==this.$parseURL().createOrderType||this.getUseCouponList(),a=this,this.$eventHub.$on("address",function(e){a.address=e,a.requestData.address_id=e.id,a.getFreight()});case 31:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),onUnload:function(){this.$eventHub.$off("address")},methods:{_goPage:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.$openPage({name:e,query:t})},open:function(){0!==this.useCouponList.length?this.$refs.coupon.open():this.msg("暂无优惠券可选")},close:function(){this.$refs.coupon.close()},getUseCouponList:function(){var e=(0,n.default)(regeneratorRuntime.mark(function e(){var t,i=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t={item:this.requestData.item},e.next=3,this.$minApi.orderSubmitUseCouponList(t).then(function(e){200===e.code&&(i.useCouponList=e.data)});case 3:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),couponRadioChange:function(e){var t=this;this.chooseCoupon.receive_id=e.target.value,this.requestData.receive_id=e.target.value,0!=e.target.value?(this.useCouponList.map(function(i){i.receive_id==e.target.value&&(t.chooseCoupon.coupon=i)}),this.getCouponPrice()):this.chooseCoupon.coupon={},console.log(this.chooseCoupon)},getCouponPrice:function(){var e=this,t={receive_id:this.chooseCoupon.receive_id,item:this.requestData.item};this.$minApi.orderSubmitChoosesCouponList(t).then(function(t){200===t.code&&(e.chooseCoupon.responsesData=t.data)})},getFreight:function(){var e=(0,n.default)(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$minApi.freight(this.requestData).then(function(e){console.log(e),200===e.code&&(t.freight=e.data),403===e.code&&(t.isDisableSubmitOrder=!0,setTimeout(function(){uni.navigateBack()},2500))});case 2:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),submitOrder:function(){var e=(0,n.default)(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(this.address.id){e.next=3;break}return this.msg("未选择收货地址"),e.abrupt("return");case 3:if(!this.isDisableSubmitOrder){e.next=5;break}return e.abrupt("return");case 5:this.isDisableSubmitOrder=!0,e.t0=this.$parseURL().createOrderType,e.next="car"===e.t0?9:"buy_now"===e.t0?12:"group"===e.t0?15:"spike"===e.t0?18:21;break;case 9:return e.next=11,this.$minApi.createOrder(this.requestData).then(function(e){if(200===e.code)t._goPage("order_pay",e.data);else{var i=t;-1!==[108,107,208].indexOf(e.code)?uni.showModal({title:"提示",content:e.msg,success:function(t){t.confirm?(console.log("用户点击确定"),108===e.code&&i._goPage("id_card_authentication"),107===e.code&&i._goPage("address_chooses"),208===e.code&&i._goPage("order_detail",{order_id:e.data.order_id})):t.cancel&&console.log("用户点击取消")}}):t.msg(e.msg)}}).catch(function(e){console.log(e)});case 11:return e.abrupt("break",21);case 12:return e.next=14,this.$minApi.createOrder(this.requestData).then(function(e){if(200===e.code)t._goPage("order_pay",e.data);else{var i=t;-1!==[108,107,208].indexOf(e.code)?uni.showModal({title:"提示",content:e.msg,success:function(t){t.confirm?(console.log("用户点击确定"),108===e.code&&i._goPage("id_card_authentication"),107===e.code&&i._goPage("address_chooses"),208===e.code&&i._goPage("order_detail",{order_id:e.data.order_id})):t.cancel&&console.log("用户点击取消")}}):t.msg(e.msg)}}).catch(function(e){console.log(e)});case 14:return e.abrupt("break",21);case 15:return e.next=17,this.$minApi.createAassembleOrder(this.requestData).then(function(e){if(200===e.code)t._goPage("order_pay",e.data);else{var i=t;-1!==[108,107,208].indexOf(e.code)?uni.showModal({title:"提示",content:e.msg,success:function(t){t.confirm?(console.log("用户点击确定"),108===e.code&&i._goPage("id_card_authentication"),107===e.code&&i._goPage("address_chooses"),208===e.code&&i._goPage("order_detail",{order_id:e.data.order_id})):t.cancel&&console.log("用户点击取消")}}):t.msg(e.msg)}}).catch(function(e){console.log(e)});case 17:return e.abrupt("break",21);case 18:return e.next=20,this.$minApi.createOrederSeckillDoPost(this.requestData).then(function(e){if(200===e.code)t._goPage("order_pay",e.data);else{var i=t;-1!==[108,107,208].indexOf(e.code)?uni.showModal({title:"提示",content:e.msg,success:function(t){t.confirm?(console.log("用户点击确定"),108===e.code&&i._goPage("id_card_authentication"),107===e.code&&i._goPage("address_chooses"),208===e.code&&i._goPage("order_detail",{order_id:e.data.order_id})):t.cancel&&console.log("用户点击取消")}}):t.msg(e.msg)}}).catch(function(e){console.log(e)});case 20:return e.abrupt("break",21);case 21:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},components:{uniPopup:o.default}};t.default=s}}]);