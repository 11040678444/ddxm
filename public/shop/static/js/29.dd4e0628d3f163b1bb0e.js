webpackJsonp([29],{"4oT8":function(n,e){n.exports={render:function(){var n=this,e=n.$createElement,t=n._self._c||e;return t("div",{staticClass:"reserve"},[t("head-top",{attrs:{"go-return":"true",title:n.shopInfo.name}}),n._v(" "),t("div",{staticClass:"scroll-content"},[t("div",{staticClass:"choosed"},[n.pageData.server_list?t("span",[n._v(n._s(n.pageData.server_list[n.typee].sname))]):n._e(),n._v(" "),n.dayList.length?t("span",[n._v(", "+n._s(n.dayList[n.day].day)+n._s(2===n.day?"周"+n.dayChange[n.dayList[n.day].text]:n.dayList[n.day].text)+n._s(n.pageData.time_solt[n.point]))]):n._e(),n._v(" "),n.workerList&&n.workerList.length&&n.workerList[n.role].status?t("span",[n._v(", "+n._s(n.workerList[n.role].name))]):n._e()]),n._v(" "),t("div",{staticClass:"choose-info"},[t("div",{staticClass:"type"},n._l(n.pageData.server_list,function(e,o){return t("span",{key:o,class:{active:n.typee===o},on:{click:function(e){return n.chooseType(o)}}},[n._v(n._s(e.sname))])}),0),n._v(" "),t("div",{staticClass:"date"},n._l(n.dayList,function(e,o){return t("span",{class:{active:n.day===o},on:{click:function(e){return n.chooseDay(o)}}},[n._v(n._s(2===o?"后天周"+n.dayChange[e.text]:e.text))])}),0),n._v(" "),t("div",{staticClass:"time"},n._l(n.pageData.time_solt,function(e,o){return t("span",{key:o,class:{active:n.point===o},on:{click:function(e){return n.choosePoint(o)}}},[n._v(n._s(e))])}),0),n._v(" "),t("div",{staticClass:"role"},[n._l(n.workerList,function(e,o){return[e.status?t("span",{class:{active:n.role===o},on:{click:function(e){return n.chooseRole(o)}}},[n._v(n._s(e.name))]):t("span",{staticClass:"disabled",on:{click:function(e){return n.chooseRole(o)}}},[n._v(n._s(e.name))])]})],2)])]),n._v(" "),t("div",{staticClass:"absolute-footer footer"},[t("button",{on:{click:function(e){return n.gotoConfirm()}}},[n._v("确认预约")])]),n._v(" "),t("transition",{attrs:{name:"loading"}},[t("loading",{directives:[{name:"show",rawName:"v-show",value:n.showLoading,expression:"showLoading"}]})],1)],1)},staticRenderFns:[]}},"4sSn":function(n,e,t){e=n.exports=t("UTlt")(!1),e.push([n.i,'/**\n* actionsheet\n*/\n/**\n* en: primary type text color of menu item\n* zh-CN: 菜单项primary类型的文本颜色\n*/\n/**\n* en: warn type text color of menu item\n* zh-CN: 菜单项warn类型的文本颜色\n*/\n/**\n* en: default type text color of menu item\n* zh-CN: 菜单项default类型的文本颜色\n*/\n/**\n* en: disabled type text color of menu item\n* zh-CN: 菜单项disabled类型的文本颜色\n*/\n/**\n* datetime\n*/\n/**\n* tabbar\n*/\n/**\n* tab\n*/\n/**\n* dialog\n*/\n/**\n* en: title and content\'s padding-left and padding-right\n* zh-CN: 标题及内容区域的 padding-left 和 padding-right\n*/\n/**\n* x-number\n*/\n/**\n* checkbox\n*/\n/**\n* check-icon\n*/\n/**\n* Cell\n*/\n/**\n* Mask\n*/\n/**\n* Range\n*/\n/**\n* Tabbar\n*/\n/**\n* Header\n*/\n/**\n* Timeline\n*/\n/**\n* Switch\n*/\n/**\n* Button\n*/\n/**\n* en: border radius\n* zh-CN: 圆角边框\n*/\n/**\n* en: font color\n* zh-CN: 字体颜色\n*/\n/**\n* en: margin-top value between previous button, not works when there is only one button\n* zh-CN: 与相邻按钮的 margin-top 间隙，只有一个按钮时不生效\n*/\n/**\n* en: button height\n* zh-CN: 按钮高度\n*/\n/**\n* en: the font color in disabled\n* zh-CN: disabled状态下的字体颜色\n*/\n/**\n* en: the font color in disabled\n* zh-CN: disabled状态下的字体颜色\n*/\n/**\n* en: font size\n* zh-CN: 字体大小\n*/\n/**\n* en: the font size of the mini type\n* zh-CN: mini类型的字体大小\n*/\n/**\n* en: the line height of the mini type\n* zh-CN: mini类型的行高\n*/\n/**\n* en: the background color of the warn type\n* zh-CN: warn类型的背景颜色\n*/\n/**\n* en: the background color of the warn type in active\n* zh-CN: active状态下，warn类型的背景颜色\n*/\n/**\n* en: the background color of the warn type in disabled\n* zh-CN: disabled状态下，warn类型的背景颜色\n*/\n/**\n* en: the background color of the default type\n* zh-CN: default类型的背景颜色\n*/\n/**\n* en: the font color of the default type\n* zh-CN: default类型的字体颜色\n*/\n/**\n* en: the background color of the default type in active\n* zh-CN: active状态下，default类型的背景颜色\n*/\n/**\n* en: the font color of the default type in disabled\n* zh-CN: disabled状态下，default类型的字体颜色\n*/\n/**\n* en: the background color of the default type in disabled\n* zh-CN: disabled状态下，default类型的背景颜色\n*/\n/**\n* en: the font color of the default type in active\n* zh-CN: active状态下，default类型的字体颜色\n*/\n/**\n* en: the background color of the primary type\n* zh-CN: primary类型的背景颜色\n*/\n/**\n* en: the background color of the primary type in active\n* zh-CN: active状态下，primary类型的背景颜色\n*/\n/**\n* en: the background color of the primary type in disabled\n* zh-CN: disabled状态下，primary类型的背景颜色\n*/\n/**\n* en: the font color of the plain primary type\n* zh-CN: plain的primary类型的字体颜色\n*/\n/**\n* en: the border color of the plain primary type\n* zh-CN: plain的primary类型的边框颜色\n*/\n/**\n* en: the font color of the plain primary type in active\n* zh-CN: active状态下，plain的primary类型的字体颜色\n*/\n/**\n* en: the border color of the plain primary type in active\n* zh-CN: active状态下，plain的primary类型的边框颜色\n*/\n/**\n* en: the font color of the plain default type\n* zh-CN: plain的default类型的字体颜色\n*/\n/**\n* en: the border color of the plain default type\n* zh-CN: plain的default类型的边框颜色\n*/\n/**\n* en: the font color of the plain default type in active\n* zh-CN: active状态下，plain的default类型的字体颜色\n*/\n/**\n* en: the border color of the plain default type in active\n* zh-CN: active状态下，plain的default类型的边框颜色\n*/\n/**\n* en: the font color of the plain warn type\n* zh-CN: plain的warn类型的字体颜色\n*/\n/**\n* en: the border color of the plain warn type\n* zh-CN: plain的warn类型的边框颜色\n*/\n/**\n* en: the font color of the plain warn type in active\n* zh-CN: active状态下，plain的warn类型的字体颜色\n*/\n/**\n* en: the border color of the plain warn type in active\n* zh-CN: active状态下，plain的warn类型的边框颜色\n*/\n/**\n* swipeout\n*/\n/**\n* Cell\n*/\n/**\n* Badge\n*/\n/**\n* en: badge background color\n* zh-CN: badge的背景颜色\n*/\n/**\n* Popover\n*/\n/**\n* Button tab\n*/\n/**\n* en: not used\n* zh-CN: 未被使用\n*/\n/**\n* en: border radius color\n* zh-CN: 圆角边框的半径\n*/\n/**\n* en: border color\n* zh-CN: 边框的颜色\n*/\n/**\n* en: not used\n* zh-CN: 默认状态下圆角边框的颜色\n*/\n/**\n* en: not used\n* zh-CN: 未被使用\n*/\n/**\n* en: default background color\n* zh-CN: 默认状态下的背景颜色\n*/\n/**\n* en: selected background color\n* zh-CN: 选中状态下的背景颜色\n*/\n/**\n* en: not used\n* zh-CN: 未被使用\n*/\n/* alias */\n/**\n* en: not used\n* zh-CN: 未被使用\n*/\n/**\n* en: default text color\n* zh-CN: 默认状态下的文本颜色\n*/\n/**\n* en: height\n* zh-CN: 元素高度\n*/\n/**\n* en: line height\n* zh-CN: 元素行高\n*/\n/**\n* Swiper\n*/\n/**\n* checklist\n*/\n/**\n* popup-picker\n*/\n/**\n* popup\n*/\n/**\n* popup-header\n*/\n/**\n* form-preview\n*/\n/**\n* sticky\n*/\n/**\n* group\n*/\n/**\n* en: margin-top of title\n* zh-CN: 标题的margin-top\n*/\n/**\n* en: margin-bottom of title\n* zh-CN: 标题的margin-bottom\n*/\n/**\n* en: margin-top of footer title\n* zh-CN: 底部标题的margin-top\n*/\n/**\n* en: margin-bottom of footer title\n* zh-CN: 底部标题的margin-bottom\n*/\n/**\n* toast\n*/\n/**\n* en: text size of content\n* zh-CN: 内容文本大小\n*/\n/**\n* en: default top\n* zh-CN: 默认状态下距离顶部的高度\n*/\n/**\n* en: position top\n* zh-CN: 顶部显示的高度\n*/\n/**\n* en: position bottom\n* zh-CN: 底部显示的高度\n*/\n/**\n* en: z-index\n* zh-CN: z-index\n*/\n/**\n* icon\n*/\n/**\n* calendar\n*/\n/**\n* en: forward and backward arrows color\n* zh-CN: 前进后退的箭头颜色\n*/\n/**\n* en: text color of week highlight\n* zh-CN: 周末高亮的文本颜色\n*/\n/**\n* en: background color when selected\n* zh-CN: 选中时的背景颜色\n*/\n/**\n* en: text color when disabled\n* zh-CN: 禁用时的文本颜色\n*/\n/**\n* en: text color of today\n* zh-CN: 今天的文本颜色\n*/\n/**\n* en: font size of cell\n* zh-CN: 单元格的字号\n*/\n/**\n* en: background color\n* zh-CN: 背景颜色\n*/\n/**\n* en: size of date cell\n* zh-CN: 日期单元格尺寸大小\n*/\n/**\n* en: line height of date cell\n* zh-CN: 日期单元格的行高\n*/\n/**\n* en: text color of header\n* zh-CN: 头部的文本颜色\n*/\n/**\n* week-calendar\n*/\n/**\n* search\n*/\n/**\n* en: text color of cancel button\n* zh-CN: 取消按钮文本颜色\n*/\n/**\n* en: background color\n* zh-CN: 背景颜色\n*/\n/**\n* en: text color of placeholder\n* zh-CN: placeholder文本颜色\n*/\n/**\n* radio\n*/\n/**\n* en: checked icon color\n* zh-CN: 选中状态的图标颜色\n*/\n/**\n* loadmore\n*/\n/**\n* en: not used\n* zh-CN: 未被使用\n*/\n/**\n* loading\n*/\n/**\n* en: z-index\n* zh-CN: z-index\n*/\nhtml[data-v-3521f3ce] {\n  -ms-text-size-adjust: 100%;\n  -webkit-text-size-adjust: 100%;\n}\nbody[data-v-3521f3ce] {\n  line-height: 1.6;\n  font-family: -apple-system-font, "Helvetica Neue", sans-serif;\n}\n*[data-v-3521f3ce] {\n  margin: 0;\n  padding: 0;\n}\na img[data-v-3521f3ce] {\n  border: 0;\n}\na[data-v-3521f3ce] {\n  text-decoration: none;\n  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n}\n/** env = windows **/\n[data-v-3521f3ce]::-webkit-input-placeholder {\n  font-family: -apple-system-font, "Helvetica Neue", sans-serif;\n}\n/** prevent default menu callout **/\na[data-v-3521f3ce] {\n  -webkit-touch-callout: none;\n}\n.sxzy-center[data-v-3521f3ce] {\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  -webkit-transform: translate(-50%, -50%);\n          transform: translate(-50%, -50%);\n}\n.ct[data-v-3521f3ce] {\n  position: absolute;\n  top: 50%;\n  -webkit-transform: translateY(-50%);\n          transform: translateY(-50%);\n}\n.cl[data-v-3521f3ce] {\n  position: absolute;\n  left: 50%;\n  -webkit-transform: translateX(-50%);\n          transform: translateX(-50%);\n}\n.bjt[data-v-3521f3ce] {\n  background-repeat: no-repeat;\n  background-size: 100% 100%;\n}\n.box-shadow[data-v-3521f3ce] {\n  -webkit-box-shadow: 0 0.2rem 0.2rem -0.1rem #eff1f1;\n          box-shadow: 0 0.2rem 0.2rem -0.1rem #eff1f1;\n}\n.icon-buy[data-v-3521f3ce] {\n  display: inline-block;\n  width: 0.72rem;\n  height: 0.72rem;\n  border-radius: 100%;\n  background-color: #50c1f4;\n  text-align: center;\n  line-height: 0.72rem;\n}\n.icon-buy i[data-v-3521f3ce] {\n  font-size: 0.36rem;\n  color: #fff;\n}\n.tip-num-single[data-v-3521f3ce] {\n  width: 0.32rem;\n  height: 0.32rem;\n  line-height: 0.32rem;\n  border-radius: 100%;\n  background-color: #fb6d74;\n  font-size: 0.18rem;\n  color: #fff;\n  position: absolute;\n  right: -0.1rem;\n  top: 0;\n}\n.tip-num-double[data-v-3521f3ce] {\n  padding: 0 0.08rem 0 0.1rem;\n  border-radius: 0.3rem;\n  background-color: #fb6d74;\n  font-size: 0.18rem;\n  color: #fff;\n  position: absolute;\n  right: -0.1rem;\n  top: 0;\n}\n.panel-tip[data-v-3521f3ce] {\n  width: 100%;\n  padding: 0.2rem 0.35rem;\n  background-color: #c1ebf9;\n  font-size: 0.22rem;\n  color: #008ec8;\n  vertical-align: top;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: horizontal;\n  -webkit-box-direction: normal;\n      -ms-flex-direction: row;\n          flex-direction: row;\n  -webkit-box-pack: start;\n      -ms-flex-pack: start;\n          justify-content: flex-start;\n}\n.panel-tip i[data-v-3521f3ce] {\n  font-size: 0.22rem;\n  color: #008ec8;\n  margin-right: 0.1rem;\n}\n.panel-tip p[data-v-3521f3ce] {\n  color: #008ec8;\n  text-align: justify;\n}\n.item-tag[data-v-3521f3ce] {\n  position: absolute;\n  left: 0;\n  top: 0.2rem;\n  z-index: 101;\n}\n.item-tag span[data-v-3521f3ce] {\n  margin-bottom: 0.08rem;\n}\n.store-goods[data-v-3521f3ce] {\n  display: block;\n  padding: 0.02rem 0.12rem;\n  font-size: 0.2rem;\n  color: #fff;\n  color: #fff!important;\n  background-color: #f71054 !important;\n  border-top-left-radius: 0.16rem;\n  border-bottom-right-radius: 0.16rem;\n}\n.tip-stock[data-v-3521f3ce] {\n  margin-bottom: 0.2rem;\n  display: inline;\n  padding: 0.02rem 0.26rem;\n  height: 0.4rem;\n  line-height: 0.4rem;\n  font-size: 0.2rem;\n  color: #fb9b6c;\n  background-color: #f9f9f9;\n  border-radius: 0.2rem;\n}\n.vux-tab[data-v-3521f3ce] {\n  height: 0.82rem!important;\n  /*border-top: 0.01rem solid #e5e5e5;*/\n}\n.vux-tab .vux-tab-item[data-v-3521f3ce] {\n  font-size: 0.26rem!important;\n  color: #333!important;\n  line-height: 0.76rem!important;\n}\n.vux-tab-bar-inner[data-v-3521f3ce] {\n  background-color: #50c0f4!important;\n  border-radius: 0.12rem!important;\n}\n.vux-tab-ink-bar[data-v-3521f3ce] {\n  height: 0.08rem!important;\n}\n.vux-tab .vux-tab-item.vux-tab-selected[data-v-3521f3ce] {\n  color: #008ec8!important;\n  border-width: 0.1rem!important;\n}\n.vux-tab .vux-tab-item[data-v-3521f3ce] {\n  background: none!important;\n  background-color: #fff!important;\n}\n.vux-slider .vux-indicator[data-v-3521f3ce],\n.vux-slider .vux-indicator-right[data-v-3521f3ce] {\n  right: 0.25rem!important;\n  bottom: 0.3rem!important;\n  font-size: 0!important;\n}\n.vux-actionsheet .weui-actionsheet__menu[data-v-3521f3ce] {\n  max-height: 5rem!important;\n  overflow-y: auto!important;\n}\n.ellipsis[data-v-3521f3ce] {\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n.ellipsis2[data-v-3521f3ce] {\n  overflow: hidden;\n  text-overflow: ellipsis;\n  display: -webkit-box;\n  -webkit-line-clamp: 2;\n  -webkit-box-orient: vertical;\n}\n.btn-tag[data-v-3521f3ce] {\n  display: block;\n  height: 0.3rem;\n  padding: 0 0.08rem 0.2rem !important;\n  line-height: 0.3rem;\n  text-align: center;\n  color: #ffffff;\n  font-size: 0.2rem;\n}\n.grad-org[data-v-3521f3ce] {\n  background: -webkit-gradient(linear, left top, right top, from(#fe6f6a), to(#f93dae));\n  background: linear-gradient(to right, #fe6f6a, #f93dae);\n}\n.grad-red[data-v-3521f3ce] {\n  background: -webkit-gradient(linear, left top, right top, from(#f7833e), to(#e52216));\n  background: linear-gradient(to right, #f7833e, #e52216);\n}\n.mp[data-v-3521f3ce] {\n  font-size: 0.36rem;\n  color: #f71054;\n}\n.mp span[data-v-3521f3ce] {\n  font-size: 0.28rem;\n  color: #f71054;\n}\n.np[data-v-3521f3ce] {\n  font-size: 0.28rem;\n  color: #a9a9a9;\n}\n.fmp[data-v-3521f3ce] {\n  font-size: 0.36rem;\n  color: #fa6d74;\n}\n.fmp span[data-v-3521f3ce] {\n  font-size: 0.28rem;\n  color: #fa6d74;\n}\n.fnp[data-v-3521f3ce] {\n  font-size: 0.28rem;\n  color: #a8a8a8;\n  text-decoration: line-through;\n}\n.member-icon-img_s[data-v-3521f3ce] {\n  width: 0.56rem;\n  height: 0.5rem;\n}\n.member-icon-img[data-v-3521f3ce] {\n  width: 2.1rem;\n  height: 1.84rem;\n}\n/***\n  TODO  捣蛋熊猫线上商城字体和颜色规范\n */\n/* 淡蓝 */\n/* 淡青 */\n/* 淡粉 */\n/* 白色 */\n/* 浅蓝 */\n/* 蓝色 */\n/* 鹅黄 */\n/* 浅粉 */\n/* 灰色度 */\n/* 姜黄色 */\n/* 亮黄 */\n/* 紫色 */\n/* 浅蓝色 */\n.reserve[data-v-3521f3ce] {\n  padding-top: 1rem;\n  padding-bottom: 1.4rem;\n  background-color: #fff;\n  position: relative;\n}\n.reserve .choosed[data-v-3521f3ce] {\n  padding: 0.6rem 0.35rem 0.8rem;\n  font-size: 0.3rem;\n  color: #000;\n}\n.reserve .choose-info[data-v-3521f3ce] {\n  padding: 0 0.35rem;\n}\n.reserve .choose-info > div[data-v-3521f3ce] {\n  margin-bottom: 0.5rem;\n  overflow-x: auto;\n  overflow-y: hidden;\n  white-space: nowrap;\n  -webkit-overflow-scrolling: touch;\n  /*height: 0.72rem;*/\n  font-size: 0;\n}\n.reserve .choose-info > div span[data-v-3521f3ce] {\n  display: inline-block;\n  text-align: center;\n  width: 1.4rem;\n  height: 100%;\n  line-height: 0.72rem;\n  font-size: 0.24rem;\n  color: #333333;\n  margin-right: 0.2rem;\n}\n.reserve .choose-info > div span.disabled[data-v-3521f3ce] {\n  color: #a9a9a9;\n}\n.reserve .choose-info > div span.active[data-v-3521f3ce] {\n  border-radius: 0.5rem;\n  font-size: 0.24rem;\n  color: #fff;\n  background-color: #8c89ec;\n}\n.footer[data-v-3521f3ce] {\n  -webkit-box-pack: center;\n      -ms-flex-pack: center;\n          justify-content: center;\n  margin-bottom: 0.4rem;\n}\n.footer button[data-v-3521f3ce] {\n  display: inline-block;\n  width: 6.8rem;\n  height: 0.8rem;\n  text-align: center;\n  border-radius: 0.5rem;\n  font-size: 0.3rem;\n  color: #fff;\n  font-weight: 600;\n  background-color: #50bff3;\n}\n',""])},Fuj1:function(n,e,t){var o=t("4sSn");"string"==typeof o&&(o=[[n.i,o,""]]),o.locals&&(n.exports=o.locals);t("FIqI")("fcc04556",o,!0,{})},qPkO:function(n,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=t("Cz8s"),a=t.n(o),i=t("KgXo"),r=t.n(i),s=t("yclV"),d=t("i84Q");e.default={name:"reserve",data:function(){return{shopInfo:{},showLoading:!1,pageData:{},dayList:[],dayChange:["日","一","二","三","四","五","六"],workerList:[],typee:0,day:0,point:0,role:0}},components:{"head-top":a.a,loading:r.a},mounted:function(){this.shopInfo.id=this.$route.query.id,this.shopInfo.name=this.$route.query.name,this.changeDay(),this.getPageData()},methods:{getPageData:function(){var n=this;this.showLoading=!0,Object(d.M)().then(function(e){console.log(e),200===e.code?(n.pageData=e.data,n.getChooseData()):n.$vux.toast.text(e.msg,"middle"),n.showLoading=!1})},changeDay:function(){for(var n=["今天","明天",new Date((new Date).getTime()+1728e5).getDay()],e=0;e<3;e++)this.dayList.push({text:n[e],day:Object(s.a)((new Date).getTime()+24*e*60*60*1e3,!0)});console.log(this.dayList)},chooseType:function(n){this.typee=n,this.day=0,this.point=0,this.getChooseData(1)},chooseDay:function(n){this.day=n,this.point=0,this.getChooseData(1)},choosePoint:function(n){this.point=n,this.getChooseData()},chooseRole:function(n){this.workerList[n].status?this.role=n:this.$vux.toast.text("当前服务人员不能预约~","middle")},getChooseData:function(n){var e=this;Object(d._13)(this.pageData.server_list[this.typee].id,this.day-0+1,n?"":this.pageData.time_solt[this.point]).then(function(t){console.log(t),200===t.code?e.workerList=t.data.worker_list:(e.workerList=[],e.$vux.toast.text(t.msg,"middle")),n&&(e.pageData.time_solt=t.data.time_solt)})},gotoConfirm:function(){if(!this.workerList.length||!this.workerList[this.role].status)return void this.$vux.toast.text("请先选择可预约的服务人员~","middle");var n="";n=2===this.day?this.dayList[this.day].day+"  周"+this.dayChange[this.dayList[this.day].text]+this.pageData.time_solt[this.point]:this.dayList[this.day].day+"  "+this.dayList[this.day].text+this.pageData.time_solt[this.point],console.log(n),this.$router.push("/confirmreserve?id="+this.shopInfo.id+"&name="+this.shopInfo.name+"&typee="+this.pageData.server_list[this.typee].id+"&sname="+this.pageData.server_list[this.typee].sname+"&day="+this.day+"&point="+this.pageData.time_solt[this.point]+"&workerid="+this.workerList[this.role].workid+"&worker="+this.workerList[this.role].name+"&showtime="+n)}}}},"tT/a":function(n,e,t){t("Fuj1");var o=t("mEwh")(t("qPkO"),t("4oT8"),"data-v-3521f3ce",null);n.exports=o.exports}});