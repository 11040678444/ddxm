webpackJsonp([8],{Rn1S:function(e,t){},xOGE:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a("lC5x"),s=a.n(r),i=a("J0Oq"),l=a.n(i),n=a("1h8J"),o=a("L/hj"),u={name:"OrderManage",data:function(){return{memberInfoDialog:{isShow:!1,memberInfo:{nickname:"涵涵妈",mobile:"18725928054",shop_code:"两江时光店",level:"普通会员",addtime:"2017-08-15 12:52:04"}},waiterInfoDialog:{isShow:!1,waiterInfo:{name:"测试员工",mobile:"15223622442",shop:"测试门店10",type:"水育,大保健,艾灸",addtime:"2018-11-02 09:32:27"}},waiter:[],requestData:{page:1,limit:10,waiter_id:"",pay_way:"",status:"",goods_type:0,search:"",type:"1",date:[],timeBtnValue:0,startTime:"",endTime:""},rules:{reason:[{required:!0,message:"请填写退货原因",trigger:"blur"}]},orderStatus:[{id:2,name:"正常"},{id:-6,name:"已退单"},{id:-3,name:"有退单"}],payWayList1:[{id:1,name:"微信"},{id:2,name:"支付宝"},{id:3,name:"余额"},{id:4,name:"银行卡"},{id:5,name:"现金"}],goodsType:[{id:0,name:"全部"},{id:1,name:"非外包商品"},{id:2,name:"非外包服务"},{id:3,name:"外包商品"},{id:4,name:"外包服务"}],responseData1:{data:[],count:10},returnOrderDialog1:{isShow:!1,reason_id:"",reason:"",type:"",id:"",remarks:"",multipleSelection:[],returnOrderResult:[{id:1,name:"产品质量问题"},{id:2,name:"过期产品"},{id:3,name:"顾客自己原因"},{id:4,name:"门店录单错误"},{id:0,name:"其他"}],responseGoodsData:[{subtitle:"新西兰S-26惠氏婴幼儿奶粉2段900g/罐",num:2,price:"179.00",real_price:"179.00",refund_price:"179.00",refund_num:2}]},orderDetailsDialog1:{isShow:!1,responseData:{id:2,sn:"XM155937958663",time:"2019-06-02 18:49:46",shop_code:"总店",is_online:"门店收银",waiter:"测试员工2",old_amount:"136.00",amount:"130.00",member:{mobile:"17723582121",nickname:"罗文2222",level:"普通会员",money:"29.01"},pay_way:"现金支付"},responseGoodList:[{id:1,subtitle:"新西兰S-26惠氏婴幼儿奶粉2段900g/罐",num:2,refund:0,price:"179.00",real_price:"179.00",pay_all_price:358},{id:2,subtitle:"安琪憨贝洁婴儿柔湿巾80片1包装",num:2,refund:2,price:"151.00",real_price:"151.00",pay_all_price:302}],responseReturnGoodList:[{id:1,r_sn:"OR156056550030",r_number:1,r_amount:"179.00",add_time:"2019-06-15 10:25:00",dealwith_time:"2019-06-15 10:25:00",r_status:"完成",reason:"商品不一致，客户退货",remarks:""}]},responseData3:{data:[],count:10},orderDetailsDialog3:{isShow:!1,responseData:{id:2,sn:"XM155937958663",time:"2019-06-02 18:49:46",shop_code:"总店",is_online:"门店收银",waiter:"测试员工2",old_amount:"136.00",amount:"130.00",member:{mobile:"17723582121",nickname:"罗文2222",level:"普通会员",money:"29.01"},pay_way:"现金支付"},responseGoodList:[{id:1,subtitle:"新西兰S-26惠氏婴幼儿奶粉2段900g/罐",num:2,refund:0,price:"179.00",real_price:"179.00",pay_all_price:358},{id:2,subtitle:"安琪憨贝洁婴儿柔湿巾80片1包装",num:2,refund:2,price:"151.00",real_price:"151.00",pay_all_price:302}]},payWayList3:[{id:1,name:"微信"},{id:2,name:"支付宝"},{id:4,name:"银行卡"},{id:5,name:"现金"}],responseData2:{data:[],count:0},orderStatusServiceCardOrder:[{id:0,name:"正常"},{id:1,name:"退单"}],payWayList2:[{id:6,name:"美团"},{id:7,name:"赠送"},{id:8,name:"门店自用"}],returnOrderDialog2:{isShow:!1,responseData:{id:2,member_id:2,order_id:34,mobile:"13637765376",ticket_id:1,status:1,waiter:"荣天铭",waiter_id:13,sn:"XM156481327221",start_time:1564813302,end_time:1584028799,type:1,month:0,year:0,real_price:"126.00",card:{data:[{num:20,s_num:20,money:"60.00",service_id:44,sname:"外包服务",price:0}],money:"0.00",type:"次卡",balance:"126.00"},start:"2019-08-03",end:"2020-03-12"},returnOrderResult:[{id:1,name:"服务人员选错"},{id:2,name:"服务项目和次数录入错误"},{id:3,name:"扣错客户服务卡及余额"},{id:0,name:"其他"}],requestData:{id:"",reason_id:"",reason:"",type:"",remarks:""}},returnDetailDialog2:{isShow:!1,responseData:{id:8,order_id:34,o_sn:"XM156481327221",r_sn:"OR156516404221",r_number:1,r_amount:"126.00",r_status:1,reason:"sdfadsfasdf",remarks:"sfadsfadsf",type:1,update_time:1565245615,dealwith_time:1565245615,shop_id:21,otype:3,creator:"1",creator_id:0,r_type:"3",status:1,worker_id:13,worker:"荣天铭",create_time:1565164042,ticket:{id:2,order_id:34,shop_id:21,member_id:2,mobile:"13637765376",ticket_id:1,status:1,price:"188.00",real_price:"126.00",start_time:1564813302,end_time:1584028799,over_time:0,use_over_time:null,day:222,month:0,year:0,refund:0,refund_time:1565245615,create_time:"2019-08-03 14:21:12",waiter:"荣天铭",waiter_id:13,type:1,level_id:6,log:0,refund_id:1,start:"2019-08-03",end:"2020-03-12"},type_text:"次卡"}},requestData4:{sn:"",member:"",mobile:""},responseData4:{count:0,data:[]},responseDataDetailsDialog4:{isShow:!1,responseData:{expireInfo:{expire_time:"",money:0,status:""},list:[]}}}},methods:{showOrderDetails:function(e){var t=this;return l()(s.a.mark(function a(){var r,i;return s.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:r={type:t.requestData.type,id:e},i={order_id:e,type:t.requestData.type},a.t0=t.requestData.type,a.next="1"===a.t0?5:"3"===a.t0?16:"2"===a.t0?21:22;break;case 5:return t.orderDetailsDialog1.responseData={},t.orderDetailsDialog1.responseGoodList=[],t.orderDetailsDialog1.responseReturnGoodList=[],a.next=10,Object(n.O)(r).then(function(e){"200"===e.code&&(t.orderDetailsDialog1.responseData=e.data)});case 10:return a.next=12,Object(n.P)(i).then(function(e){"200"===e.code&&(t.orderDetailsDialog1.responseGoodList=e.data)});case 12:return a.next=14,Object(n.Q)(i).then(function(e){"200"===e.code&&(t.orderDetailsDialog1.responseReturnGoodList=e.data)}).catch(function(e){console.log(e)});case 14:return t.orderDetailsDialog1.isShow=!0,a.abrupt("break",22);case 16:return a.next=18,Object(n.O)(r).then(function(e){"200"===e.code&&(t.orderDetailsDialog3.responseData=e.data)});case 18:return a.next=20,Object(n.P)(i).then(function(e){"200"===e.code&&(t.orderDetailsDialog3.responseGoodList=e.data,t.orderDetailsDialog3.isShow=!0)});case 20:case 21:return a.abrupt("break",22);case 22:case"end":return a.stop()}},a,t)}))()},responseDataOnePageCurrentChange:function(e){this.requestData.page=e,this.getOrdersList()},pageSizeChange:function(e){this.requestData.limit=e,this.getOrdersList()},getOrdersList:function(){switch(this.requestData.type){case"1":this.getOrderList();break;case"2":this.getServiceCardOrderList();break;case"3":this.getOrderList();break;case"4":this.getTimeMoneyList()}},chooseTime:function(e){if(e===this.requestData.timeBtnValue)return this.requestData.timeBtnValue=0,this.requestData.date=[],this.requestData.startTime="",void(this.requestData.endTime="");switch(this.requestData.timeBtnValue=e,e){case 1:this.requestData.startTime=Object(o.a)((new Date).getTime()),this.requestData.endTime=Object(o.a)((new Date).getTime()),this.requestData.date=[];break;case 2:this.requestData.startTime=Object(o.a)((new Date).getTime()-864e5),this.requestData.endTime=Object(o.a)((new Date).getTime()-864e5),this.requestData.date=[];break;case 3:var t=Object(o.d)();this.requestData.startTime=t[0],this.requestData.endTime=t[1],this.requestData.date=[]}},chooseTimeDIY:function(){this.requestData.startTime="",this.requestData.endTime="",this.requestData.timeBtnValue=0},handleClick:function(){this.requestData.page=1,this.requestData.status="",this.requestData.timeBtnValue=0,this.requestData.date=[],this.requestData.startTime="",this.requestData.endTime="",this.requestData.search="",this.requestData.waiter_id="",this.requestData.pay_way="",this.requestData4.sn="",this.requestData4.mobile="",this.requestData4.member="",this.getOrdersList()},getWaiterList:function(){var e=this;return l()(s.a.mark(function t(){return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(n._25)(null).then(function(t){t.data.length&&(e.waiter=t.data)}).catch(function(e){console.log(e)});case 2:case"end":return t.stop()}},t,e)}))()},getMemberInfo:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.memberInfoDialog.isShow=!0;var a={id:t,member_id:t};Object(n.C)(a).then(function(t){e.memberInfoDialog.memberInfo=t.data}).catch(function(e){console.log(e)})},getWaiterInfo:function(e){var t=this;return l()(s.a.mark(function a(){return s.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(n.U)({id:e}).then(function(e){t.waiterInfoDialog.waiterInfo=e.data,t.waiterInfoDialog.isShow=!0}).catch(function(e){console.log(e)});case 2:case"end":return a.stop()}},a,t)}))()},getOrderList:function(){var e=this;return l()(s.a.mark(function t(){var a;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a={pay_way:e.requestData.pay_way,waiter_id:e.requestData.waiter_id,status:e.requestData.status,goods_type:e.requestData.goods_type,start_time:e.requestData.date.length?e.requestData.date[0]:e.requestData.startTime,end_time:e.requestData.date.length?e.requestData.date[1]:e.requestData.endTime,search:e.requestData.search,type:e.requestData.type,page:e.requestData.page,limit:e.requestData.limit},t.next=3,Object(n.R)(a).then(function(t){if("200"===t.code&&t.data)switch(e.requestData.type){case"1":e.responseData1=t;break;case"3":e.responseData3=t}});case 3:case"end":return t.stop()}},t,e)}))()},showDoorShopOrderReturnDialog:function(e){var t=this;return l()(s.a.mark(function a(){return s.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return t.returnOrderDialog1.responseGoodsData=[],t.returnOrderDialog1.multipleSelection=[],t.returnOrderDialog1.id=e,a.next=5,Object(n.T)({order_id:e}).then(function(e){"200"===e.code&&e.data&&(e.data.map(function(e){e.my_return_num="",e.my_return_price=""}),t.returnOrderDialog1.responseGoodsData=e.data,t.returnOrderDialog1.isShow=!0)});case 5:case"end":return a.stop()}},a,t)}))()},choosesHandleSelectionChange:function(e){this.returnOrderDialog1.multipleSelection=e},returnResultChange:function(e){var t=this;this.returnOrderDialog1.returnOrderResult.map(function(a){a.id===e&&(t.returnOrderDialog1.reason=e?a.name:"")})},showDoorShopOrderReturnConfirm:function(){var e=this;return l()(s.a.mark(function t(){var a,r,i,l,o;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:a=[],r=0,i=0;case 3:if(!(i<e.returnOrderDialog1.multipleSelection.length)){t.next=18;break}if(/^[0-9]*[1-9][0-9]*$/.test(e.returnOrderDialog1.multipleSelection[i].my_return_num)&&!(e.returnOrderDialog1.multipleSelection[i].my_return_num>e.returnOrderDialog1.multipleSelection[i].refund_num)){t.next=8;break}return e.$message.closeAll(),e.$message({message:"【"+e.returnOrderDialog1.multipleSelection[i].subtitle+"】商品的退货数量有误！",type:"error"}),t.abrupt("return");case 8:if(e.returnOrderDialog1.multipleSelection[i].my_return_price>=0&&e.returnOrderDialog1.multipleSelection[i].my_return_price<=e.returnOrderDialog1.multipleSelection[i].refund_price){t.next=12;break}return e.$message.closeAll(),e.$message({message:"【"+e.returnOrderDialog1.multipleSelection[i].subtitle+"】商品的退货单价有误！",type:"error"}),t.abrupt("return");case 12:l={refund_id:e.returnOrderDialog1.multipleSelection[i].s_id,refund_price:e.returnOrderDialog1.multipleSelection[i].my_return_price,refund_num:e.returnOrderDialog1.multipleSelection[i].my_return_num,is_service_goods:e.returnOrderDialog1.multipleSelection[i].is_service_goods},r+=parseFloat(e.returnOrderDialog1.multipleSelection[i].my_return_price)*parseFloat(e.returnOrderDialog1.multipleSelection[i].my_return_num),a.push(l);case 15:i++,t.next=3;break;case 18:if((o={order_id:e.returnOrderDialog1.id,remarks:e.returnOrderDialog1.remarks,reason:e.returnOrderDialog1.reason,data:a,money:r,type:e.returnOrderDialog1.type}).data.length){t.next=23;break}return e.$message.closeAll(),e.$message({message:"请选择要退货的商品",type:"error"}),t.abrupt("return");case 23:if(o.type){t.next=27;break}return e.$message.closeAll(),e.$message({message:"请选择退款方式",type:"error"}),t.abrupt("return");case 27:if(o.reason||o.remarks){t.next=31;break}return e.$message.closeAll(),e.$message({message:"请选填退款原因或备注",type:"error"}),t.abrupt("return");case 31:return t.next=33,Object(n.S)(o).then(function(t){e.returnOrderDialog1.isShow=!1,"200"===t.code&&(e.$message({message:t.msg,type:"success"}),setTimeout(function(){e.getOrdersList()},1e3))});case 33:e.returnOrderDialog1.remarks="",e.returnOrderDialog1.type="",e.returnOrderDialog1.reason="",e.returnOrderDialog1.reason_id="";case 37:case"end":return t.stop()}},t,e)}))()},getServiceCardOrderList:function(){var e=this;return l()(s.a.mark(function t(){var a;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:a={pay_way:e.requestData.pay_way,waiter_id:e.requestData.waiter_id,status:e.requestData.status,start_time:e.requestData.date.length?e.requestData.date[0]:e.requestData.startTime,end_time:e.requestData.date.length?e.requestData.date[1]:e.requestData.endTime,search:e.requestData.search,page:e.requestData.page,limit:e.requestData.limit},Object(n.Y)(a).then(function(t){e.responseData2.count=t.count,e.responseData2.data=t.data.length?t.data:[]});case 2:case"end":return t.stop()}},t,e)}))()},showServiceCardDialog:function(e){var t=this;return l()(s.a.mark(function a(){return s.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return t.returnOrderDialog2.requestData.id=e,a.next=3,Object(n.V)({id:e}).then(function(e){"200"===e.code&&(t.returnOrderDialog2.responseData=e.data)});case 3:t.returnOrderDialog2.isShow=!0;case 4:case"end":return a.stop()}},a,t)}))()},serviceCardReturn:function(){var e=this;return l()(s.a.mark(function t(){var a;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if((a={id:e.returnOrderDialog2.requestData.id,type:e.returnOrderDialog2.requestData.type,reason:e.returnOrderDialog2.requestData.reason,remarks:e.returnOrderDialog2.requestData.remarks}).type){t.next=5;break}return e.$message.closeAll(),e.$message({message:"请选择退款方式",type:"error"}),t.abrupt("return");case 5:if(a.reason||a.remarks){t.next=9;break}return e.$message.closeAll(),e.$message({message:"请选填退款原因或备注",type:"error"}),t.abrupt("return");case 9:return t.next=11,Object(n.W)(a).then(function(t){"200"===t.code&&(e.$message({message:t.msg,type:"success"}),setTimeout(function(){e.getOrdersList()},1e3))});case 11:e.returnOrderDialog2.requestData.id="",e.returnOrderDialog2.requestData.type="",e.returnOrderDialog2.requestData.reason="",e.returnOrderDialog2.requestData.remarks="",e.returnOrderDialog2.isShow=!1;case 16:case"end":return t.stop()}},t,e)}))()},serviceCardReturnResultChange:function(e){var t=this;this.returnOrderDialog2.returnOrderResult.map(function(a){a.id===e&&(t.returnOrderDialog2.requestData.reason=e?a.name:"")})},showServiceCardReturnDetailDialog:function(e){var t=this;return l()(s.a.mark(function a(){return s.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(n.Z)({id:e.order_id}).then(function(e){"200"===e.code&&(t.returnDetailDialog2.responseData=e.data,t.returnDetailDialog2.isShow=!0)});case 2:case"end":return a.stop()}},a,t)}))()},getTimeMoneyList:function(){var e=this;return l()(s.a.mark(function t(){var a;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:a={start_time:e.requestData.date.length?e.requestData.date[0]:e.requestData.startTime,end_time:e.requestData.date.length?e.requestData.date[1]:e.requestData.endTime,page:e.requestData.page,limit:e.requestData.limit,sn:e.requestData4.sn,member:e.requestData4.member,mobile:e.requestData4.mobile},Object(n._10)(a).then(function(t){e.responseData4.count=t.count,e.responseData4.data=t.data.length?t.data:[]});case 2:case"end":return t.stop()}},t,e)}))()},timeMoneyDetails:function(e){var t=this;return l()(s.a.mark(function a(){return s.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:Object(n._9)({id:e}).then(function(e){"200"==e.code&&(t.responseDataDetailsDialog4.responseData=e.data,t.responseDataDetailsDialog4.isShow=!0)});case 1:case"end":return a.stop()}},a,t)}))()}},mounted:function(){this.getOrderList(),this.getWaiterList()}},c={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"order-manage-page"},[a("el-tabs",{on:{"tab-click":e.handleClick},model:{value:e.requestData.type,callback:function(t){e.$set(e.requestData,"type",t)},expression:"requestData.type"}},[a("el-tab-pane",{attrs:{label:"门店订单",name:"1"}},[a("div",{staticClass:"search-condition"},[a("div",{staticClass:"select"},[a("el-select",{attrs:{clearable:"",placeholder:"选择服务人员"},model:{value:e.requestData.waiter_id,callback:function(t){e.$set(e.requestData,"waiter_id",t)},expression:"requestData.waiter_id"}},e._l(e.waiter,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1)],1),e._v(" "),a("div",{staticClass:"select"},[a("el-select",{attrs:{clearable:"",placeholder:"选中支付方式"},model:{value:e.requestData.pay_way,callback:function(t){e.$set(e.requestData,"pay_way",t)},expression:"requestData.pay_way"}},e._l(e.payWayList1,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1)],1),e._v(" "),a("div",{staticClass:"select",staticStyle:{width:"148px"}},[a("el-select",{attrs:{clearable:"",placeholder:"选择状态"},model:{value:e.requestData.status,callback:function(t){e.$set(e.requestData,"status",t)},expression:"requestData.status"}},e._l(e.orderStatus,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1)],1),e._v(" "),a("div",{staticClass:"select",staticStyle:{width:"148px"}},[a("el-select",{attrs:{clearable:"",placeholder:"选择商品类型"},model:{value:e.requestData.goods_type,callback:function(t){e.$set(e.requestData,"goods_type",t)},expression:"requestData.goods_type"}},e._l(e.goodsType,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1)],1),e._v(" "),a("div",{staticClass:"select",staticStyle:{width:"368px",height:"48px"}},[a("el-input",{attrs:{placeholder:"请输入需查询的会员手机号/订单号",clearable:""},model:{value:e.requestData.search,callback:function(t){e.$set(e.requestData,"search",t)},expression:"requestData.search"}})],1)]),e._v(" "),a("div",{staticClass:"search-btns"},[a("span",{staticClass:"span"},[e._v("筛选")]),e._v(" "),a("el-button-group",{staticClass:"btns"},[a("el-button",{staticClass:"btn",class:{active:1===e.requestData.timeBtnValue},on:{click:function(t){return e.chooseTime(1)}}},[e._v("今日")]),e._v(" "),a("el-button",{staticClass:"btn",class:{active:2===e.requestData.timeBtnValue},on:{click:function(t){return e.chooseTime(2)}}},[e._v("昨日")]),e._v(" "),a("el-button",{staticClass:"btn",class:{active:3===e.requestData.timeBtnValue},on:{click:function(t){return e.chooseTime(3)}}},[e._v("本周")])],1),e._v(" "),a("el-date-picker",{attrs:{type:"daterange","range-separator":"至","value-format":"yyyy-MM-dd","start-placeholder":"开始日期","end-placeholder":"结束日期"},on:{focus:e.chooseTimeDIY},model:{value:e.requestData.date,callback:function(t){e.$set(e.requestData,"date",t)},expression:"requestData.date"}}),e._v(" "),a("div",{staticClass:"select",staticStyle:{"margin-left":"20px"}},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.requestData.page=1,e.getOrdersList()}}},[e._v("搜索")])],1)],1),e._v(" "),a("div",{staticClass:"serch-table"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.responseData1.data,border:"",height:"565"}},[a("el-table-column",{attrs:{label:"订单信息",width:"300px"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{domProps:{innerHTML:e._s(t.row.message)}})]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"商品信息"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{domProps:{innerHTML:e._s(t.row.item_list)}})]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"商品价格"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{domProps:{innerHTML:e._s(t.row.price_list)}})]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"购买数量",width:"80px"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{domProps:{innerHTML:e._s(t.row.num_list)}})]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"amount",label:"付款金额",width:"100px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"overtime",label:"交易时间",width:"155px"}}),e._v(" "),a("el-table-column",{attrs:{label:"服务人员"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{domProps:{innerHTML:e._s(t.row.waiter_list)}})]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"order_status",label:"状态",width:"70px"}}),e._v(" "),a("el-table-column",{attrs:{label:"订单来源"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{directives:[{name:"show",rawName:"v-show",value:0===t.row.is_online,expression:"scope.row.is_online === 0"}]},[e._v("门店订单")]),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:1===t.row.is_online,expression:"scope.row.is_online === 1"}]},[e._v("线上商城订单")])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[-6!==t.row.status&&1!==t.row.is_online?a("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(a){return e.showDoorShopOrderReturnDialog(t.row.id)}}},[e._v("退单")]):e._e(),e._v(" "),a("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(a){return e.showOrderDetails(t.row.id)}}},[e._v("订单详情")])]}}])})],1)],1),e._v(" "),a("div",{staticClass:"footer"},[a("el-pagination",{attrs:{background:"",layout:"total, sizes, prev, pager, next, jumper","page-sizes":[10,20,30,40],"page-size":e.requestData.limit,"current-page":e.requestData.page,total:e.responseData1.count},on:{"size-change":e.pageSizeChange,"current-change":e.responseDataOnePageCurrentChange,"update:currentPage":function(t){return e.$set(e.requestData,"page",t)},"update:current-page":function(t){return e.$set(e.requestData,"page",t)}}})],1)]),e._v(" "),a("el-tab-pane",{attrs:{label:"充值订单",name:"3"}},[a("div",{staticClass:"search-condition"},[a("div",{staticClass:"select"},[a("el-select",{attrs:{clearable:"",placeholder:"选择服务人员"},model:{value:e.requestData.waiter_id,callback:function(t){e.$set(e.requestData,"waiter_id",t)},expression:"requestData.waiter_id"}},e._l(e.waiter,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1)],1),e._v(" "),a("div",{staticClass:"select"},[a("el-select",{attrs:{clearable:"",placeholder:"选中支付方式"},model:{value:e.requestData.pay_way,callback:function(t){e.$set(e.requestData,"pay_way",t)},expression:"requestData.pay_way"}},e._l(e.payWayList3,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1)],1),e._v(" "),a("div",{staticClass:"select",staticStyle:{width:"368px",height:"48px"}},[a("el-input",{attrs:{placeholder:"请输入需查询的会员手机号/订单号",clearable:""},model:{value:e.requestData.search,callback:function(t){e.$set(e.requestData,"search",t)},expression:"requestData.search"}})],1)]),e._v(" "),a("div",{staticClass:"search-btns"},[a("span",{staticClass:"span"},[e._v("筛选")]),e._v(" "),a("el-button-group",{staticClass:"btns"},[a("el-button",{staticClass:"btn",class:{active:1===e.requestData.timeBtnValue},on:{click:function(t){return e.chooseTime(1)}}},[e._v("今日")]),e._v(" "),a("el-button",{staticClass:"btn",class:{active:2===e.requestData.timeBtnValue},on:{click:function(t){return e.chooseTime(2)}}},[e._v("昨日")]),e._v(" "),a("el-button",{staticClass:"btn",class:{active:3===e.requestData.timeBtnValue},on:{click:function(t){return e.chooseTime(3)}}},[e._v("本周")])],1),e._v(" "),a("el-date-picker",{attrs:{type:"daterange","range-separator":"至","value-format":"yyyy-MM-dd","start-placeholder":"开始日期","end-placeholder":"结束日期"},on:{focus:e.chooseTimeDIY},model:{value:e.requestData.date,callback:function(t){e.$set(e.requestData,"date",t)},expression:"requestData.date"}}),e._v(" "),a("div",{staticClass:"select",staticStyle:{"margin-left":"20px"}},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.requestData.page=1,e.getOrdersList()}}},[e._v("搜索")])],1)],1),e._v(" "),a("div",{staticClass:"serch-table"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.responseData3.data,border:"",height:"565"}},[a("el-table-column",{attrs:{prop:"sn",label:"订单号"}}),e._v(" "),a("el-table-column",{attrs:{prop:"nickname",label:"昵称"}}),e._v(" "),a("el-table-column",{attrs:{label:"会员账号"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return e.getMemberInfo(t.row.member_id)}}},[e._v(e._s(t.row.mobile))])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"amount",label:"充值金额"}}),e._v(" "),a("el-table-column",{attrs:{prop:"pay_way",label:"付款方式"}}),e._v(" "),a("el-table-column",{attrs:{prop:"overtime",label:"交易时间"}}),e._v(" "),a("el-table-column",{attrs:{prop:"waiter",label:"服务人员"}}),e._v(" "),a("el-table-column",{attrs:{label:"充值来源"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{directives:[{name:"show",rawName:"v-show",value:0===t.row.is_online,expression:"scope.row.is_online === 0"}]},[e._v("门店充值")]),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:1===t.row.is_online,expression:"scope.row.is_online === 1"}]},[e._v("线上商城充值")])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(a){return e.showOrderDetails(t.row.id)}}},[e._v("订单详情")])]}}])})],1)],1),e._v(" "),a("div",{staticClass:"footer"},[a("el-pagination",{attrs:{background:"",layout:"total, sizes, prev, pager, next, jumper","page-sizes":[10,20,30,40],"page-size":e.requestData.limit,"current-page":e.requestData.page,total:e.responseData3.count},on:{"size-change":e.pageSizeChange,"current-change":e.responseDataOnePageCurrentChange,"update:currentPage":function(t){return e.$set(e.requestData,"page",t)},"update:current-page":function(t){return e.$set(e.requestData,"page",t)}}})],1)]),e._v(" "),a("el-tab-pane",{attrs:{label:"服务卡订单",name:"2"}},[a("div",{staticClass:"search-condition"},[a("div",{staticClass:"select"},[a("el-select",{attrs:{clearable:"",placeholder:"选择服务人员"},model:{value:e.requestData.waiter_id,callback:function(t){e.$set(e.requestData,"waiter_id",t)},expression:"requestData.waiter_id"}},e._l(e.waiter,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1)],1),e._v(" "),a("div",{staticClass:"select"},[a("el-select",{attrs:{clearable:"",placeholder:"选中支付方式"},model:{value:e.requestData.pay_way,callback:function(t){e.$set(e.requestData,"pay_way",t)},expression:"requestData.pay_way"}},e._l(e.payWayList2,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1)],1),e._v(" "),a("div",{staticClass:"select",staticStyle:{width:"148px"}},[a("el-select",{attrs:{clearable:"",placeholder:"选择状态"},model:{value:e.requestData.status,callback:function(t){e.$set(e.requestData,"status",t)},expression:"requestData.status"}},e._l(e.orderStatusServiceCardOrder,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1)],1),e._v(" "),a("div",{staticClass:"select",staticStyle:{width:"368px",height:"48px"}},[a("el-input",{attrs:{placeholder:"请输入需查询的会员手机号/订单号",clearable:""},model:{value:e.requestData.search,callback:function(t){e.$set(e.requestData,"search",t)},expression:"requestData.search"}})],1)]),e._v(" "),a("div",{staticClass:"search-btns"},[a("span",{staticClass:"span"},[e._v("筛选")]),e._v(" "),a("el-button-group",{staticClass:"btns"},[a("el-button",{staticClass:"btn",class:{active:1===e.requestData.timeBtnValue},on:{click:function(t){return e.chooseTime(1)}}},[e._v("今日")]),e._v(" "),a("el-button",{staticClass:"btn",class:{active:2===e.requestData.timeBtnValue},on:{click:function(t){return e.chooseTime(2)}}},[e._v("昨日")]),e._v(" "),a("el-button",{staticClass:"btn",class:{active:3===e.requestData.timeBtnValue},on:{click:function(t){return e.chooseTime(3)}}},[e._v("本周")])],1),e._v(" "),a("el-date-picker",{attrs:{type:"daterange","range-separator":"至","value-format":"yyyy-MM-dd","start-placeholder":"开始日期","end-placeholder":"结束日期"},on:{focus:e.chooseTimeDIY},model:{value:e.requestData.date,callback:function(t){e.$set(e.requestData,"date",t)},expression:"requestData.date"}}),e._v(" "),a("div",{staticClass:"select",staticStyle:{"margin-left":"20px"}},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.requestData.page=1,e.getOrdersList()}}},[e._v("搜索")])],1)],1),e._v(" "),a("div",{staticClass:"serch-table"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.responseData2.data,border:"",height:"565"}},[a("el-table-column",{attrs:{prop:"sn",label:"订单号"}}),e._v(" "),a("el-table-column",{attrs:{label:"会员账号"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return e.getMemberInfo(t.row.member_id)}}},[e._v(e._s(t.row.mobile))])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"real_price",label:"付款金额"}}),e._v(" "),a("el-table-column",{attrs:{prop:"pay_way",label:"付款方式"}}),e._v(" "),a("el-table-column",{attrs:{prop:"overtime",label:"交易时间"}}),e._v(" "),a("el-table-column",{attrs:{label:"服务人员"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return e.getWaiterInfo(t.row.waiter_id)}}},[e._v(e._s(t.row.waiter))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"使用情况"},scopedSlots:e._u([{key:"default",fn:function(t){return[0===t.row.status?a("span",[e._v("未激活")]):e._e(),e._v(" "),1===t.row.status?a("span",[e._v("待使用")]):e._e(),e._v(" "),2===t.row.status?a("span",[e._v("已使用")]):e._e(),e._v(" "),3===t.row.status?a("span",[e._v("已过期")]):e._e(),e._v(" "),4===t.row.status?a("span",[e._v("已退卡")]):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"o_status",label:"状态"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[4===t.row.status?a("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(a){return e.showServiceCardReturnDetailDialog(t.row)}}},[e._v("退单详情")]):e._e(),e._v(" "),t.row.refund?a("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(a){return e.showServiceCardDialog(t.row.id)}}},[e._v("退单")]):e._e()]}}])})],1)],1),e._v(" "),a("div",{staticClass:"footer"},[a("el-pagination",{attrs:{background:"",layout:"total, sizes, prev, pager, next, jumper","page-sizes":[10,20,30,40],"page-size":e.requestData.limit,"current-page":e.requestData.page,total:e.responseData2.count},on:{"size-change":e.pageSizeChange,"current-change":e.responseDataOnePageCurrentChange,"update:currentPage":function(t){return e.$set(e.requestData,"page",t)},"update:current-page":function(t){return e.$set(e.requestData,"page",t)}}})],1)]),e._v(" "),a("el-tab-pane",{attrs:{label:"限时余额过期",name:"4"}},[a("div",{staticClass:"search-condition"},[a("div",{staticClass:"select",staticStyle:{width:"368px",height:"48px"}},[a("el-input",{attrs:{placeholder:"请输入需查询的订单号",clearable:""},model:{value:e.requestData4.sn,callback:function(t){e.$set(e.requestData4,"sn",t)},expression:"requestData4.sn"}})],1),e._v(" "),a("div",{staticClass:"select",staticStyle:{width:"368px",height:"48px"}},[a("el-input",{attrs:{placeholder:"请输入需查询的会员昵称",clearable:""},model:{value:e.requestData4.member,callback:function(t){e.$set(e.requestData4,"member",t)},expression:"requestData4.member"}})],1),e._v(" "),a("div",{staticClass:"select",staticStyle:{width:"368px",height:"48px"}},[a("el-input",{attrs:{placeholder:"请输入需查询的会员手机号",clearable:""},model:{value:e.requestData4.mobile,callback:function(t){e.$set(e.requestData4,"mobile",t)},expression:"requestData4.mobile"}})],1)]),e._v(" "),a("div",{staticClass:"search-btns"},[a("span",{staticClass:"span"},[e._v("筛选")]),e._v(" "),a("el-button-group",{staticClass:"btns"},[a("el-button",{staticClass:"btn",class:{active:1===e.requestData.timeBtnValue},on:{click:function(t){return e.chooseTime(1)}}},[e._v("今日")]),e._v(" "),a("el-button",{staticClass:"btn",class:{active:2===e.requestData.timeBtnValue},on:{click:function(t){return e.chooseTime(2)}}},[e._v("昨日")]),e._v(" "),a("el-button",{staticClass:"btn",class:{active:3===e.requestData.timeBtnValue},on:{click:function(t){return e.chooseTime(3)}}},[e._v("本周")])],1),e._v(" "),a("el-date-picker",{attrs:{type:"daterange","range-separator":"至","value-format":"yyyy-MM-dd","start-placeholder":"开始日期","end-placeholder":"结束日期"},on:{focus:e.chooseTimeDIY},model:{value:e.requestData.date,callback:function(t){e.$set(e.requestData,"date",t)},expression:"requestData.date"}}),e._v(" "),a("div",{staticClass:"select",staticStyle:{"margin-left":"20px"}},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.requestData.page=1,e.getOrdersList()}}},[e._v("搜索")])],1)],1),e._v(" "),a("div",{staticClass:"serch-table"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.responseData4.data,border:"",height:"565"}},[a("el-table-column",{attrs:{prop:"sn",label:"订单号"}}),e._v(" "),a("el-table-column",{attrs:{label:"会员账号"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return e.getMemberInfo(t.row.member_id)}}},[e._v(e._s(t.row.mobile))])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"mobile",label:"手机号码"}}),e._v(" "),a("el-table-column",{attrs:{prop:"price",label:"过期金额"}}),e._v(" "),a("el-table-column",{attrs:{prop:"pay_way",label:"付款方式"}}),e._v(" "),a("el-table-column",{attrs:{prop:"craete_time",label:"结算时间"}}),e._v(" "),a("el-table-column",{attrs:{prop:"remarks",label:"备注"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(a){return e.timeMoneyDetails(t.row.id)}}},[e._v("查看详情")])]}}])})],1)],1),e._v(" "),a("div",{staticClass:"footer"},[a("el-pagination",{attrs:{background:"",layout:"total, sizes, prev, pager, next, jumper","page-sizes":[10,20,30,40],"page-size":e.requestData.limit,"current-page":e.requestData.page,total:e.responseData4.count},on:{"size-change":e.pageSizeChange,"current-change":e.responseDataOnePageCurrentChange,"update:currentPage":function(t){return e.$set(e.requestData,"page",t)},"update:current-page":function(t){return e.$set(e.requestData,"page",t)}}})],1)])],1),e._v(" "),a("el-dialog",{staticClass:"order-details-dialog",attrs:{title:"充值订单详情",visible:e.responseDataDetailsDialog4.isShow,width:"500px",center:!0},on:{"update:visible":function(t){return e.$set(e.responseDataDetailsDialog4,"isShow",t)}}},[a("div",{staticStyle:{"max-height":"400px","overflow-y":"auto"}},e._l(e.responseDataDetailsDialog4.responseData.list,function(t){return a("div",[a("div",{staticClass:"title"},[e._v("限时余额流水记录")]),e._v(" "),a("div",{staticClass:"content clear-both"},[a("div",{staticClass:"float-left"},[e._v("记录标题："+e._s(t.title))]),e._v(" "),a("div",{staticClass:"float-right"},[e._v("记录金额："+e._s(t.money))])]),e._v(" "),a("div",{staticClass:"content clear-both"},[a("div",{staticClass:"float-left"},[e._v("记录时间："+e._s(t.create_time))])])])}),0)]),e._v(" "),a("el-dialog",{staticClass:"order-manage-page-member-info",attrs:{title:"会员详情",visible:e.memberInfoDialog.isShow,width:"280px",center:!0},on:{"update:visible":function(t){return e.$set(e.memberInfoDialog,"isShow",t)}}},[a("div",[a("div",{staticClass:"content"},[e._v("\n              会员昵称："+e._s(e.memberInfoDialog.memberInfo.nickname)+"\n            ")]),e._v(" "),a("div",{staticClass:"content"},[e._v("\n              手机号码："+e._s(e.memberInfoDialog.memberInfo.mobile)+"\n            ")]),e._v(" "),a("div",{staticClass:"content"},[e._v("\n              所属门店："+e._s(e.memberInfoDialog.memberInfo.shop_code)+"\n            ")]),e._v(" "),a("div",{staticClass:"content"},[e._v("\n              会员等级："+e._s(e.memberInfoDialog.memberInfo.level)+"\n            ")]),e._v(" "),a("div",{staticClass:"content"},[e._v("\n              加入时间："+e._s(e.memberInfoDialog.memberInfo.addtime)+"\n            ")])])]),e._v(" "),a("el-dialog",{staticClass:"order-manage-page-member-info",attrs:{title:"服务人员详情",visible:e.waiterInfoDialog.isShow,width:"280px",center:!0},on:{"update:visible":function(t){return e.$set(e.waiterInfoDialog,"isShow",t)}}},[a("div",[a("div",{staticClass:"content"},[e._v("\n            员工姓名："+e._s(e.waiterInfoDialog.waiterInfo.name)+"\n          ")]),e._v(" "),a("div",{staticClass:"content"},[e._v("\n            手机号码："+e._s(e.waiterInfoDialog.waiterInfo.mobile)+"\n          ")]),e._v(" "),a("div",{staticClass:"content"},[e._v("\n            所属门店："+e._s(e.waiterInfoDialog.waiterInfo.shop)+"\n          ")]),e._v(" "),a("div",{staticClass:"content"},[e._v("\n            所属职位："+e._s(e.waiterInfoDialog.waiterInfo.type)+"\n          ")]),e._v(" "),a("div",{staticClass:"content"},[e._v("\n            入职时间："+e._s(e.waiterInfoDialog.waiterInfo.addtime)+"\n          ")])])]),e._v(" "),a("el-dialog",{staticClass:"order-details-dialog",attrs:{title:"商品订单详情",visible:e.orderDetailsDialog1.isShow,width:"968px",center:!0},on:{"update:visible":function(t){return e.$set(e.orderDetailsDialog1,"isShow",t)}}},[a("div",[a("div",[a("div",{staticClass:"title"},[e._v("订单信息")]),e._v(" "),a("div",{staticClass:"content clear-both"},[a("div",{staticClass:"float-left"},[e._v("交易时间："+e._s(e.orderDetailsDialog1.responseData.time))]),e._v(" "),a("div",{staticClass:"float-right"},[e._v("交易门店："+e._s(e.orderDetailsDialog1.responseData.is_online))])])]),e._v(" "),a("div",[a("div",{staticClass:"title"},[e._v("收款信息")]),e._v(" "),a("div",{staticClass:"content clear-both"},[a("div",{staticClass:"float-left"},[e._v("应收金额："+e._s(e.orderDetailsDialog1.responseData.old_amount))]),e._v(" "),a("div",{staticClass:"float-right"},[e._v("实收金额："+e._s(e.orderDetailsDialog1.responseData.amount))])]),e._v(" "),a("div",{staticClass:"content clear-both"},[a("div",{staticClass:"float-left"},[e._v("收款方式："+e._s(e.orderDetailsDialog1.responseData.pay_way))])])]),e._v(" "),e.orderDetailsDialog1.responseData.member_id?a("div",[a("div",{staticClass:"title"},[e._v("会员信息")]),e._v(" "),a("div",{staticClass:"content clear-both"},[a("div",{staticClass:"float-left"},[e._v("会员账号："+e._s(e.orderDetailsDialog1.responseData.member?e.orderDetailsDialog1.responseData.member.mobile:""))]),e._v(" "),a("div",{staticClass:"float-right"},[e._v("会员昵称："+e._s(e.orderDetailsDialog1.responseData.member?e.orderDetailsDialog1.responseData.member.nickname:""))])]),e._v(" "),a("div",{staticClass:"content clear-both"},[a("div",{staticClass:"float-left"},[e._v("会员等级："+e._s(e.orderDetailsDialog1.responseData.member?e.orderDetailsDialog1.responseData.member.level_name:""))]),e._v(" "),a("div",{staticClass:"float-right"},[e._v("会员余额："+e._s(e.orderDetailsDialog1.responseData.member?e.orderDetailsDialog1.responseData.member.money:""))])])]):e._e(),e._v(" "),a("div",[a("div",{staticClass:"title"},[e._v("商品信息")]),e._v(" "),a("div",[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.orderDetailsDialog1.responseGoodList,border:"","max-height":"250"}},[a("el-table-column",{attrs:{prop:"title",label:"商品名称",width:"180"}}),e._v(" "),a("el-table-column",{attrs:{prop:"num",label:"数量",width:"180"}}),e._v(" "),a("el-table-column",{attrs:{prop:"cost_price",label:"成本价"}}),e._v(" "),a("el-table-column",{attrs:{prop:"price",label:"单价",width:"180"}}),e._v(" "),a("el-table-column",{attrs:{prop:"all_price",label:"付款价格"}})],1)],1)]),e._v(" "),e.orderDetailsDialog1.responseReturnGoodList.length?a("div",[a("div",{staticClass:"title"},[e._v("退单信息")]),e._v(" "),a("div",[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.orderDetailsDialog1.responseReturnGoodList,border:"","max-height":"250"}},[a("el-table-column",{attrs:{prop:"r_sn",label:"退货订单号"}}),e._v(" "),a("el-table-column",{attrs:{prop:"r_number",label:"退货数量"}}),e._v(" "),a("el-table-column",{attrs:{prop:"r_amount",label:"退货总金额"}}),e._v(" "),a("el-table-column",{attrs:{prop:"add_time",label:"申请时间"}}),e._v(" "),a("el-table-column",{attrs:{prop:"dealwith_time",label:"处理时间"}}),e._v(" "),a("el-table-column",{attrs:{prop:"r_status",label:"状态"}}),e._v(" "),a("el-table-column",{attrs:{prop:"reason",label:"原因"}}),e._v(" "),a("el-table-column",{attrs:{prop:"remarks",label:"备注"}})],1)],1)]):e._e()])]),e._v(" "),a("el-dialog",{staticClass:"order-details-dialog",attrs:{title:"退款处理",visible:e.returnOrderDialog1.isShow,width:"968px",center:!0},on:{"update:visible":function(t){return e.$set(e.returnOrderDialog1,"isShow",t)}}},[a("div",[a("div",[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.returnOrderDialog1.responseGoodsData,border:""},on:{"selection-change":e.choosesHandleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),e._v(" "),a("el-table-column",{attrs:{prop:"subtitle",label:"商品名称"}}),e._v(" "),a("el-table-column",{attrs:{prop:"num",label:"商品购买数量"}}),e._v(" "),a("el-table-column",{attrs:{prop:"real_price",label:"商品成交价格"}}),e._v(" "),a("el-table-column",{attrs:{prop:"refund_price",label:"最高可退货单价"}}),e._v(" "),a("el-table-column",{attrs:{label:"请输入退货单价"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{model:{value:t.row.my_return_price,callback:function(a){e.$set(t.row,"my_return_price",a)},expression:"scope.row.my_return_price"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"refund_num",label:"最高可退货数量"}}),e._v(" "),a("el-table-column",{attrs:{label:"请输入退货数量"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{model:{value:t.row.my_return_num,callback:function(a){e.$set(t.row,"my_return_num",a)},expression:"scope.row.my_return_num"}})]}}])})],1)],1),e._v(" "),a("div",{staticStyle:{"margin-top":"20px"}},[a("el-form",{ref:"form",attrs:{"label-width":"100px","label-position":"left"}},[a("el-form-item",{attrs:{label:"退款方式",required:""}},[a("el-radio-group",{model:{value:e.returnOrderDialog1.type,callback:function(t){e.$set(e.returnOrderDialog1,"type",t)},expression:"returnOrderDialog1.type"}},[a("el-radio",{attrs:{label:"cash"}},[e._v("现金退款")]),e._v(" "),a("el-radio",{attrs:{label:"balance"}},[e._v("余额退款")]),e._v(" "),a("el-radio",{attrs:{label:"card"}},[e._v("银行卡")])],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"退货原因:",required:""}},[a("el-select",{attrs:{placeholder:"选择退货原因"},on:{change:e.returnResultChange},model:{value:e.returnOrderDialog1.reason_id,callback:function(t){e.$set(e.returnOrderDialog1,"reason_id",t)},expression:"returnOrderDialog1.reason_id"}},e._l(e.returnOrderDialog1.returnOrderResult,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1)],1),e._v(" "),0===e.returnOrderDialog1.reason_id?a("el-form-item",{attrs:{label:"其他原因:",required:""}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入其他原因"},model:{value:e.returnOrderDialog1.reason,callback:function(t){e.$set(e.returnOrderDialog1,"reason",t)},expression:"returnOrderDialog1.reason"}})],1):e._e(),e._v(" "),a("el-form-item",{attrs:{label:"备注:",required:""}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入备注信息"},model:{value:e.returnOrderDialog1.remarks,callback:function(t){e.$set(e.returnOrderDialog1,"remarks",t)},expression:"returnOrderDialog1.remarks"}})],1)],1)],1),e._v(" "),a("div",{staticStyle:{"margin-top":"20px",height:"50px","text-align":"center"}},[a("el-button",{on:{click:function(t){e.returnOrderDialog1.isShow=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.showDoorShopOrderReturnConfirm}},[e._v("退货")])],1)])]),e._v(" "),a("el-dialog",{staticClass:"order-details-dialog",attrs:{title:"充值订单详情",visible:e.orderDetailsDialog3.isShow,width:"500px",center:!0},on:{"update:visible":function(t){return e.$set(e.orderDetailsDialog3,"isShow",t)}}},[a("div",[a("div",[a("div",{staticClass:"title"},[e._v("订单信息")]),e._v(" "),a("div",{staticClass:"content clear-both"},[a("div",{staticClass:"float-left"},[e._v("交易时间："+e._s(e.orderDetailsDialog3.responseData.time))]),e._v(" "),a("div",{staticClass:"float-right"},[e._v("交易门店："+e._s(e.orderDetailsDialog3.responseData.is_online))])])]),e._v(" "),a("div",[a("div",{staticClass:"title"},[e._v("收款信息")]),e._v(" "),a("div",{staticClass:"content clear-both"},[a("div",{staticClass:"float-left"},[e._v("应收金额："+e._s(e.orderDetailsDialog3.responseData.old_amount))]),e._v(" "),a("div",{staticClass:"float-right"},[e._v("实收金额："+e._s(e.orderDetailsDialog3.responseData.amount))])]),e._v(" "),a("div",{staticClass:"content clear-both"},[a("div",{staticClass:"float-left"},[e._v("收款方式："+e._s(e.orderDetailsDialog3.responseData.pay_way))])])]),e._v(" "),a("div",[a("div",{staticClass:"title"},[e._v("会员信息")]),e._v(" "),a("div",{staticClass:"content clear-both"},[a("div",{staticClass:"float-left"},[e._v("会员账号："+e._s(e.orderDetailsDialog3.responseData.member?e.orderDetailsDialog3.responseData.member.mobile:""))]),e._v(" "),a("div",{staticClass:"float-right"},[e._v("会员昵称："+e._s(e.orderDetailsDialog3.responseData.member?e.orderDetailsDialog3.responseData.member.nickname:""))])]),e._v(" "),a("div",{staticClass:"content clear-both"},[a("div",{staticClass:"float-left"},[e._v("会员等级："+e._s(e.orderDetailsDialog3.responseData.member?e.orderDetailsDialog3.responseData.member.level_name:""))]),e._v(" "),a("div",{staticClass:"float-right"},[e._v("会员余额："+e._s(e.orderDetailsDialog3.responseData.member?e.orderDetailsDialog3.responseData.member.money:""))])])])])]),e._v(" "),a("el-dialog",{staticClass:"order-details-dialog",attrs:{title:"服务卡订单退单",visible:e.returnOrderDialog2.isShow,width:"700px",center:!0},on:{"update:visible":function(t){return e.$set(e.returnOrderDialog2,"isShow",t)}}},[a("div",[a("el-form",{ref:"form",staticClass:"demo-form-inline",attrs:{"label-width":"100px","label-position":"left",inline:!0}},[a("el-form-item",{attrs:{label:"卡卷类型"}},[a("el-input",{attrs:{value:e.returnOrderDialog2.responseData.card.type}})],1),e._v(" "),a("el-form-item",{attrs:{label:"使用月份"}},[a("el-input",{attrs:{value:e.returnOrderDialog2.responseData.month||"次卡"}})],1)],1),e._v(" "),a("el-form",{ref:"form",staticClass:"demo-form-inline",attrs:{"label-width":"100px","label-position":"left",inline:!0}},[a("el-form-item",{attrs:{label:"激活时间"}},[a("el-input",{attrs:{value:e.returnOrderDialog2.responseData.start}})],1),e._v(" "),a("el-form-item",{attrs:{label:"到期时间"}},[a("el-input",{attrs:{value:e.returnOrderDialog2.responseData.end}})],1)],1),e._v(" "),a("el-form",{ref:"form",staticClass:"demo-form-inline",attrs:{"label-width":"100px","label-position":"left",inline:!0}},[a("el-form-item",{attrs:{label:"支付金额"}},[a("el-input",{attrs:{value:e.returnOrderDialog2.responseData.real_price+"元"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"使用金额"}},[a("el-input",{attrs:{value:e.returnOrderDialog2.responseData.card.money+"元"}})],1)],1),e._v(" "),a("el-form",{ref:"form",staticClass:"demo-dynamic",attrs:{"label-width":"100px","label-position":"left"}},[a("el-form-item",{attrs:{label:"退服务原因",required:"","label-width":"100px"}},[a("el-select",{attrs:{placeholder:"请选择退服务原因"},on:{change:e.serviceCardReturnResultChange},model:{value:e.returnOrderDialog2.requestData.reason_id,callback:function(t){e.$set(e.returnOrderDialog2.requestData,"reason_id",t)},expression:"returnOrderDialog2.requestData.reason_id"}},e._l(e.returnOrderDialog2.returnOrderResult,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1)],1),e._v(" "),0===e.returnOrderDialog2.requestData.reason_id?a("el-form-item",{attrs:{label:"其他原因","label-width":"100px"}},[a("el-input",{attrs:{type:"textarea"},model:{value:e.returnOrderDialog2.requestData.reason,callback:function(t){e.$set(e.returnOrderDialog2.requestData,"reason",t)},expression:"returnOrderDialog2.requestData.reason"}})],1):e._e(),e._v(" "),a("el-form-item",{attrs:{label:"退款方式",required:"","label-width":"100px"}},[a("el-radio-group",{model:{value:e.returnOrderDialog2.requestData.type,callback:function(t){e.$set(e.returnOrderDialog2.requestData,"type",t)},expression:"returnOrderDialog2.requestData.type"}},[a("el-radio",{attrs:{label:"cash"}},[e._v("现金退款")]),e._v(" "),a("el-radio",{attrs:{label:"balance"}},[e._v("余额退款")]),e._v(" "),a("el-radio",{attrs:{label:"card"}},[e._v("银行卡")])],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"退款金额","label-width":"100px"}},[a("el-input",{attrs:{value:e.returnOrderDialog2.responseData.card.balance+"元"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"备注",required:"","label-width":"100px"}},[a("el-input",{attrs:{type:"textarea"},model:{value:e.returnOrderDialog2.requestData.remarks,callback:function(t){e.$set(e.returnOrderDialog2.requestData,"remarks",t)},expression:"returnOrderDialog2.requestData.remarks"}})],1),e._v(" "),a("div",{staticStyle:{"text-align":"center"}},[a("el-button",{on:{click:function(t){e.returnOrderDialog2.isShow=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.serviceCardReturn}},[e._v("退款")])],1)],1)],1)]),e._v(" "),a("el-dialog",{staticClass:"order-details-dialog",attrs:{title:"服务卡订单退单详情",visible:e.returnDetailDialog2.isShow,width:"500px",center:!0},on:{"update:visible":function(t){return e.$set(e.returnDetailDialog2,"isShow",t)}}},[a("div",[a("div",[a("div",{staticClass:"content clear-both"},[a("div",{staticClass:"float-left"},[e._v("订单编号："+e._s(e.returnDetailDialog2.responseData.o_sn))]),e._v(" "),a("div",{staticClass:"float-right"},[e._v("退单编号："+e._s(e.returnDetailDialog2.responseData.r_sn))])])]),e._v(" "),a("div",[a("div",{staticClass:"content clear-both"},[a("div",{staticClass:"float-left"},[e._v("卡卷类型："+e._s(e.returnDetailDialog2.responseData.type_text))]),e._v(" "),a("div",{staticClass:"float-right"},[e._v("使用月份："+e._s(e.returnDetailDialog2.responseData.ticket.months||"次卡"))])])]),e._v(" "),a("div",[a("div",{staticClass:"content clear-both"},[a("div",{staticClass:"float-left"},[e._v("激活时间："+e._s(e.returnDetailDialog2.responseData.ticket.start))]),e._v(" "),a("div",{staticClass:"float-right"},[e._v("到期时间："+e._s(e.returnDetailDialog2.responseData.ticket.end))])])]),e._v(" "),a("div",[a("div",{staticClass:"content clear-both"},[a("div",{staticClass:"float-left"},[e._v("支付金额："+e._s(e.returnDetailDialog2.responseData.ticket.real_price+"元"))]),e._v(" "),a("div",{staticClass:"float-right"},[e._v("退款金额："+e._s(e.returnDetailDialog2.responseData.r_amount+"元"))])])]),e._v(" "),a("div",[a("div",{staticClass:"content clear-both"},[a("div",{staticClass:"float-left"},[e._v("申请人员："+e._s(e.returnDetailDialog2.responseData.ticket.waiter))]),e._v(" "),a("div",{staticClass:"float-right"},[e._v("申请时间："+e._s(e.returnDetailDialog2.responseData.ticket.create_time))])])]),e._v(" "),a("div",[a("div",{staticClass:"content clear-both"},[a("div",{staticClass:"float-left"},[e._v("退款方式："+e._s(1===e.returnDetailDialog2.responseData.otype?"现金退款":2===e.returnDetailDialog2.responseData.otype?"余额退款":"银行卡退款"))]),e._v(" "),a("div",{staticClass:"float-right"},[e._v("退款状态："+e._s(0===e.returnDetailDialog2.responseData.r_status?"申请中":1===e.returnDetailDialog2.responseData.r_status?"已完成":"取消"))])])]),e._v(" "),a("div",{staticClass:"content clear-both",staticStyle:{height:"80px"}},[a("div",{staticClass:"float-left"},[e._v("\n              退卡原因:"),a("br"),e._v(" "),a("el-input",{attrs:{type:"textarea",disabled:!0},model:{value:e.returnDetailDialog2.responseData.reason,callback:function(t){e.$set(e.returnDetailDialog2.responseData,"reason",t)},expression:"returnDetailDialog2.responseData.reason"}})],1),e._v(" "),a("div",{staticClass:"float-right"},[e._v("\n              备注:"),a("br"),e._v(" "),a("el-input",{attrs:{type:"textarea",disabled:!0},model:{value:e.returnDetailDialog2.responseData.remarks,callback:function(t){e.$set(e.returnDetailDialog2.responseData,"remarks",t)},expression:"returnDetailDialog2.responseData.remarks"}})],1)])])])],1)},staticRenderFns:[]};var d=a("C7Lr")(u,c,!1,function(e){a("Rn1S")},"data-v-35ba0bec",null);t.default=d.exports}});