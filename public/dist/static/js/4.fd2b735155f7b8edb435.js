webpackJsonp([4],{"0MWo":function(e,t,a){e.exports={default:a("llbJ"),__esModule:!0}},"4+AD":function(e,t,a){var r=a("8leu");r(r.S,"Number",{isInteger:a("YGy9")})},"4Xi4":function(e,t,a){e.exports={default:a("6zNI"),__esModule:!0}},"6zNI":function(e,t,a){a("4+AD"),e.exports=a("Rv9F").Number.isInteger},E0fD:function(e,t){},Ibu5:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a("4YfN"),i=a.n(r),o=a("0MWo"),s=a.n(o),l=a("4Xi4"),n=a.n(l),c=a("lC5x"),d=a.n(c),p=a("J0Oq"),u=a.n(p),g=a("2bvH"),h=a("1h8J"),D={name:"InventoryManage",data:function(){return{type:"0",shopList:[],stockCheck:{topCategory:[],twoCategory:[],requestData:{page:1,limit:20,type_id:"",type:"",title:"",stock:""},responseData:{count:0,data:[{id:1752,title:"商品新增hhh",type_id:"26",type:"测试分类11",bar_code:"123123",shop_id:60,stock:20}]}},transferSlipPageData:{status:[{id:0,name:"待发货"},{id:1,name:"调拨中"},{id:2,name:"已完成"}],time:[{id:"create_time",name:"调拨时间"},{id:"out_time",name:"发货时间"},{id:"in_time",name:"入库时间"}],count:0,list:[],addDialog:{isShow:!1,responseData:{allot_in:"",count:1,bar_code:["","fdadsfad"],item_id:[1,2],item_name:["fasdfadf","dfadsfas"],purchase_number:[1,2],remark:["备注1","备注2"],remarks:"",worker_id:""},list:[]},chooseGoodsDialog:{isShow:!1,name:"",code:"",multipleSelection:[],responseData:{code:0,count:0,data:[]},topCategoryId:"",topCategory:[],twoCategoryId:"",twoCategory:[],page:1,limit:5},sendGoodsDialog:{isShow:!1,id:0,responseData:{},responseGoodList:[{}]},printingDialog:{isShow:!1,responseData:{create_time:"",id:25,in_shop:"",item:[],out_shop:"",remark:"",sn:"",worker:""}},detailsDialog:{isShow:!1,responseData:{},responseGoodList:[{}]}},transferSlipRequestData:{out_shop:"",in_shop:"",page:1,limit:10,time:"",search:"",status:"",start_end_time:null},checkOrderPageData:{status:[{id:1,name:"盘点待确定"},{id:2,name:"库存待确认(已确认盘点单)"},{id:3,name:"已完成"}],count:0,list:[],addDialog:{isShow:!1,isShow2:!1,list:[],page:1,limit:20,is_enable:!1,remarks:""},addGoodsDialog:{isShow:!1,isShow2:!1,topCategoryId:"",topCategory:[],twoCategoryId:"",twoCategory:[],title:"",stock_type:1,page:1,limit:20,count:0,multipleSelection:[],list:[]},detailsDialog:{isShow:!1,remarks:"",list:[]},editDialog:{isShow:!1,responseData:{remarks:"",item:[]}},confirmDialog:{isShow:!1,data:{id:63,item:[],remarks:null}}},checkOrderRequestData:{shop:"",status:"",name:"",page:1,limit:10,time:null},checkLossOrderPageData:{status:[{id:1,name:"待确认"},{id:2,name:"已确认(确认库存)"}],count:0,list:[],detailsDialog:{isShow:!1,responseData:{id:1,remarks:"留言",item:[]}}},checkLossOrderRequestData:{shop:"",status:"",time:null,page:1,limit:10,name:"",type:2},checkWinOrderPageData:{status:[{id:1,name:"待确认"},{id:2,name:"已确认(确认库存)"}],count:0,list:[],detailsDialog:{isShow:!1,responseData:{id:1,remarks:"留言",item:[]}}},checkWinOrderRequestData:{shop:"",status:"",time:null,page:1,limit:10,name:"",type:1}}},mounted:function(){var e=this;Object(h._23)().then(function(t){t.data.length&&(e.stockCheck.topCategory=t.data)}),this.getShopList(),this.getStockCheckList()},methods:{handleClick:function(e,t){switch(e.name){case"0":this.stockCheck.requestData.page=1,this.getStockCheckList();break;case"1":this.getTransferSlipList();break;case"2":this.checkOrderRequestData.page=1,this.getCheckOrderList();break;case"3":this.checkLossOrderRequestData.page=1,this.getCheckLossOrWinOrderList(2);break;case"4":this.checkWinOrderRequestData.page=1,this.getCheckLossOrWinOrderList(1)}},getStockCheckList:function(){var e=this,t={type_id:this.stockCheck.requestData.type_id,type:this.stockCheck.requestData.type,title:this.stockCheck.requestData.title,page:this.stockCheck.requestData.page+","+this.stockCheck.requestData.limit,stock:this.stockCheck.requestData.stock};Object(h.p)(t).then(function(t){e.stockCheck.responseData=t})},stockCheckPageCurrentChange:function(e){this.stockCheck.requestData.page=e,this.getStockCheckList()},stockCheckPageSizeChange:function(e){this.stockCheck.requestData.limit=e,this.getStockCheckList()},stockCheckTwoCategory:function(){var e=this;if(this.stockCheck.requestData.type="",this.stockCheck.twoCategory=[],this.stockCheck.requestData.type_id){var t={type:this.stockCheck.requestData.type_id};Object(h._23)(t).then(function(t){t.data.length&&(e.stockCheck.twoCategory=t.data)})}},clickTransferSlipPrinting:function(e){var t=this;return u()(d.a.mark(function a(){return d.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(h._18)({id:e}).then(function(e){"200"===e.code&&(t.transferSlipPageData.printingDialog.responseData=e.data,t.transferSlipPageData.printingDialog.isShow=!0)});case 2:case"end":return a.stop()}},a,t)}))()},getTransferSlipList:function(){var e=this,t={page:this.transferSlipRequestData.page,limit:this.transferSlipRequestData.limit,status:this.transferSlipRequestData.status,search:this.transferSlipRequestData.search,out_shop:this.transferSlipRequestData.out_shop,in_shop:this.transferSlipRequestData.out_shop,time:this.transferSlipRequestData.time,start_time:this.transferSlipRequestData.start_end_time?this.transferSlipRequestData.start_end_time[0]:"",end_time:this.transferSlipRequestData.start_end_time?this.transferSlipRequestData.start_end_time[1]:""};Object(h._17)(t).then(function(t){e.transferSlipPageData.count=t.count,e.transferSlipPageData.list=t.data?t.data:[]})},TransferSlipOnePageCurrentChange:function(e){this.transferSlipRequestData.page=e,this.getTransferSlipList()},TransferSlipPageSizeChange:function(e){this.transferSlipRequestData.limit=e,this.getTransferSlipList()},clickTransferSlipDel:function(e){var t=this;this.$confirm("您确认删除本条调拨信息吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){Object(h._13)({id:e}).then(function(e){"200"===e.code&&(t.$message({message:e.msg,type:"success"}),setTimeout(function(){t.getTransferSlipList()},1e3))})}).catch(function(){})},clickTransferSlipSendGoodsCancel:function(e){var t=this;this.$confirm("您确认取消发货操作吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){Object(h._20)({id:e,worker_id:t.userInfo.id}).then(function(e){"200"===e.code&&(t.$message({message:e.msg,type:"success"}),setTimeout(function(){t.getTransferSlipList()},1e3))})}).catch(function(){})},clickTransferSlipSendGoods:function(e){var t=this;return u()(d.a.mark(function a(){return d.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return t.transferSlipPageData.sendGoodsDialog.id=e,a.next=3,Object(h._21)({id:e}).then(function(e){t.transferSlipPageData.sendGoodsDialog.responseGoodList=e.data});case 3:return a.next=5,Object(h._22)({id:e}).then(function(e){t.transferSlipPageData.sendGoodsDialog.responseData=e.data});case 5:t.transferSlipPageData.sendGoodsDialog.isShow=!0;case 6:case"end":return a.stop()}},a,t)}))()},clickTransferSlipSendGoodsOk:function(e){var t=this;this.$confirm("您确认进行发货操作吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){Object(h._19)({id:e,worker_id:t.userInfo.id}).then(function(e){t.transferSlipPageData.sendGoodsDialog.isShow=!1,"200"===e.code&&(t.$message({message:e.msg,type:"success"}),setTimeout(function(){t.getTransferSlipList()},1e3))})}).catch(function(){})},clickTransferSlipDetails:function(e){var t=this;return u()(d.a.mark(function a(){return d.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(h._14)({id:e}).then(function(e){t.transferSlipPageData.detailsDialog.responseData=e.data});case 2:return a.next=4,Object(h._16)({id:e}).then(function(e){t.transferSlipPageData.detailsDialog.responseGoodList=e.data,t.transferSlipPageData.detailsDialog.isShow=!0});case 4:case"end":return a.stop()}},a,t)}))()},clickTransferSlipConfirmGoods:function(e){var t=this;this.$confirm("您正在进行确认收货操作？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){Object(h._12)({id:e,worker_id:t.userInfo.id}).then(function(e){t.getTransferSlipList(),t.transferSlipPageData.detailsDialog.isShow=!1})}).catch(function(){})},transferSlipAddDialogShow:function(){var e=this;Object(h._23)().then(function(t){t.data.length&&(e.transferSlipPageData.chooseGoodsDialog.topCategory=t.data)}),this.transferSlipPageData.addDialog.isShow=!0},clickTransferSlipAddTwoCategory:function(){var e=this;if(this.transferSlipPageData.chooseGoodsDialog.twoCategoryId="",this.transferSlipPageData.chooseGoodsDialog.twoCategory=[],this.transferSlipPageData.chooseGoodsDialog.topCategoryId){var t={type:this.transferSlipPageData.chooseGoodsDialog.topCategoryId};Object(h._23)(t).then(function(t){t.data.length&&(e.transferSlipPageData.chooseGoodsDialog.twoCategory=t.data)})}},clickTransferSlipAddGoodsChange:function(e){console.log(e),this.transferSlipPageData.chooseGoodsDialog.multipleSelection=e},clickTransferSlipSearchGoods:function(){var e=this,t={page:this.transferSlipPageData.chooseGoodsDialog.page,limit:this.transferSlipPageData.chooseGoodsDialog.limit,name:this.transferSlipPageData.chooseGoodsDialog.name,code:this.transferSlipPageData.chooseGoodsDialog.code,parent:this.transferSlipPageData.chooseGoodsDialog.topCategoryId,child:this.transferSlipPageData.chooseGoodsDialog.twoCategoryId};Object(h._15)(t).then(function(t){e.transferSlipPageData.chooseGoodsDialog.responseData=t})},clickTransferSlipSearchGoodsPageSizeChange:function(e){this.transferSlipPageData.chooseGoodsDialog.limit=e,this.clickTransferSlipSearchGoods()},clickTransferSlipSearchGoodsPageCurrentChange:function(e){this.transferSlipPageData.chooseGoodsDialog.page=e,this.clickTransferSlipSearchGoods()},clickTransferSlipChoosesGoods:function(){var e=[];this.transferSlipPageData.chooseGoodsDialog.multipleSelection.forEach(function(t){e.push({id:t.id,title:t.title,bar_code:t.bar_code,p_type:t.p_type,cname:t.cname,stock:t.stock,price:t.price,num:"",remark:""})});var t=this.transferSlipPageData.addDialog.list.concat(e);console.log(t);var a={};t=t.reduce(function(e,t){return!a[t.id]&&(a[t.id]=e.push(t)),e},[]),this.transferSlipPageData.addDialog.list=t,this.transferSlipPageData.chooseGoodsDialog.isShow=!1},removeTransferSlipGood:function(e){this.transferSlipPageData.addDialog.list.splice(e,1)},addtransferSlipGoodOk:function(){var e=this,t={allot_in:this.transferSlipPageData.addDialog.responseData.allot_in,count:this.transferSlipPageData.addDialog.list.length,bar_code:[],item_id:[],item_name:[],purchase_number:[],remark:[],remarks:this.transferSlipPageData.addDialog.responseData.remarks,worker_id:this.userInfo.id};if(t.allot_in){for(var a=0;a<this.transferSlipPageData.addDialog.list.length;a++){if(t.bar_code.push(this.transferSlipPageData.addDialog.list[a].bar_code),t.item_id.push(this.transferSlipPageData.addDialog.list[a].id),t.item_name.push(this.transferSlipPageData.addDialog.list[a].title),!/^[0-9]*[1-9][0-9]*$/.test(this.transferSlipPageData.addDialog.list[a].num))return void alert("【"+this.transferSlipPageData.addDialog.list[a].title+"】调拨数量必须为整数，且小于库存");if(!(this.transferSlipPageData.addDialog.list[a].num<=this.transferSlipPageData.addDialog.list[a].stock))return void alert("【"+this.transferSlipPageData.addDialog.list[a].title+"】调拨数量必须为整数，且小于库存");if(!(this.transferSlipPageData.addDialog.list[a].num>=1))return void alert("【"+this.transferSlipPageData.addDialog.list[a].title+"】调拨数量必须为整数，且小于库存");t.purchase_number.push(this.transferSlipPageData.addDialog.list[a].num),t.remark.push(this.transferSlipPageData.addDialog.list[a].remark)}Object(h._11)({data:t}).then(function(t){e.transferSlipPageData.addDialog.isShow=!1,e.transferSlipRequestData.page=1,e.getTransferSlipList()})}else alert("请选择调入仓库")},getShopList:function(){var e=this;Object(h._2)().then(function(t){200===t.code&&(e.shopList=t.data)})},checkOrderOnePageCurrentChange:function(e){this.checkOrderRequestData.page=e,this.getCheckOrderList()},checkOrderPageSizeChange:function(e){this.checkOrderRequestData.limit=e,this.getCheckOrderList()},getCheckOrderList:function(){var e=this,t={status:this.checkOrderRequestData.status,name:this.checkOrderRequestData.name,page:this.checkOrderRequestData.page+","+this.checkOrderRequestData.limit,start_time:this.checkOrderRequestData.time?this.checkOrderRequestData.time[0]:"",end_time:this.checkOrderRequestData.time?this.checkOrderRequestData.time[1]:"",shop:this.checkOrderRequestData.shop};Object(h.o)(t).then(function(t){200===t.code&&(e.checkOrderPageData.count=t.count,e.checkOrderPageData.list=t.data)})},clickAddCheckOrder:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;2===t&&(this.checkOrderPageData.addDialog.isShow2=!0,this.checkOrderPageData.addDialog.isShow=!0),Object(h._23)().then(function(t){t.data.length&&(e.checkOrderPageData.addGoodsDialog.topCategory=t.data)}),this.checkOrderPageData.addDialog.page=1,this.checkOrderPageData.addDialog.is_enable=!1,1===t&&this.clickAddCheckOrderDialogSearchBtn()},addCheckOrderDialongLoadMoreGoods:function(){this.checkOrderPageData.addDialog.page+=1,this.clickAddCheckOrderDialogSearchBtn()},clickAddCheckOrderDialogSearchBtn:function(){var e=this,t={page:this.checkOrderPageData.addDialog.page+","+this.checkOrderPageData.addDialog.limit,stock_type:1,title:"",type_id:"",type:""};Object(h.i)(t).then(function(t){if(t.data.length){var a=[];t.data.forEach(function(e){a.push({item_id:e.id,bar_code:e.bar_code,item_title:e.title,top_category:e.type_ids,two_category:e.types,stock_reality:e.stock,stock_now:""})});var r=e.checkOrderPageData.addDialog.list.concat(a),i={};r=r.reduce(function(e,t){return!i[t.item_id]&&(i[t.item_id]=e.push(t)),e},[]),e.checkOrderPageData.addDialog.list=r}t.data.length<e.checkOrderPageData.addDialog.limit&&(e.checkOrderPageData.addDialog.is_enable=!0),e.checkOrderPageData.addDialog.isShow=!0})},clickAddCheckOrderTwoCategory:function(){var e=this;if(this.checkOrderPageData.addGoodsDialog.twoCategoryId="",this.checkOrderPageData.addGoodsDialog.twoCategory=[],this.checkOrderPageData.addGoodsDialog.topCategoryId){var t={type:this.checkOrderPageData.addGoodsDialog.topCategoryId};Object(h._23)(t).then(function(t){t.data.length&&(e.checkOrderPageData.addGoodsDialog.twoCategory=t.data)})}},clickAddGoodsDialogHandleSelectionChange:function(e){console.log(e),this.checkOrderPageData.addGoodsDialog.multipleSelection=e},getCheckOrderGoodList:function(){var e=this;if(!0!==this.checkOrderPageData.addDialog.isShow2){var t={page:this.checkOrderPageData.addGoodsDialog.page+","+this.checkOrderPageData.addGoodsDialog.limit,stock_type:2,title:this.checkOrderPageData.addGoodsDialog.title,type_id:this.checkOrderPageData.addGoodsDialog.topCategoryId,type:this.checkOrderPageData.addGoodsDialog.twoCategoryId};Object(h.i)(t).then(function(t){200===t.code&&(e.checkOrderPageData.addGoodsDialog.count=t.count,t.data.length?e.checkOrderPageData.addGoodsDialog.list=t.data:e.checkOrderPageData.addGoodsDialog.list=[])})}else{var a={page:this.checkOrderPageData.addGoodsDialog.page+","+this.checkOrderPageData.addGoodsDialog.limit,title:this.checkOrderPageData.addGoodsDialog.title,type_id:this.checkOrderPageData.addGoodsDialog.topCategoryId,type:this.checkOrderPageData.addGoodsDialog.twoCategoryId};Object(h.j)(a).then(function(t){200===t.code&&(e.checkOrderPageData.addGoodsDialog.count=t.count,t.data.length?e.checkOrderPageData.addGoodsDialog.list=t.data:e.checkOrderPageData.addGoodsDialog.list=[])})}},getCheckOrderGoodListOnePageCurrentChange:function(e){this.checkOrderPageData.addGoodsDialog.page=e,this.getCheckOrderGoodList()},getCheckOrderGoodListPageSizeChange:function(e){this.checkOrderPageData.addGoodsDialog.limit=e,this.getCheckOrderGoodList()},clickAddGoodsDialogOk:function(){var e=[];this.checkOrderPageData.addGoodsDialog.multipleSelection.forEach(function(t){e.push({item_id:t.id,item_title:t.title,bar_code:t.bar_code,top_category:t.type_ids,two_category:t.types,stock_reality:t.stock,stock_now:""})});var t=this.checkOrderPageData.addDialog.list.concat(e),a={};t=t.reduce(function(e,t){return!a[t.item_id]&&(a[t.item_id]=e.push(t)),e},[]),this.checkOrderPageData.addDialog.list=t,this.checkOrderPageData.addGoodsDialog.isShow=!1},clickAddCheckOrderDialogOk:function(){for(var e=this,t=[],a=0;a<this.checkOrderPageData.addDialog.list.length;a++){if(!n()(s()(this.checkOrderPageData.addDialog.list[a].stock_now)))return void this.$message({showClose:!0,message:"请正确输入【"+this.checkOrderPageData.addDialog.list[a].item_title+"】商品的盘点库存。",type:"error"});t.push({item_id:this.checkOrderPageData.addDialog.list[a].item_id,item_title:this.checkOrderPageData.addDialog.list[a].item_title,stock_reality:this.checkOrderPageData.addDialog.list[a].stock_reality,stock_now:this.checkOrderPageData.addDialog.list[a].stock_now})}var r={remarks:this.checkOrderPageData.addDialog.remarks,item:t};Object(h.h)(r).then(function(t){200===t.code&&(e.checkOrderRequestData.page=1,e.getCheckOrderList(),e.checkOrderPageData.addDialog.list=[],e.checkOrderPageData.addDialog.isShow=!1)})},clickAddCheckOrderDialogDelGoods:function(e){this.checkOrderPageData.addDialog.list.splice(e,1)},clickCheckOrderDetails:function(e){var t=this;return u()(d.a.mark(function a(){return d.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(h.n)({id:e}).then(function(e){200===e.code&&(t.checkOrderPageData.detailsDialog.isShow=!0,t.checkOrderPageData.detailsDialog.remarks=e.data.remarks,t.checkOrderPageData.detailsDialog.list=e.data.item)});case 2:case"end":return a.stop()}},a,t)}))()},clickCheckOrderDel:function(e){var t=this;this.$confirm("您确认删除本条盘点信息吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){Object(h.l)({id:e}).then(function(){t.getCheckOrderList()})}).catch(function(){})},clickCheckOrderConfirm:function(e){var t=this;return u()(d.a.mark(function a(){return d.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(h.n)({id:e}).then(function(e){200===e.code&&(t.checkOrderPageData.confirmDialog.data=e.data,t.checkOrderPageData.confirmDialog.isShow=!0)});case 2:case"end":return a.stop()}},a,t)}))()},clickCheckOrderConfirmOk:function(){var e=this;return u()(d.a.mark(function t(){return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(h.k)(e.checkOrderPageData.confirmDialog.data).then(function(t){e.checkOrderPageData.confirmDialog.isShow=!1,200===t.code&&(e.$message({message:t.msg,type:"success"}),setTimeout(function(){e.getCheckOrderList()},1e3))});case 2:case"end":return t.stop()}},t,e)}))()},clickCheckOrderEdit:function(e){var t=this;return u()(d.a.mark(function a(){return d.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(h.n)({id:e}).then(function(e){200===e.code&&(t.checkOrderPageData.editDialog.responseData=e.data,Object(h._23)().then(function(e){e.data.length&&(t.checkOrderPageData.addGoodsDialog.topCategory=e.data)}),t.checkOrderPageData.editDialog.isShow=!0)});case 2:case"end":return a.stop()}},a,t)}))()},clickCheckOrderDelGoods:function(e){this.checkOrderPageData.editDialog.responseData.item.splice(e,1)},clickCheckOrderEditChooseGoodsOk:function(){console.log(this.checkOrderPageData.editDialog.responseData.item);var e=[];this.checkOrderPageData.addGoodsDialog.multipleSelection.forEach(function(t){e.push({id:"",item_id:t.id,title:t.title,type:t.types,type_id:t.type_ids,stock_reality:t.stock,stock_now:""})});var t=this.checkOrderPageData.editDialog.responseData.item.concat(e),a={};t=t.reduce(function(e,t){return!a[t.item_id]&&(a[t.item_id]=e.push(t)),e},[]),this.checkOrderPageData.editDialog.responseData.item=t,this.checkOrderPageData.addGoodsDialog.isShow2=!1},clickCheckOrderEditOk:function(){var e=this;return u()(d.a.mark(function t(){var a;return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:a=0;case 1:if(!(a<e.checkOrderPageData.editDialog.responseData.item.length)){t.next=8;break}if(n()(s()(e.checkOrderPageData.editDialog.responseData.item[a].stock_now))&&!(s()(e.checkOrderPageData.editDialog.responseData.item[a].stock_now)<0)){t.next=5;break}return e.$message({showClose:!0,message:"请正确输入【"+e.checkOrderPageData.editDialog.responseData.item[a].title+"】商品的盘点库存。",type:"error"}),t.abrupt("return");case 5:a++,t.next=1;break;case 8:e.$confirm("您确认编辑该盘点吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){Object(h.m)(e.checkOrderPageData.editDialog.responseData).then(function(t){e.checkOrderPageData.editDialog.isShow=!1,200===t.code&&(e.$message({message:t.msg,type:"success"}),setTimeout(function(){e.getCheckOrderList()},1e3))})}).catch(function(){});case 9:case"end":return t.stop()}},t,e)}))()},getCheckLossOrWinOrderList:function(e){var t=this;switch(e){case 1:var a={type:e,status:this.checkWinOrderRequestData.status,page:this.checkWinOrderRequestData.page+","+this.checkWinOrderRequestData.limit,start_time:this.checkWinOrderRequestData.time?this.checkWinOrderRequestData.time[0]:"",end_time:this.checkWinOrderRequestData.time?this.checkWinOrderRequestData.time[1]:"",name:this.checkWinOrderRequestData.name,shop:this.checkWinOrderRequestData.shop};Object(h.g)(a).then(function(e){200===e.code&&(t.checkWinOrderPageData.count=e.count,t.checkWinOrderPageData.list=e.data)});break;case 2:var r={type:e,status:this.checkLossOrderRequestData.status,page:this.checkLossOrderRequestData.page+","+this.checkLossOrderRequestData.limit,start_time:this.checkLossOrderRequestData.time?this.checkLossOrderRequestData.time[0]:"",end_time:this.checkLossOrderRequestData.time?this.checkLossOrderRequestData.time[1]:"",name:this.checkLossOrderRequestData.name,shop:this.checkLossOrderRequestData.shop};Object(h.g)(r).then(function(e){200===e.code&&(t.checkLossOrderPageData.count=e.count,t.checkLossOrderPageData.list=e.data)})}},searchCheckLossOrder:function(){this.checkLossOrderRequestData.page=1,this.getCheckLossOrWinOrderList(2)},checkLossOrderOnePageCurrentChange:function(e){this.checkLossOrderRequestData.page=e,this.getCheckLossOrWinOrderList(2)},checkLossOrderPageSizeChange:function(e){this.checkLossOrderRequestData.limit=e,this.getCheckLossOrWinOrderList(2)},checkLossOrderDetails:function(e){var t=this;return u()(d.a.mark(function a(){return d.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(h.f)({id:e}).then(function(e){200===e.code&&(t.checkLossOrderPageData.detailsDialog.responseData=e.data,t.checkLossOrderPageData.detailsDialog.isShow=!0)});case 2:case"end":return a.stop()}},a,t)}))()},searchCheckWinOrder:function(){this.checkWinOrderRequestData.page=1,this.getCheckLossOrWinOrderList(1)},checkWinOrderOnePageCurrentChange:function(e){this.checkWinOrderRequestData.page=e,this.getCheckLossOrWinOrderList(1)},checkWinOrderPageSizeChange:function(e){this.checkLossOrderRequestData.limit=e,this.getCheckLossOrWinOrderList(1)},checkWinOrderDetails:function(e){var t=this;return u()(d.a.mark(function a(){return d.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(h.f)({id:e}).then(function(e){200===e.code&&(t.checkWinOrderPageData.detailsDialog.responseData=e.data,t.checkWinOrderPageData.detailsDialog.isShow=!0)});case 2:case"end":return a.stop()}},a,t)}))()}},watch:{"checkOrderPageData.addDialog.isShow":{handler:function(e,t){!1===e&&(this.checkOrderPageData.addDialog.isShow2=!1,this.checkOrderPageData.addDialog.list=[])},deep:!0},"checkOrderPageData.addGoodsDialog.isShow":{handler:function(e,t){!1===e&&(this.checkOrderPageData.addGoodsDialog.list=[])},deep:!0}},computed:i()({},Object(g.c)(["userInfo"]))},k={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"inventory-manage"},[a("el-tabs",{on:{"tab-click":e.handleClick},model:{value:e.type,callback:function(t){e.type=t},expression:"type"}},[a("el-tab-pane",{attrs:{label:"库存查询",name:"0"}},[a("div",[a("div",{staticClass:"search"},[a("el-select",{attrs:{clearable:"",placeholder:"选择一级分类"},on:{change:e.stockCheckTwoCategory},model:{value:e.stockCheck.requestData.type_id,callback:function(t){e.$set(e.stockCheck.requestData,"type_id",t)},expression:"stockCheck.requestData.type_id"}},e._l(e.stockCheck.topCategory,function(e){return a("el-option",{key:e.id,attrs:{label:e.cname,value:e.id}})}),1),e._v(" "),a("el-select",{attrs:{clearable:"",placeholder:"选择二级分类"},model:{value:e.stockCheck.requestData.type,callback:function(t){e.$set(e.stockCheck.requestData,"type",t)},expression:"stockCheck.requestData.type"}},e._l(e.stockCheck.twoCategory,function(e){return a("el-option",{key:e.id,attrs:{label:e.cname,value:e.id}})}),1),e._v(" "),a("el-input",{staticStyle:{width:"180px"},attrs:{placeholder:"商品名/条形码"},model:{value:e.stockCheck.requestData.title,callback:function(t){e.$set(e.stockCheck.requestData,"title",t)},expression:"stockCheck.requestData.title"}}),e._v(" "),a("el-select",{attrs:{clearable:"",placeholder:"剩余库存筛选"},model:{value:e.stockCheck.requestData.stock,callback:function(t){e.$set(e.stockCheck.requestData,"stock",t)},expression:"stockCheck.requestData.stock"}},[a("el-option",{attrs:{label:"显示零库存",value:"1"}}),e._v(" "),a("el-option",{attrs:{label:"隐藏零库存",value:"2"}})],1),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.getStockCheckList}},[e._v("搜索")])],1),e._v(" "),a("div",{staticStyle:{"margin-top":"15px"}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.stockCheck.responseData.data,border:"",height:"675"}},[a("el-table-column",{attrs:{prop:"title",label:"商品名称"}}),e._v(" "),a("el-table-column",{attrs:{prop:"bar_code",label:"条形码"}}),e._v(" "),a("el-table-column",{attrs:{prop:"type_ids",label:"一级分类"}}),e._v(" "),a("el-table-column",{attrs:{prop:"types",label:"二级分类"}}),e._v(" "),a("el-table-column",{attrs:{prop:"stock",label:"剩余库存"}})],1)],1),e._v(" "),a("div",{staticClass:"footer",staticStyle:{"text-align":"right","margin-top":"15px"}},[a("el-pagination",{attrs:{background:"",layout:"total, sizes, prev, pager, next, jumper","page-sizes":[10,20,30,40],"page-size":e.stockCheck.requestData.limit,"current-page":e.stockCheck.requestData.page,total:e.stockCheck.responseData.count},on:{"size-change":e.stockCheckPageSizeChange,"current-change":e.stockCheckPageCurrentChange,"update:currentPage":function(t){return e.$set(e.stockCheck.requestData,"page",t)},"update:current-page":function(t){return e.$set(e.stockCheck.requestData,"page",t)}}})],1)])]),e._v(" "),a("el-tab-pane",{attrs:{label:"调拨单",name:"1"}},[a("div",[a("div",{staticClass:"search"},[a("el-select",{attrs:{clearable:"",placeholder:"选择状态"},model:{value:e.transferSlipRequestData.status,callback:function(t){e.$set(e.transferSlipRequestData,"status",t)},expression:"transferSlipRequestData.status"}},e._l(e.transferSlipPageData.status,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1),e._v(" "),a("el-select",{attrs:{clearable:"",placeholder:"需要查询的时间"},model:{value:e.transferSlipRequestData.time,callback:function(t){e.$set(e.transferSlipRequestData,"time",t)},expression:"transferSlipRequestData.time"}},e._l(e.transferSlipPageData.time,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1),e._v(" "),a("el-date-picker",{attrs:{type:"daterange","range-separator":"至","value-format":"yyyy-MM-dd","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.transferSlipRequestData.start_end_time,callback:function(t){e.$set(e.transferSlipRequestData,"start_end_time",t)},expression:"transferSlipRequestData.start_end_time"}}),e._v(" "),a("el-input",{staticStyle:{width:"300px"},attrs:{placeholder:"请输入需查询的订单号/商品名",clearable:""},model:{value:e.transferSlipRequestData.search,callback:function(t){e.$set(e.transferSlipRequestData,"search",t)},expression:"transferSlipRequestData.search"}}),e._v(" "),a("el-button",{attrs:{type:"primary"}},[e._v("搜索")])],1),e._v(" "),a("div",{staticClass:"search",staticStyle:{"margin-top":"15px"}},[a("el-button",{attrs:{type:"primary",plain:""}},[e._v("导出")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.transferSlipAddDialogShow}},[e._v("新增调拨")])],1)]),e._v(" "),a("div",{staticStyle:{"margin-top":"15px"}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.transferSlipPageData.list,border:"",height:"620"}},[a("el-table-column",{attrs:{label:"调拨信息"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{domProps:{innerHTML:e._s(t.row.message)}})]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"商品信息"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{domProps:{innerHTML:e._s(t.row.item)}})]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"调拨数量",width:"80px"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{domProps:{innerHTML:e._s(t.row.number)}})]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"发货信息"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{domProps:{innerHTML:e._s(t.row.out_message)}})]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"入库信息"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{domProps:{innerHTML:e._s(t.row.in_message)}})]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"状态",width:"70px"},scopedSlots:e._u([{key:"default",fn:function(t){return[1===t.row.status?a("span",[e._v("调拨中")]):e._e(),e._v(" "),0===t.row.status?a("span",[e._v("待发货")]):e._e(),e._v(" "),2===t.row.status?a("span",[e._v("已完成")]):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[0===t.row.status&&t.row.out_shop===e.userInfo.shop_id?a("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(a){return e.clickTransferSlipSendGoods(t.row.id)}}},[e._v("发货")]):e._e(),e._v(" "),1===t.row.status&&t.row.out_shop===e.userInfo.shop_id?a("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(a){return e.clickTransferSlipSendGoodsCancel(t.row.id)}}},[e._v("取消发货")]):e._e(),e._v(" "),a("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(a){return e.clickTransferSlipPrinting(t.row.id)}}},[e._v("打印")]),e._v(" "),1===t.row.status&&t.row.in_shop===e.userInfo.shop_id?a("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(a){return e.clickTransferSlipConfirmGoods(t.row.id)}}},[e._v("确认收货")]):e._e(),e._v(" "),0===t.row.status&&t.row.out_shop===e.userInfo.shop_id?a("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(a){return e.clickTransferSlipDel(t.row.id)}}},[e._v("删除")]):e._e(),e._v(" "),a("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(a){return e.clickTransferSlipDetails(t.row.id)}}},[e._v("详情")])]}}])})],1)],1),e._v(" "),a("div",{staticClass:"footer",staticStyle:{"text-align":"right","margin-top":"15px"}},[a("el-pagination",{attrs:{background:"",layout:"total, sizes, prev, pager, next, jumper","page-sizes":[10,20,30,40],"page-size":e.transferSlipRequestData.limit,"current-page":e.transferSlipRequestData.page,total:e.transferSlipPageData.count},on:{"size-change":e.TransferSlipPageSizeChange,"current-change":e.TransferSlipOnePageCurrentChange,"update:currentPage":function(t){return e.$set(e.transferSlipRequestData,"page",t)},"update:current-page":function(t){return e.$set(e.transferSlipRequestData,"page",t)}}})],1),e._v(" "),a("el-dialog",{attrs:{visible:e.transferSlipPageData.addDialog.isShow,title:"调拨",width:"968px",center:!0},on:{"update:visible":function(t){return e.$set(e.transferSlipPageData.addDialog,"isShow",t)}}},[a("div",[a("el-select",{attrs:{clearable:"",placeholder:"选择调入仓库"},model:{value:e.transferSlipPageData.addDialog.responseData.allot_in,callback:function(t){e.$set(e.transferSlipPageData.addDialog.responseData,"allot_in",t)},expression:"transferSlipPageData.addDialog.responseData.allot_in"}},e._l(e.shopList,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1),e._v(" "),a("el-button",{attrs:{type:"primary",plain:""},on:{click:function(t){e.transferSlipPageData.chooseGoodsDialog.isShow=!0}}},[e._v("选择商品")])],1),e._v(" "),a("div",{staticStyle:{"margin-top":"15px"}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.transferSlipPageData.addDialog.list,"max-height":"450",border:""}},[a("el-table-column",{attrs:{type:"index",label:"序号"}}),e._v(" "),a("el-table-column",{attrs:{prop:"title",label:"商品名称"}}),e._v(" "),a("el-table-column",{attrs:{prop:"bar_code",label:"条形码"}}),e._v(" "),a("el-table-column",{attrs:{prop:"p_type",label:"一级分类"}}),e._v(" "),a("el-table-column",{attrs:{prop:"cname",label:"二级分类"}}),e._v(" "),a("el-table-column",{attrs:{prop:"stock",label:"当前库存"}}),e._v(" "),a("el-table-column",{attrs:{prop:"price",label:"单价"}}),e._v(" "),a("el-table-column",{attrs:{label:"调拨数量"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{attrs:{placehoder:"请输入调拨数量"},model:{value:t.row.num,callback:function(a){e.$set(t.row,"num",a)},expression:"scope.row.num"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"备注"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{attrs:{placehoder:"请输入调拨数量"},model:{value:t.row.remark,callback:function(a){e.$set(t.row,"remark",a)},expression:"scope.row.remark"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text"},on:{click:function(a){return e.removeTransferSlipGood(t.$index)}}},[e._v("删除")])]}}])})],1)],1),e._v(" "),a("div",{staticStyle:{"margin-top":"15px"}},[a("div",{staticClass:"clear-both",staticStyle:{height:"50px"}},[a("div",{staticClass:"float-left"},[a("el-form",{attrs:{"label-width":"110px"}},[a("el-form-item",{attrs:{label:"合计调拨数量："}},[e._v("\n                      "+e._s(e.transferSlipPageData.addDialog.list.length)+"\n                    ")])],1)],1),e._v(" "),a("div",{staticClass:"float-right"},[a("el-form",{attrs:{"label-width":"80px"}},[a("el-form-item",{attrs:{label:"备注："}},[a("el-input",{attrs:{placeholder:"请输入备注信息"},model:{value:e.transferSlipPageData.addDialog.responseData.remarks,callback:function(t){e.$set(e.transferSlipPageData.addDialog.responseData,"remarks",t)},expression:"transferSlipPageData.addDialog.responseData.remarks"}})],1)],1)],1)])]),e._v(" "),a("div",{staticStyle:{"text-align":"center","margin-top":"15px"}},[a("el-button",{attrs:{type:"primary",plain:""},on:{click:function(t){e.transferSlipPageData.addDialog.isShow=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{type:"primary",disabled:!e.transferSlipPageData.addDialog.list.length},on:{click:e.addtransferSlipGoodOk}},[e._v("确定")])],1)]),e._v(" "),a("el-dialog",{attrs:{visible:e.transferSlipPageData.chooseGoodsDialog.isShow,title:"选择商品",width:"968px",center:!0},on:{"update:visible":function(t){return e.$set(e.transferSlipPageData.chooseGoodsDialog,"isShow",t)}}},[a("div",{staticStyle:{"margin-bottom":"15px"}},[a("el-input",{staticStyle:{width:"180px"},attrs:{placeholder:"请输入商品名称"},model:{value:e.transferSlipPageData.chooseGoodsDialog.code,callback:function(t){e.$set(e.transferSlipPageData.chooseGoodsDialog,"code",t)},expression:"transferSlipPageData.chooseGoodsDialog.code"}}),e._v(" "),a("el-input",{staticStyle:{width:"180px"},attrs:{placeholder:"请输入条形码"},model:{value:e.transferSlipPageData.chooseGoodsDialog.name,callback:function(t){e.$set(e.transferSlipPageData.chooseGoodsDialog,"name",t)},expression:"transferSlipPageData.chooseGoodsDialog.name"}}),e._v(" "),a("el-select",{attrs:{clearable:"",placeholder:"选择一级分类"},on:{change:e.clickTransferSlipAddTwoCategory},model:{value:e.transferSlipPageData.chooseGoodsDialog.topCategoryId,callback:function(t){e.$set(e.transferSlipPageData.chooseGoodsDialog,"topCategoryId",t)},expression:"transferSlipPageData.chooseGoodsDialog.topCategoryId"}},e._l(e.transferSlipPageData.chooseGoodsDialog.topCategory,function(e){return a("el-option",{key:e.id,attrs:{label:e.cname,value:e.id}})}),1),e._v(" "),a("el-select",{attrs:{clearable:"",placeholder:"选择二级分类"},model:{value:e.transferSlipPageData.chooseGoodsDialog.twoCategoryId,callback:function(t){e.$set(e.transferSlipPageData.chooseGoodsDialog,"twoCategoryId",t)},expression:"transferSlipPageData.chooseGoodsDialog.twoCategoryId"}},e._l(e.transferSlipPageData.chooseGoodsDialog.twoCategory,function(e){return a("el-option",{key:e.id,attrs:{label:e.cname,value:e.id}})}),1),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.transferSlipPageData.chooseGoodsDialog.page=1,e.clickTransferSlipSearchGoods()}}},[e._v("查询")])],1),e._v(" "),a("div",[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.transferSlipPageData.chooseGoodsDialog.responseData.data,"tooltip-effect":"dark",border:""},on:{"selection-change":e.clickTransferSlipAddGoodsChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),e._v(" "),a("el-table-column",{attrs:{prop:"bar_code",label:"条形码"}}),e._v(" "),a("el-table-column",{attrs:{prop:"title",label:"商品名称"}}),e._v(" "),a("el-table-column",{attrs:{prop:"p_type",label:"一级分类"}}),e._v(" "),a("el-table-column",{attrs:{prop:"cname",label:"二级分类"}}),e._v(" "),a("el-table-column",{attrs:{prop:"stock",label:"库存"}})],1)],1),e._v(" "),a("div",{staticStyle:{"text-align":"right","margin-top":"20px"}},[a("el-pagination",{attrs:{background:"",layout:"total, sizes, prev, pager, next, jumper","page-sizes":[5,10,20,30],"page-size":e.transferSlipPageData.chooseGoodsDialog.limit,"current-page":e.transferSlipPageData.chooseGoodsDialog.page,total:e.transferSlipPageData.chooseGoodsDialog.responseData.count},on:{"size-change":e.clickTransferSlipSearchGoodsPageSizeChange,"current-change":e.clickTransferSlipSearchGoodsPageCurrentChange,"update:currentPage":function(t){return e.$set(e.transferSlipPageData.chooseGoodsDialog,"page",t)},"update:current-page":function(t){return e.$set(e.transferSlipPageData.chooseGoodsDialog,"page",t)}}})],1),e._v(" "),a("div",{staticStyle:{"text-align":"center","margin-top":"20px"}},[a("el-button",{attrs:{type:"primary",plain:""},on:{click:function(t){e.transferSlipPageData.chooseGoodsDialog.isShow=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.clickTransferSlipChoosesGoods}},[e._v("确定")])],1)]),e._v(" "),a("el-dialog",{attrs:{visible:e.transferSlipPageData.sendGoodsDialog.isShow,title:"发货",width:"968px",center:!0},on:{"update:visible":function(t){return e.$set(e.transferSlipPageData.sendGoodsDialog,"isShow",t)}}},[a("div",{staticClass:"flex-space-between",staticStyle:{"margin-bottom":"15px"}},[a("span",[e._v("调拨单号："+e._s(e.transferSlipPageData.sendGoodsDialog.responseData.sn))]),e._v(" "),a("span",[e._v("调拨仓库："+e._s(e.transferSlipPageData.sendGoodsDialog.responseData.shop_name))]),e._v(" "),a("span",[e._v("调拨人员："+e._s(e.transferSlipPageData.sendGoodsDialog.responseData.creator))]),e._v(" "),a("span",[e._v("调拨时间："+e._s(e.transferSlipPageData.sendGoodsDialog.responseData.time))])]),e._v(" "),a("div",{staticStyle:{"margin-bottom":"5px"}},[a("span",[e._v("备注："+e._s(e.transferSlipPageData.sendGoodsDialog.responseData.remark))])]),e._v(" "),a("div",[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.transferSlipPageData.sendGoodsDialog.responseGoodList,border:""}},[a("el-table-column",{attrs:{type:"index",label:"序号"}}),e._v(" "),a("el-table-column",{attrs:{prop:"item",label:"商品名称"}}),e._v(" "),a("el-table-column",{attrs:{prop:"bar_code",label:"条形码"}}),e._v(" "),a("el-table-column",{attrs:{prop:"num",label:"发货数量"}})],1)],1),e._v(" "),a("div",{staticStyle:{"text-align":"center","margin-top":"20px"}},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.transferSlipPageData.sendGoodsDialog.isShow=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.clickTransferSlipSendGoodsOk(e.transferSlipPageData.sendGoodsDialog.id)}}},[e._v("确定发货")])],1)]),e._v(" "),a("el-dialog",{attrs:{visible:e.transferSlipPageData.printingDialog.isShow,title:"打印",width:"968px",center:!0},on:{"update:visible":function(t){return e.$set(e.transferSlipPageData.printingDialog,"isShow",t)}}},[a("div",{attrs:{id:"printTest"}},[a("div",{staticClass:"flex-space-between",staticStyle:{"margin-bottom":"15px",width:"100%"}},[a("span",[e._v("调拨单号："+e._s(e.transferSlipPageData.printingDialog.responseData.sn))]),e._v(" "),a("span",[e._v("调出仓库："+e._s(e.transferSlipPageData.printingDialog.responseData.out_shop))]),e._v(" "),a("span",[e._v("调入仓库："+e._s(e.transferSlipPageData.printingDialog.responseData.in_shop))]),e._v(" "),a("span",[e._v("调拨时间："+e._s(e.transferSlipPageData.printingDialog.responseData.create_time))])]),e._v(" "),a("div",{staticStyle:{"margin-bottom":"5px",width:"100%"}},[a("span",[e._v("备注："+e._s(e.transferSlipPageData.printingDialog.responseData.remark||"无"))])]),e._v(" "),a("div",{staticStyle:{width:"100%","margin-bottom":"10px"}},[a("el-table",{staticClass:"print-table",attrs:{data:e.transferSlipPageData.printingDialog.responseData.item,border:"","row-style":{color:"#000"},"header-row-style":{color:"#000"}}},[a("el-table-column",{attrs:{type:"index",label:"序号",width:"150"}}),e._v(" "),a("el-table-column",{attrs:{prop:"item",label:"商品名称"}}),e._v(" "),a("el-table-column",{attrs:{prop:"bar_code",label:"条形码"}}),e._v(" "),a("el-table-column",{attrs:{prop:"num",label:"发货数量"}})],1)],1),e._v(" "),a("div",{staticClass:"flex-space-between",staticStyle:{"margin-top":"20px","margin-bottom":"15px",width:"100%"}},[a("span",[e._v("制单人："+e._s(e.transferSlipPageData.printingDialog.responseData.worker))]),e._v(" "),a("span",[e._v("配货人：")]),e._v(" "),a("span",[e._v("发货人：")]),e._v(" "),a("span",[e._v("收货人：                    ")])])]),e._v(" "),a("div",{staticStyle:{"text-align":"center","margin-top":"20px"}},[a("el-button",{attrs:{type:"primary",plain:""},on:{click:function(t){e.transferSlipPageData.printingDialog.isShow=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{directives:[{name:"print",rawName:"v-print",value:"#printTest",expression:"'#printTest'"}],attrs:{type:"primary"}},[e._v("打印")])],1)]),e._v(" "),a("el-dialog",{attrs:{visible:e.transferSlipPageData.detailsDialog.isShow,title:"调拨详情",width:"968px",center:!0},on:{"update:visible":function(t){return e.$set(e.transferSlipPageData.detailsDialog,"isShow",t)}}},[a("div",[a("el-steps",{attrs:{active:e.transferSlipPageData.detailsDialog.responseData.status+1,"finish-status":"success","align-center":!0}},[a("el-step",[a("template",{slot:"title"},[a("div",{staticStyle:{color:"#303133","font-weight":"700"}},[e._v("调拨("),a("span",{staticStyle:{color:"#1A1A1A","font-weight":"normal"}},[e._v(e._s(e.transferSlipPageData.detailsDialog.responseData.out_shop))]),e._v(")")])]),e._v(" "),a("template",{slot:"description"},[a("span",{staticStyle:{color:"black"}},[e._v(e._s(e.transferSlipPageData.detailsDialog.responseData.creator))]),e._v(" "),a("br"),e._v(" "),a("span",{staticStyle:{color:"black"}},[e._v(e._s(e.transferSlipPageData.detailsDialog.responseData.create_time))])])],2),e._v(" "),a("el-step",[a("template",{slot:"title"},[a("div",{staticStyle:{color:"#303133","font-weight":"700"}},[e._v("发货")])]),e._v(" "),a("template",{slot:"description"},[a("span",{staticStyle:{color:"black"}},[e._v(e._s(e.transferSlipPageData.detailsDialog.responseData.out_admin_user||"发货人"))]),e._v(" "),a("br"),e._v(" "),a("span",{staticStyle:{color:"black"}},[e._v(e._s(e.transferSlipPageData.detailsDialog.responseData.out_time))])])],2),e._v(" "),a("el-step",{attrs:{title:""}},[a("template",{slot:"title"},[a("div",{staticStyle:{color:"#303133","font-weight":"700"}},[e._v("确认收货("),a("span",{staticStyle:{color:"#1A1A1A","font-weight":"normal"}},[e._v(e._s(e.transferSlipPageData.detailsDialog.responseData.in_shop))]),e._v(")")])]),e._v(" "),a("template",{slot:"description"},[a("span",{staticClass:"font-red"},[e._v(e._s(e.transferSlipPageData.detailsDialog.responseData.in_admin_user))]),e._v(" "),a("br"),e._v(" "),a("span",{staticClass:"font-red"},[e._v(e._s(e.transferSlipPageData.detailsDialog.responseData.in_time))])])],2)],1)],1),e._v(" "),a("div",{staticStyle:{"margin-top":"30px"}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.transferSlipPageData.detailsDialog.responseGoodList,"max-height":"400",border:""}},[a("el-table-column",{attrs:{type:"index",label:"序号"}}),e._v(" "),a("el-table-column",{attrs:{prop:"item",label:"商品名称"}}),e._v(" "),a("el-table-column",{attrs:{prop:"bar_code",label:"条形码"}}),e._v(" "),a("el-table-column",{attrs:{prop:"stock",label:"当前库存"}}),e._v(" "),a("el-table-column",{attrs:{prop:"num",label:"调拨数量"}})],1)],1)])],1),e._v(" "),a("el-tab-pane",{attrs:{label:"盘点单",name:"2"}},[a("div",[a("div",{staticClass:"search"},[a("el-select",{attrs:{clearable:"",placeholder:"选择状态"},model:{value:e.checkOrderRequestData.status,callback:function(t){e.$set(e.checkOrderRequestData,"status",t)},expression:"checkOrderRequestData.status"}},e._l(e.checkOrderPageData.status,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1),e._v(" "),a("el-date-picker",{attrs:{type:"daterange","range-separator":"至","value-format":"yyyy-MM-dd","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.checkOrderRequestData.time,callback:function(t){e.$set(e.checkOrderRequestData,"time",t)},expression:"checkOrderRequestData.time"}}),e._v(" "),a("el-input",{staticStyle:{width:"300px"},attrs:{placeholder:"订单号/商品名(目前仅支持单号搜索)",clearable:""},model:{value:e.checkOrderRequestData.name,callback:function(t){e.$set(e.checkOrderRequestData,"name",t)},expression:"checkOrderRequestData.name"}}),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.getCheckOrderList}},[e._v("搜索")])],1),e._v(" "),a("div",{staticClass:"search",staticStyle:{"margin-top":"15px"}},[a("el-button",{attrs:{type:"primary",plain:""}},[e._v("导出")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.clickAddCheckOrder(1)}}},[e._v("新增盘点")]),e._v(" "),a("el-button",{attrs:{type:"primary",plain:""},on:{click:function(t){return e.clickAddCheckOrder(2)}}},[e._v("部分盘点")])],1)]),e._v(" "),a("div",{staticStyle:{"margin-top":"15px"}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.checkOrderPageData.list,border:"",height:"620"}},[a("el-table-column",{attrs:{prop:"order_sn",label:"订单号"}}),e._v(" "),a("el-table-column",{attrs:{prop:"shop_id",label:"盘点仓库"}}),e._v(" "),a("el-table-column",{attrs:{prop:"user_id",label:"盘点人员"}}),e._v(" "),a("el-table-column",{attrs:{prop:"stime",label:"盘点时间"}}),e._v(" "),a("el-table-column",{attrs:{prop:"status",label:"状态"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return["盘点待确认"===t.row.status?a("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(a){return e.clickCheckOrderConfirm(t.row.id)}}},[e._v("确认盘点")]):e._e(),e._v(" "),"盘点待确认"===t.row.status?a("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(a){return e.clickCheckOrderEdit(t.row.id)}}},[e._v("编辑")]):e._e(),e._v(" "),a("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(a){return e.clickCheckOrderDetails(t.row.id)}}},[e._v("详情")]),e._v(" "),"盘点待确认"===t.row.status?a("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(a){return e.clickCheckOrderDel(t.row.id)}}},[e._v("删除")]):e._e()]}}])})],1)],1),e._v(" "),a("div",{staticClass:"footer",staticStyle:{"text-align":"right","margin-top":"15px"}},[a("el-pagination",{attrs:{background:"",layout:"total, sizes, prev, pager, next, jumper","page-sizes":[10,20,30,40],"page-size":e.checkOrderRequestData.limit,"current-page":e.checkOrderRequestData.page,total:e.checkOrderPageData.count},on:{"size-change":e.checkOrderPageSizeChange,"current-change":e.checkOrderOnePageCurrentChange,"update:currentPage":function(t){return e.$set(e.checkOrderRequestData,"page",t)},"update:current-page":function(t){return e.$set(e.checkOrderRequestData,"page",t)}}})],1),e._v(" "),a("el-dialog",{attrs:{visible:e.checkOrderPageData.addDialog.isShow,title:"新增盘点",width:"968px",center:!0},on:{"update:visible":function(t){return e.$set(e.checkOrderPageData.addDialog,"isShow",t)}}},[a("div",{staticStyle:{"margin-bottom":"15px"}},[a("el-button",{attrs:{type:"danger",plain:""},on:{click:function(t){e.checkOrderPageData.addDialog.list=[]}}},[e._v("全部删除")]),e._v(" "),a("el-button",{attrs:{type:"primary",plain:""},on:{click:function(t){e.checkOrderPageData.addGoodsDialog.isShow=!0}}},[e._v("新增商品")]),e._v(" "),e.checkOrderPageData.addDialog.isShow2?e._e():a("el-button",{attrs:{type:"primary",plain:"",disabled:e.checkOrderPageData.addDialog.is_enable},on:{click:e.addCheckOrderDialongLoadMoreGoods}},[e._v("加载下一批商品")])],1),e._v(" "),a("div",[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.checkOrderPageData.addDialog.list,border:"",height:"400px"}},[a("el-table-column",{attrs:{type:"index",label:"序号",width:"80"}}),e._v(" "),a("el-table-column",{attrs:{prop:"item_title",label:"商品名称"}}),e._v(" "),a("el-table-column",{attrs:{prop:"bar_code",label:"条形码"}}),e._v(" "),a("el-table-column",{attrs:{prop:"top_category",label:"一级分类"}}),e._v(" "),a("el-table-column",{attrs:{prop:"two_category",label:"二级分类"}}),e._v(" "),a("el-table-column",{attrs:{prop:"stock_reality",label:"当前库存"}}),e._v(" "),a("el-table-column",{attrs:{label:"盘点库存"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{attrs:{placehoder:"请输入盘点库存"},model:{value:t.row.stock_now,callback:function(a){e.$set(t.row,"stock_now",a)},expression:"scope.row.stock_now"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text"},on:{click:function(a){return e.clickAddCheckOrderDialogDelGoods(t.$index)}}},[e._v("删除")])]}}])})],1)],1),e._v(" "),a("div",{staticStyle:{"margin-top":"15px"}},[a("el-form",[a("el-form-item",{attrs:{label:"备注：","label-width":"55px"}},[a("el-input",{attrs:{placeholder:"请输入备注信息"},model:{value:e.checkOrderPageData.addDialog.remarks,callback:function(t){e.$set(e.checkOrderPageData.addDialog,"remarks",t)},expression:"checkOrderPageData.addDialog.remarks"}})],1)],1)],1),e._v(" "),a("div",{staticStyle:{"text-align":"center"}},[a("el-button",{attrs:{type:"primary",plain:""},on:{click:function(t){e.checkOrderPageData.addDialog.isShow=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.clickAddCheckOrderDialogOk}},[e._v("确定")])],1)]),e._v(" "),a("el-dialog",{attrs:{title:"选择商品",visible:e.checkOrderPageData.addGoodsDialog.isShow,width:"968px",center:!0},on:{"update:visible":function(t){return e.$set(e.checkOrderPageData.addGoodsDialog,"isShow",t)}}},[a("div",{staticStyle:{"margin-bottom":"15px"}},[a("el-input",{staticStyle:{width:"180px"},attrs:{placeholder:"商品名称/条形码"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.getCheckOrderGoodList(t)}},model:{value:e.checkOrderPageData.addGoodsDialog.title,callback:function(t){e.$set(e.checkOrderPageData.addGoodsDialog,"title",t)},expression:"checkOrderPageData.addGoodsDialog.title"}}),e._v(" "),a("el-select",{attrs:{clearable:"",placeholder:"选择一级分类"},on:{change:e.clickAddCheckOrderTwoCategory},model:{value:e.checkOrderPageData.addGoodsDialog.topCategoryId,callback:function(t){e.$set(e.checkOrderPageData.addGoodsDialog,"topCategoryId",t)},expression:"checkOrderPageData.addGoodsDialog.topCategoryId"}},e._l(e.checkOrderPageData.addGoodsDialog.topCategory,function(e){return a("el-option",{key:e.id,attrs:{label:e.cname,value:e.id}})}),1),e._v(" "),a("el-select",{attrs:{clearable:"",placeholder:"选择二级分类"},model:{value:e.checkOrderPageData.addGoodsDialog.twoCategoryId,callback:function(t){e.$set(e.checkOrderPageData.addGoodsDialog,"twoCategoryId",t)},expression:"checkOrderPageData.addGoodsDialog.twoCategoryId"}},e._l(e.checkOrderPageData.addGoodsDialog.twoCategory,function(e){return a("el-option",{key:e.id,attrs:{label:e.cname,value:e.id}})}),1),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.getCheckOrderGoodList}},[e._v("查询")])],1),e._v(" "),a("div",[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.checkOrderPageData.addGoodsDialog.list,"tooltip-effect":"dark",height:"460",border:""},on:{"selection-change":e.clickAddGoodsDialogHandleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),e._v(" "),a("el-table-column",{attrs:{type:"index",label:"序号"}}),e._v(" "),a("el-table-column",{attrs:{prop:"title",label:"商品名称"}}),e._v(" "),a("el-table-column",{attrs:{prop:"bar_code",label:"条形码"}}),e._v(" "),a("el-table-column",{attrs:{prop:"type_ids",label:"一级分类"}}),e._v(" "),a("el-table-column",{attrs:{prop:"types",label:"二级分类"}}),e._v(" "),a("el-table-column",{attrs:{prop:"stock",label:"库存"}})],1)],1),e._v(" "),a("div",{staticStyle:{"text-align":"right","margin-top":"15px"}},[a("el-pagination",{attrs:{background:"",layout:"total, sizes, prev, pager, next, jumper","page-sizes":[10,20,30,40],"page-size":e.checkOrderPageData.addGoodsDialog.limit,"current-page":e.checkOrderPageData.addGoodsDialog.page,total:e.checkOrderPageData.addGoodsDialog.count},on:{"size-change":e.getCheckOrderGoodListPageSizeChange,"current-change":e.getCheckOrderGoodListOnePageCurrentChange,"update:currentPage":function(t){return e.$set(e.checkOrderPageData.addGoodsDialog,"page",t)},"update:current-page":function(t){return e.$set(e.checkOrderPageData.addGoodsDialog,"page",t)}}})],1),e._v(" "),a("div",{staticStyle:{"text-align":"center","margin-top":"20px"}},[a("el-button",{attrs:{type:"primary",plain:""},on:{click:function(t){e.checkOrderPageData.addGoodsDialog.isShow=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.clickAddGoodsDialogOk}},[e._v("确定")])],1)]),e._v(" "),a("el-dialog",{attrs:{visible:e.checkOrderPageData.confirmDialog.isShow,title:"确认盘点",width:"968px",center:!0},on:{"update:visible":function(t){return e.$set(e.checkOrderPageData.confirmDialog,"isShow",t)}}},[a("div",[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.checkOrderPageData.confirmDialog.data.item,border:""}},[a("el-table-column",{attrs:{type:"index",label:"序号"}}),e._v(" "),a("el-table-column",{attrs:{prop:"title",label:"商品名称"}}),e._v(" "),a("el-table-column",{attrs:{prop:"type",label:"一级分类"}}),e._v(" "),a("el-table-column",{attrs:{prop:"type_id",label:"二级分类"}}),e._v(" "),a("el-table-column",{attrs:{prop:"stock_reality",label:"当前库存"}}),e._v(" "),a("el-table-column",{attrs:{label:"盘点库存"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.stock_now<t.row.stock_reality?a("span",{staticClass:"font-red"},[e._v(e._s(t.row.stock_now))]):e._e(),e._v(" "),t.row.stock_now===t.row.stock_reality?a("span",[e._v(e._s(t.row.stock_now))]):e._e(),e._v(" "),t.row.stock_now>t.row.stock_reality?a("span",{staticClass:"font-blue"},[e._v(e._s(t.row.stock_now))]):e._e()]}}])})],1)],1),e._v(" "),a("div",{staticStyle:{"margin-top":"15px"}},[a("el-form",[a("el-form-item",{attrs:{label:"备注：","label-width":"55px"}},[a("el-input",{model:{value:e.checkOrderPageData.confirmDialog.data.remarks,callback:function(t){e.$set(e.checkOrderPageData.confirmDialog.data,"remarks",t)},expression:"checkOrderPageData.confirmDialog.data.remarks"}})],1)],1)],1),e._v(" "),a("div",{staticStyle:{"text-align":"center"}},[a("el-button",{attrs:{type:"primary",plain:""},on:{click:function(t){e.checkOrderPageData.confirmDialog.isShow=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.clickCheckOrderConfirmOk}},[e._v("确认盘点")])],1)]),e._v(" "),a("el-dialog",{attrs:{visible:e.checkOrderPageData.detailsDialog.isShow,title:"盘点详情",width:"968px",center:!0},on:{"update:visible":function(t){return e.$set(e.checkOrderPageData.detailsDialog,"isShow",t)}}},[a("div",[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.checkOrderPageData.detailsDialog.list,border:"",height:"400px"}},[a("el-table-column",{attrs:{type:"index",label:"序号"}}),e._v(" "),a("el-table-column",{attrs:{prop:"title",label:"商品名称"}}),e._v(" "),a("el-table-column",{attrs:{prop:"type",label:"一级分类"}}),e._v(" "),a("el-table-column",{attrs:{prop:"type_id",label:"二级分类"}}),e._v(" "),a("el-table-column",{attrs:{prop:"stock_reality",label:"当前库存"}}),e._v(" "),a("el-table-column",{attrs:{label:"盘点库存"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.stock_now<t.row.stock_reality?a("span",{staticClass:"font-red"},[e._v(e._s(t.row.stock_now))]):e._e(),e._v(" "),t.row.stock_now===t.row.stock_reality?a("span",[e._v(e._s(t.row.stock_now))]):e._e(),e._v(" "),t.row.stock_now>t.row.stock_reality?a("span",{staticClass:"font-blue"},[e._v(e._s(t.row.stock_now))]):e._e()]}}])})],1)],1),e._v(" "),a("div",{staticStyle:{"margin-top":"15px"}},[a("el-form",[a("el-form-item",{attrs:{label:"备注：","label-width":"55px"}},[a("el-input",{attrs:{placeholder:"无",disabled:!0},model:{value:e.checkOrderPageData.detailsDialog.remarks,callback:function(t){e.$set(e.checkOrderPageData.detailsDialog,"remarks",t)},expression:"checkOrderPageData.detailsDialog.remarks"}})],1)],1)],1)]),e._v(" "),a("el-dialog",{attrs:{visible:e.checkOrderPageData.editDialog.isShow,title:"编辑盘点单",width:"968px",center:!0},on:{"update:visible":function(t){return e.$set(e.checkOrderPageData.editDialog,"isShow",t)}}},[a("div",{staticStyle:{"margin-bottom":"15px"}},[a("el-button",{attrs:{type:"primary",plain:""},on:{click:function(t){e.checkOrderPageData.addGoodsDialog.isShow2=!0}}},[e._v("新增商品")])],1),e._v(" "),a("div",[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.checkOrderPageData.editDialog.responseData.item,border:"",height:"400px"}},[a("el-table-column",{attrs:{type:"index",label:"序号"}}),e._v(" "),a("el-table-column",{attrs:{prop:"title",label:"商品名称"}}),e._v(" "),a("el-table-column",{attrs:{prop:"type_id",label:"一级分类"}}),e._v(" "),a("el-table-column",{attrs:{prop:"type",label:"二级分类"}}),e._v(" "),a("el-table-column",{attrs:{prop:"stock_reality",label:"当前库存"}}),e._v(" "),a("el-table-column",{attrs:{label:"盘点库存"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{attrs:{placehoder:"请输入盘点库存"},model:{value:t.row.stock_now,callback:function(a){e.$set(t.row,"stock_now",a)},expression:"scope.row.stock_now"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text"},on:{click:function(a){return e.clickCheckOrderDelGoods(t.$index)}}},[e._v("删除")])]}}])})],1)],1),e._v(" "),a("div",{staticStyle:{"margin-top":"15px"}},[a("el-form",[a("el-form-item",{attrs:{label:"备注：","label-width":"55px"}},[a("el-input",{attrs:{placeholder:"无"},model:{value:e.checkOrderPageData.editDialog.responseData.remarks,callback:function(t){e.$set(e.checkOrderPageData.editDialog.responseData,"remarks",t)},expression:"checkOrderPageData.editDialog.responseData.remarks"}})],1)],1)],1),e._v(" "),a("div",{staticStyle:{"text-align":"center"}},[a("el-button",{attrs:{type:"primary",plain:""},on:{click:function(t){e.checkOrderPageData.editDialog.isShow=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.clickCheckOrderEditOk}},[e._v("确定编辑")])],1)]),e._v(" "),a("el-dialog",{attrs:{title:"选择商品",visible:e.checkOrderPageData.addGoodsDialog.isShow2,width:"968px",center:!0},on:{"update:visible":function(t){return e.$set(e.checkOrderPageData.addGoodsDialog,"isShow2",t)}}},[a("div",{staticStyle:{"margin-bottom":"15px"}},[a("el-input",{staticStyle:{width:"180px"},attrs:{placeholder:"商品名称/条形码"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.getCheckOrderGoodList(t)}},model:{value:e.checkOrderPageData.addGoodsDialog.title,callback:function(t){e.$set(e.checkOrderPageData.addGoodsDialog,"title",t)},expression:"checkOrderPageData.addGoodsDialog.title"}}),e._v(" "),a("el-select",{attrs:{clearable:"",placeholder:"选择一级分类"},on:{change:e.clickAddCheckOrderTwoCategory},model:{value:e.checkOrderPageData.addGoodsDialog.topCategoryId,callback:function(t){e.$set(e.checkOrderPageData.addGoodsDialog,"topCategoryId",t)},expression:"checkOrderPageData.addGoodsDialog.topCategoryId"}},e._l(e.checkOrderPageData.addGoodsDialog.topCategory,function(e){return a("el-option",{key:e.id,attrs:{label:e.cname,value:e.id}})}),1),e._v(" "),a("el-select",{attrs:{clearable:"",placeholder:"选择二级分类"},model:{value:e.checkOrderPageData.addGoodsDialog.twoCategoryId,callback:function(t){e.$set(e.checkOrderPageData.addGoodsDialog,"twoCategoryId",t)},expression:"checkOrderPageData.addGoodsDialog.twoCategoryId"}},e._l(e.checkOrderPageData.addGoodsDialog.twoCategory,function(e){return a("el-option",{key:e.id,attrs:{label:e.cname,value:e.id}})}),1),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.getCheckOrderGoodList}},[e._v("查询")])],1),e._v(" "),a("div",[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.checkOrderPageData.addGoodsDialog.list,"tooltip-effect":"dark",height:"460",border:""},on:{"selection-change":e.clickAddGoodsDialogHandleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),e._v(" "),a("el-table-column",{attrs:{prop:"title",label:"商品名称"}}),e._v(" "),a("el-table-column",{attrs:{prop:"bar_code",label:"条形码"}}),e._v(" "),a("el-table-column",{attrs:{prop:"type_ids",label:"一级分类"}}),e._v(" "),a("el-table-column",{attrs:{prop:"types",label:"二级分类"}}),e._v(" "),a("el-table-column",{attrs:{prop:"stock",label:"库存"}})],1)],1),e._v(" "),a("div",{staticStyle:{"text-align":"right","margin-top":"15px"}},[a("el-pagination",{attrs:{background:"",layout:"total, sizes, prev, pager, next, jumper","page-sizes":[10,20,30,40],"page-size":e.checkOrderPageData.addGoodsDialog.limit,"current-page":e.checkOrderPageData.addGoodsDialog.page,total:e.checkOrderPageData.addGoodsDialog.count},on:{"size-change":e.getCheckOrderGoodListPageSizeChange,"current-change":e.getCheckOrderGoodListOnePageCurrentChange,"update:currentPage":function(t){return e.$set(e.checkOrderPageData.addGoodsDialog,"page",t)},"update:current-page":function(t){return e.$set(e.checkOrderPageData.addGoodsDialog,"page",t)}}})],1),e._v(" "),a("div",{staticStyle:{"text-align":"center","margin-top":"20px"}},[a("el-button",{attrs:{type:"primary",plain:""},on:{click:function(t){e.checkOrderPageData.addGoodsDialog.isShow2=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.clickCheckOrderEditChooseGoodsOk}},[e._v("确定")])],1)])],1),e._v(" "),a("el-tab-pane",{attrs:{label:"盘亏单",name:"3"}},[a("div",[a("div",{staticClass:"search"},[a("el-select",{attrs:{clearable:"",placeholder:"选择状态"},model:{value:e.checkLossOrderRequestData.status,callback:function(t){e.$set(e.checkLossOrderRequestData,"status",t)},expression:"checkLossOrderRequestData.status"}},e._l(e.checkLossOrderPageData.status,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1),e._v(" "),a("el-date-picker",{attrs:{type:"daterange","range-separator":"至","value-format":"yyyy-MM-dd","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.checkLossOrderRequestData.time,callback:function(t){e.$set(e.checkLossOrderRequestData,"time",t)},expression:"checkLossOrderRequestData.time"}}),e._v(" "),a("el-input",{staticStyle:{width:"300px"},attrs:{placeholder:"请输入需查询的订单号/商品名",clearable:""},model:{value:e.checkLossOrderRequestData.name,callback:function(t){e.$set(e.checkLossOrderRequestData,"name",t)},expression:"checkLossOrderRequestData.name"}}),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.searchCheckLossOrder}},[e._v("搜索")])],1),e._v(" "),a("div",{staticClass:"search",staticStyle:{"margin-top":"15px"}},[a("el-button",{attrs:{type:"primary",plain:""}},[e._v("导出")])],1)]),e._v(" "),a("div",{staticStyle:{"margin-top":"15px"}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.checkLossOrderPageData.list,border:"",height:"620"}},[a("el-table-column",{attrs:{prop:"order_sn",label:"订单号"}}),e._v(" "),a("el-table-column",{attrs:{prop:"shop_id",label:"盘点仓库"}}),e._v(" "),a("el-table-column",{attrs:{prop:"creator_id",label:"盘点人员"}}),e._v(" "),a("el-table-column",{attrs:{prop:"time",label:"盘点时间"}}),e._v(" "),a("el-table-column",{attrs:{prop:"status",label:"状态"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(a){return e.checkLossOrderDetails(t.row.id)}}},[e._v("详情")])]}}])})],1)],1),e._v(" "),a("div",{staticClass:"footer",staticStyle:{"text-align":"right","margin-top":"15px"}},[a("el-pagination",{attrs:{background:"",layout:"total, sizes, prev, pager, next, jumper","page-sizes":[10,20,30,40],"page-size":e.checkLossOrderRequestData.limit,"current-page":e.checkLossOrderRequestData.page,total:e.checkLossOrderPageData.count},on:{"size-change":e.checkLossOrderPageSizeChange,"current-change":e.checkLossOrderOnePageCurrentChange,"update:currentPage":function(t){return e.$set(e.checkLossOrderRequestData,"page",t)},"update:current-page":function(t){return e.$set(e.checkLossOrderRequestData,"page",t)}}})],1),e._v(" "),a("el-dialog",{attrs:{title:"盘亏单详情",visible:e.checkLossOrderPageData.detailsDialog.isShow,width:"968px",center:!0},on:{"update:visible":function(t){return e.$set(e.checkLossOrderPageData.detailsDialog,"isShow",t)}}},[a("div",[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.checkLossOrderPageData.detailsDialog.responseData.item,border:""}},[a("el-table-column",{attrs:{type:"index",label:"序号"}}),e._v(" "),a("el-table-column",{attrs:{prop:"title",label:"商品名称"}}),e._v(" "),a("el-table-column",{attrs:{prop:"type_id",label:"一级分类"}}),e._v(" "),a("el-table-column",{attrs:{prop:"type",label:"二级分类"}}),e._v(" "),a("el-table-column",{attrs:{prop:"stock",label:"当前库存"}}),e._v(" "),a("el-table-column",{attrs:{prop:"pay_all_price",label:"盘点库存"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.stock>t.row.num?a("span",{staticClass:"font-red"},[e._v(e._s(t.row.num))]):e._e(),e._v(" "),t.row.stock===t.row.num?a("span",[e._v(e._s(t.row.num))]):e._e(),e._v(" "),t.row.stock<t.row.num?a("span",{staticClass:"font-blue"},[e._v(e._s(t.row.num))]):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{porp:"remarks",label:"备注"}})],1)],1),e._v(" "),a("div",{staticStyle:{"margin-top":"15px"}},[a("el-form",[a("el-form-item",{attrs:{label:"备注：","label-width":"55px"}},[a("el-input",{attrs:{disabled:!0,placeholder:"无"},model:{value:e.checkLossOrderPageData.detailsDialog.responseData.remarks,callback:function(t){e.$set(e.checkLossOrderPageData.detailsDialog.responseData,"remarks",t)},expression:"checkLossOrderPageData.detailsDialog.responseData.remarks"}})],1)],1)],1)])],1),e._v(" "),a("el-tab-pane",{attrs:{label:"盘盈单",name:"4"}},[a("div",[a("div",{staticClass:"search"},[a("el-select",{attrs:{clearable:"",placeholder:"选择状态"},model:{value:e.checkWinOrderRequestData.status,callback:function(t){e.$set(e.checkWinOrderRequestData,"status",t)},expression:"checkWinOrderRequestData.status"}},e._l(e.checkWinOrderPageData.status,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1),e._v(" "),a("el-date-picker",{attrs:{type:"daterange","range-separator":"至","value-format":"yyyy-MM-dd","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.checkWinOrderRequestData.time,callback:function(t){e.$set(e.checkWinOrderRequestData,"time",t)},expression:"checkWinOrderRequestData.time"}}),e._v(" "),a("el-input",{staticStyle:{width:"300px"},attrs:{placeholder:"请输入需查询的订单号/商品名",clearable:""},model:{value:e.checkWinOrderRequestData.name,callback:function(t){e.$set(e.checkWinOrderRequestData,"name",t)},expression:"checkWinOrderRequestData.name"}}),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.searchCheckWinOrder}},[e._v("搜索")])],1),e._v(" "),a("div",{staticClass:"search",staticStyle:{"margin-top":"15px"}},[a("el-button",{attrs:{type:"primary",plain:""}},[e._v("导出")])],1)]),e._v(" "),a("div",{staticStyle:{"margin-top":"15px"}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.checkWinOrderPageData.list,border:"",height:"620"}},[a("el-table-column",{attrs:{prop:"order_sn",label:"订单号"}}),e._v(" "),a("el-table-column",{attrs:{prop:"shop_id",label:"盘点仓库"}}),e._v(" "),a("el-table-column",{attrs:{prop:"creator_id",label:"盘点人员"}}),e._v(" "),a("el-table-column",{attrs:{prop:"time",label:"盘点时间"}}),e._v(" "),a("el-table-column",{attrs:{prop:"status",label:"状态"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(a){return e.checkWinOrderDetails(t.row.id)}}},[e._v("详情")])]}}])})],1)],1),e._v(" "),a("div",{staticClass:"footer",staticStyle:{"text-align":"right","margin-top":"15px"}},[a("el-pagination",{attrs:{background:"",layout:"total, sizes, prev, pager, next, jumper","page-sizes":[10,20,30,40],"page-size":e.checkWinOrderRequestData.limit,"current-page":e.checkWinOrderRequestData.page,total:e.checkWinOrderPageData.count},on:{"size-change":e.checkWinOrderPageSizeChange,"current-change":e.checkWinOrderOnePageCurrentChange,"update:currentPage":function(t){return e.$set(e.checkWinOrderRequestData,"page",t)},"update:current-page":function(t){return e.$set(e.checkWinOrderRequestData,"page",t)}}})],1),e._v(" "),a("el-dialog",{attrs:{title:"盘盈单详情",visible:e.checkWinOrderPageData.detailsDialog.isShow,width:"968px",center:!0},on:{"update:visible":function(t){return e.$set(e.checkWinOrderPageData.detailsDialog,"isShow",t)}}},[a("div",[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.checkWinOrderPageData.detailsDialog.responseData.item,border:""}},[a("el-table-column",{attrs:{type:"index",label:"序号"}}),e._v(" "),a("el-table-column",{attrs:{prop:"title",label:"商品名称"}}),e._v(" "),a("el-table-column",{attrs:{prop:"type_id",label:"一级分类"}}),e._v(" "),a("el-table-column",{attrs:{prop:"type",label:"二级分类"}}),e._v(" "),a("el-table-column",{attrs:{prop:"stock",label:"当前库存"}}),e._v(" "),a("el-table-column",{attrs:{prop:"pay_all_price",label:"盘点库存"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.stock>t.row.num?a("span",{staticClass:"font-red"},[e._v(e._s(t.row.num))]):e._e(),e._v(" "),t.row.stock===t.row.num?a("span",[e._v(e._s(t.row.num))]):e._e(),e._v(" "),t.row.stock<t.row.num?a("span",{staticClass:"font-blue"},[e._v(e._s(t.row.num))]):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{porp:"remarks",label:"备注"}})],1)],1),e._v(" "),a("div",{staticStyle:{"margin-top":"15px"}},[a("el-form",[a("el-form-item",{attrs:{label:"备注：","label-width":"55px"}},[a("el-input",{attrs:{disabled:!0,placeholder:"无"},model:{value:e.checkWinOrderPageData.detailsDialog.responseData.remarks,callback:function(t){e.$set(e.checkWinOrderPageData.detailsDialog.responseData,"remarks",t)},expression:"checkWinOrderPageData.detailsDialog.responseData.remarks"}})],1)],1)],1)])],1)],1)],1)},staticRenderFns:[]};var f=a("C7Lr")(D,k,!1,function(e){a("E0fD"),a("WBEr")},"data-v-706ba22d",null);t.default=f.exports},JEIP:function(e,t,a){var r=a("BE4u").parseFloat,i=a("U3dz").trim;e.exports=1/r(a("Mfy/")+"-0")!=-1/0?function(e){var t=i(String(e),3),a=r(t);return 0===a&&"-"==t.charAt(0)?-0:a}:r},"Mfy/":function(e,t){e.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},R3vw:function(e,t,a){var r=a("8leu"),i=a("JEIP");r(r.S+r.F*(Number.parseFloat!=i),"Number",{parseFloat:i})},U3dz:function(e,t,a){var r=a("8leu"),i=a("kKxU"),o=a("9tun"),s=a("Mfy/"),l="["+s+"]",n=RegExp("^"+l+l+"*"),c=RegExp(l+l+"*$"),d=function(e,t,a){var i={},l=o(function(){return!!s[e]()||"​"!="​"[e]()}),n=i[e]=l?t(p):s[e];a&&(i[a]=n),r(r.P+r.F*l,"String",i)},p=d.trim=function(e,t){return e=String(i(e)),1&t&&(e=e.replace(n,"")),2&t&&(e=e.replace(c,"")),e};e.exports=d},WBEr:function(e,t){},YGy9:function(e,t,a){var r=a("PUvy"),i=Math.floor;e.exports=function(e){return!r(e)&&isFinite(e)&&i(e)===e}},llbJ:function(e,t,a){a("R3vw"),e.exports=a("Rv9F").Number.parseFloat}});