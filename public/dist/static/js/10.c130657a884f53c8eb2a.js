webpackJsonp([10],{"5Mve":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("IHPB"),i=a.n(s),r=a("lC5x"),n=a.n(r),c=a("J0Oq"),l=a.n(c),o=a("1h8J"),u=a("L/hj"),d={name:"StatementReportForm",data:function(){return{requestData:{page:1,limit:10,search:"",type:"1",date:[],timeBtnValue:0,startTime:"",endTime:""},requestData1:{type:1},responseData1:{data:[]},responseData2:{all_price:0,price:0},responseData3:{all_total:0,new_member:0,xiao_total:0,sanCount:0,all_distributor:0,all_fans:0,new_add_distributor:0,new_add_fans:0},waiter:[],serviceItemList:[],requestData4:{waiter_id:"",service_id:"",page:1,limit:10},responseData4:{data:[]},requestData5:{type:1},responseData5:{data:[]},requestData6:{type_id:""},responseData6:{count:0,data:{all_price:0,data:[]}},typeName:[]}},methods:{pageCurrentChange:function(t){this.requestData.page=t,this.getList()},pageSizeChange:function(t){this.requestData.limit=t,this.getList()},getList:function(){switch(this.requestData.type){case"1":this.getStatisticsOrder();break;case"2":this.getStatisticsCz();break;case"3":this.getStatisticsMember();break;case"4":this.getStatisticsService();break;case"5":this.getStatisticsVolume();break;case"6":this.getStatisticsExpenditure()}},chooseTime:function(t){switch(this.requestData.timeBtnValue=t,t){case 1:this.requestData.startTime=Object(u.a)((new Date).getTime()),this.requestData.endTime=Object(u.a)((new Date).getTime()),this.requestData.date=[];break;case 2:this.requestData.startTime=Object(u.a)((new Date).getTime()-864e5),this.requestData.endTime=Object(u.a)((new Date).getTime()-864e5),this.requestData.date=[];break;case 3:var e=Object(u.d)();this.requestData.startTime=e[0],this.requestData.endTime=e[1],this.requestData.date=[]}},chooseTimeDIY:function(){this.requestData.startTime="",this.requestData.endTime="",this.requestData.timeBtnValue=0},handleClick:function(){this.requestData.page=1,this.requestData.search="",this.chooseTime(1),this.requestData.date=[],this.getList()},getStatisticsOrder:function(){var t=this;return l()(n.a.mark(function e(){var a;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a={start_time:t.requestData.date[0]||t.requestData.startTime,end_time:t.requestData.date[1]||t.requestData.endTime,type:t.requestData1.type,title:t.requestData.search},e.next=3,Object(o._6)(a).then(function(e){200===e.code&&(t.responseData1.data=e.data)});case 3:case"end":return e.stop()}},e,t)}))()},getStatisticsCz:function(){var t=this;return l()(n.a.mark(function e(){var a;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a={start_time:t.requestData.date[0]||t.requestData.startTime,end_time:t.requestData.date[1]||t.requestData.endTime},e.next=3,Object(o._3)(a).then(function(e){200===e.code&&(t.responseData2=e.data)});case 3:case"end":return e.stop()}},e,t)}))()},getStatisticsMember:function(){var t=this;return l()(n.a.mark(function e(){var a;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a={start_time:t.requestData.date[0]||t.requestData.startTime,end_time:t.requestData.date[1]||t.requestData.endTime},e.next=3,Object(o._5)(a).then(function(e){200===e.code&&(t.responseData3=e.data)});case 3:case"end":return e.stop()}},e,t)}))()},getStatisticsService:function(){var t=this;return l()(n.a.mark(function e(){var a;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a={start_time:t.requestData.date[0]||t.requestData.startTime,end_time:t.requestData.date[1]||t.requestData.endTime,service_id:t.requestData4.service_id,waiter_id:t.requestData4.waiter_id},e.next=3,Object(o._7)(a).then(function(e){200===e.code&&(t.responseData4.data=e.data)});case 3:case"end":return e.stop()}},e,t)}))()},getWaiterList:function(){var t=this;Object(o._25)().then(function(e){e.data.length&&(t.waiter=e.data)})},getServiceItemList:function(){var t=this,e={page:this.requestData4.page+","+this.requestData4.limit};Object(o._1)(e).then(function(e){var a;e.data.length&&((a=t.serviceItemList).push.apply(a,i()(e.data)),t.requestData4.page++,t.getServiceItemList())})},getStatisticsVolume:function(){var t=this;return l()(n.a.mark(function e(){var a;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a={start_time:t.requestData.date[0]||t.requestData.startTime,end_time:t.requestData.date[1]||t.requestData.endTime,type:t.requestData5.type,title:t.requestData.search},e.next=3,Object(o._8)(a).then(function(e){200===e.code&&(t.responseData5.data=e.data)});case 3:case"end":return e.stop()}},e,t)}))()},getStatisticsExpenditure:function(){var t=this;return l()(n.a.mark(function e(){var a;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a={start_time:t.requestData.date[0]||t.requestData.startTime,end_time:t.requestData.date[1]||t.requestData.endTime,type_id:t.requestData6.type_id},e.next=3,Object(o._4)(a).then(function(e){200===e.code&&(t.responseData6.data=e)});case 3:case"end":return e.stop()}},e,t)}))()},getExpenditureTypeNameList:function(){var t=this;Object(o.u)().then(function(e){e.data.length&&(t.typeName=e.data)})}},mounted:function(){this.chooseTime(1),this.getList(),this.getExpenditureTypeNameList(),this.getWaiterList(),this.getServiceItemList()}},v={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"statement-report-form"},[a("el-tabs",{on:{"tab-click":t.handleClick},model:{value:t.requestData.type,callback:function(e){t.$set(t.requestData,"type",e)},expression:"requestData.type"}},[a("el-tab-pane",{attrs:{label:"订单统计",name:"1"}},[a("div",{staticClass:"search-condition"},[a("div",{staticClass:"div"},[a("el-button-group",[a("el-button",{staticClass:"btn",class:{active:1===t.requestData.timeBtnValue},on:{click:function(e){return t.chooseTime(1)}}},[t._v("今日\n                    ")]),t._v(" "),a("el-button",{staticClass:"btn",class:{active:2===t.requestData.timeBtnValue},on:{click:function(e){return t.chooseTime(2)}}},[t._v("昨日\n                    ")]),t._v(" "),a("el-button",{staticClass:"btn",class:{active:3===t.requestData.timeBtnValue},on:{click:function(e){return t.chooseTime(3)}}},[t._v("本周\n                    ")])],1)],1),t._v(" "),a("div",{staticClass:"div"},[a("el-date-picker",{attrs:{clearable:!1,type:"daterange","range-separator":"至","value-format":"yyyy-MM-dd","start-placeholder":"开始日期","end-placeholder":"结束日期"},on:{focus:t.chooseTimeDIY},model:{value:t.requestData.date,callback:function(e){t.$set(t.requestData,"date",e)},expression:"requestData.date"}})],1),t._v(" "),a("div",{staticClass:"div"},[a("el-button",{attrs:{type:"primary",plain:""}},[t._v("导出")])],1),t._v(" "),a("div",{staticClass:"div"},[a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.requestData.page=1,t.getList()}}},[t._v("搜索")])],1)]),t._v(" "),a("div",{staticClass:"content1"},t._l(t.responseData1.data,function(e,s){return a("el-card",{key:s,staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[t._v(t._s(e.name))])]),t._v(" "),a("h1",[t._v("\n                    "+t._s(e.price)+"\n                  ")])])}),1)]),t._v(" "),a("el-tab-pane",{attrs:{label:"会员统计",name:"3"}},[a("div",{staticClass:"search-condition"},[a("div",{staticClass:"div"},[a("el-button-group",[a("el-button",{staticClass:"btn",class:{active:1===t.requestData.timeBtnValue},on:{click:function(e){return t.chooseTime(1)}}},[t._v("今日\n              ")]),t._v(" "),a("el-button",{staticClass:"btn",class:{active:2===t.requestData.timeBtnValue},on:{click:function(e){return t.chooseTime(2)}}},[t._v("昨日\n              ")]),t._v(" "),a("el-button",{staticClass:"btn",class:{active:3===t.requestData.timeBtnValue},on:{click:function(e){return t.chooseTime(3)}}},[t._v("本周\n              ")])],1)],1),t._v(" "),a("div",{staticClass:"div"},[a("el-date-picker",{attrs:{clearable:!1,type:"daterange","range-separator":"至","value-format":"yyyy-MM-dd","start-placeholder":"开始日期","end-placeholder":"结束日期"},on:{focus:t.chooseTimeDIY},model:{value:t.requestData.date,callback:function(e){t.$set(t.requestData,"date",e)},expression:"requestData.date"}})],1),t._v(" "),a("div",{staticClass:"div"},[a("el-button",{attrs:{type:"primary",plain:""}},[t._v("导出")])],1),t._v(" "),a("div",{staticClass:"div"},[a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.requestData.page=1,t.getList()}}},[t._v("搜索")])],1)]),t._v(" "),a("div",{staticClass:"content1"},[a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[t._v("总会员")])]),t._v(" "),a("h1",[t._v("\n              "+t._s(t.responseData3.all_total)+"人\n            ")])]),t._v(" "),a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[t._v("消费会员")])]),t._v(" "),a("h1",[t._v("\n              "+t._s(t.responseData3.xiao_total)+"人\n            ")])]),t._v(" "),a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[t._v("新客会员")])]),t._v(" "),a("h1",[t._v("\n              "+t._s(t.responseData3.new_member)+"人\n            ")])]),t._v(" "),a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[t._v("散客")])]),t._v(" "),a("h1",[t._v("\n              "+t._s(t.responseData3.sanCount)+"人\n            ")])]),t._v(" "),a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[t._v("总分销员")])]),t._v(" "),a("h1",[t._v("\n              "+t._s(t.responseData3.all_distributor)+"人\n            ")])]),t._v(" "),a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[t._v("新增分销员")])]),t._v(" "),a("h1",[t._v("\n              "+t._s(t.responseData3.new_add_distributor)+"人\n            ")])]),t._v(" "),a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[t._v("总粉丝")])]),t._v(" "),a("h1",[t._v("\n              "+t._s(t.responseData3.all_fans)+"人\n            ")])]),t._v(" "),a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[t._v("新增粉丝")])]),t._v(" "),a("h1",[t._v("\n              "+t._s(t.responseData3.new_add_fans)+"人\n            ")])])],1)]),t._v(" "),a("el-tab-pane",{attrs:{label:"服务统计",name:"4"}},[a("div",{staticClass:"search-condition"},[a("div",{staticClass:"div"},[a("el-select",{attrs:{clearable:"",placeholder:"选择服务人员"},model:{value:t.requestData4.waiter_id,callback:function(e){t.$set(t.requestData4,"waiter_id",e)},expression:"requestData4.waiter_id"}},t._l(t.waiter,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})}),1)],1),t._v(" "),a("div",{staticClass:"div"},[a("el-select",{attrs:{clearable:"",placeholder:"选择服务项目"},model:{value:t.requestData4.service_id,callback:function(e){t.$set(t.requestData4,"service_id",e)},expression:"requestData4.service_id"}},t._l(t.serviceItemList,function(t){return a("el-option",{key:t.id,attrs:{label:t.title,value:t.id}})}),1)],1)]),t._v(" "),a("div",{staticClass:"search-condition"},[a("div",{staticClass:"div"},[a("el-button-group",[a("el-button",{staticClass:"btn",class:{active:1===t.requestData.timeBtnValue},on:{click:function(e){return t.chooseTime(1)}}},[t._v("今日\n              ")]),t._v(" "),a("el-button",{staticClass:"btn",class:{active:2===t.requestData.timeBtnValue},on:{click:function(e){return t.chooseTime(2)}}},[t._v("昨日\n              ")]),t._v(" "),a("el-button",{staticClass:"btn",class:{active:3===t.requestData.timeBtnValue},on:{click:function(e){return t.chooseTime(3)}}},[t._v("本周\n              ")])],1)],1),t._v(" "),a("div",{staticClass:"div"},[a("el-date-picker",{attrs:{clearable:!1,type:"daterange","range-separator":"至","value-format":"yyyy-MM-dd","start-placeholder":"开始日期","end-placeholder":"结束日期"},on:{focus:t.chooseTimeDIY},model:{value:t.requestData.date,callback:function(e){t.$set(t.requestData,"date",e)},expression:"requestData.date"}})],1),t._v(" "),a("div",{staticClass:"div"},[a("el-button",{attrs:{type:"primary",plain:""}},[t._v("导出")])],1),t._v(" "),a("div",{staticClass:"div"},[a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.requestData.page=1,t.getList()}}},[t._v("搜索")])],1)]),t._v(" "),a("div",{staticClass:"content2"},[a("el-table",{staticStyle:{width:"100%","margin-top":"30px"},attrs:{data:t.responseData4.data,border:"",height:"565"}},[a("el-table-column",{attrs:{label:"排行",type:"index",width:"150"}}),t._v(" "),a("el-table-column",{attrs:{prop:"start_time",label:"开始时间"}}),t._v(" "),a("el-table-column",{attrs:{prop:"end_time",label:"结束时间"}}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"服务人员"}}),t._v(" "),a("el-table-column",{attrs:{prop:"service_name",label:"服务项目"}}),t._v(" "),a("el-table-column",{attrs:{prop:"num",label:"服务次数"}})],1)],1)]),t._v(" "),a("el-tab-pane",{attrs:{label:"支出统计",name:"6"}},[a("div",{staticClass:"search-condition"},[a("div",{staticClass:"div"},[a("el-select",{attrs:{clearable:"",placeholder:"选择支出类型"},model:{value:t.requestData6.type_id,callback:function(e){t.$set(t.requestData6,"type_id",e)},expression:"requestData6.type_id"}},t._l(t.typeName,function(t){return a("el-option",{key:t.id,attrs:{label:t.title,value:t.id}})}),1)],1),t._v(" "),a("div",{staticClass:"div"},[a("el-button-group",[a("el-button",{staticClass:"btn",class:{active:1===t.requestData.timeBtnValue},on:{click:function(e){return t.chooseTime(1)}}},[t._v("今日\n              ")]),t._v(" "),a("el-button",{staticClass:"btn",class:{active:2===t.requestData.timeBtnValue},on:{click:function(e){return t.chooseTime(2)}}},[t._v("昨日\n              ")]),t._v(" "),a("el-button",{staticClass:"btn",class:{active:3===t.requestData.timeBtnValue},on:{click:function(e){return t.chooseTime(3)}}},[t._v("本周\n              ")])],1)],1),t._v(" "),a("div",{staticClass:"div"},[a("el-date-picker",{attrs:{clearable:!1,type:"daterange","range-separator":"至","value-format":"yyyy-MM-dd","start-placeholder":"开始日期","end-placeholder":"结束日期"},on:{focus:t.chooseTimeDIY},model:{value:t.requestData.date,callback:function(e){t.$set(t.requestData,"date",e)},expression:"requestData.date"}})],1),t._v(" "),a("div",{staticClass:"div"},[a("el-button",{attrs:{type:"primary",plain:""}},[t._v("导出")])],1),t._v(" "),a("div",{staticClass:"div"},[a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.requestData.page=1,t.getList()}}},[t._v("搜索")])],1)]),t._v(" "),a("div",{staticClass:"clear-both",staticStyle:{width:"100%"}},[a("div",{staticClass:"content1 float-left",staticStyle:{width:"20%"}},[a("el-card",{staticClass:"box-card",staticStyle:{"margin-top":"0"}},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[t._v("总金额")])]),t._v(" "),a("h1",[t._v("\n                "+t._s(t._f("moneyToFixed")(t.responseData6.data.all_price))+"元\n              ")])])],1),t._v(" "),a("div",{staticClass:"content2 float-right",staticStyle:{width:"80%"}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.responseData6.data.data,border:"",height:"500"}},[a("el-table-column",{attrs:{prop:"title",label:"支出类型"}}),t._v(" "),a("el-table-column",{attrs:{label:"金额"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                  "+t._s(t._f("moneyToFixed")(e.row.price))+"\n                ")]}}])})],1)],1)])])],1)],1)},staticRenderFns:[]};var p=a("C7Lr")(d,v,!1,function(t){a("wtoZ")},"data-v-1fc06075",null);e.default=p.exports},wtoZ:function(t,e){}});