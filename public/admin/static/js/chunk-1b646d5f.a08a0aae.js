(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1b646d5f"],{"103f":function(t,e,o){"use strict";var a=o("2ecc"),s=o.n(a);s.a},2934:function(t,e,o){"use strict";o.d(e,"d",(function(){return s})),o.d(e,"b",(function(){return i})),o.d(e,"f",(function(){return n})),o.d(e,"e",(function(){return r})),o.d(e,"c",(function(){return l})),o.d(e,"a",(function(){return c})),o.d(e,"g",(function(){return d}));var a=o("b775");function s(t){return Object(a["a"])({url:"/stock/Base/search_item",method:"post",data:t})}function i(t){return Object(a["a"])({url:"/common/Brand/get_list",method:"post",data:t})}function n(t){return Object(a["a"])({url:"/stock/Shop/get_list",method:"get",params:t})}function r(){return Object(a["a"])({url:"/stock/supplier/getAllList",method:"post"})}function l(t){return Object(a["a"])({url:"/stock/Shop/get_list",method:"post",data:t})}function c(){return Object(a["a"])({baseURL:"http://192.168.25.104",url:"/common/item_company/getItemCompany",method:"post"})}function d(){return Object(a["a"])({baseURL:"http://192.168.25.104",url:"/common/shop/getShop",method:"post"})}},"2a3de":function(t,e,o){"use strict";var a=o("4d75");e["a"]={data:function(){return{typeList:[]}},methods:{getTypeList:function(){var t=this;Object(a["g"])().then((function(e){200===e.code&&(t.typeList=e.data.data)})).catch((function(t){console.log(t)}))}},created:function(){this.getTypeList()}}},"2ecc":function(t,e,o){},"4d75":function(t,e,o){"use strict";o.d(e,"g",(function(){return s})),o.d(e,"e",(function(){return i})),o.d(e,"f",(function(){return n})),o.d(e,"a",(function(){return r})),o.d(e,"d",(function(){return l})),o.d(e,"b",(function(){return c})),o.d(e,"c",(function(){return d}));var a=o("b775");function s(t){return Object(a["a"])({url:"/mall_admin_market/Special/getTypeList",method:"post",data:t})}function i(t){return Object(a["a"])({url:"/mall_admin_market/Special/typeAdd",method:"post",data:t})}function n(t){return Object(a["a"])({url:"/mall_admin_market/Special/deleteType",method:"post",data:t})}function r(t){return Object(a["a"])({url:"/mall_admin_market/Special/add_item",method:"post",data:t})}function l(t){return Object(a["a"])({url:"/mall_admin_market/Special/getItemList",method:"post",data:t})}function c(t){return Object(a["a"])({url:"/mall_admin_market/Special/deleteItem",method:"post",data:t})}function d(t){return Object(a["a"])({url:"/mall_admin_market/Special/setHot",method:"post",data:t})}},8326:function(t,e,o){"use strict";o.r(e);var a=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("el-card",{staticClass:"box-card",attrs:{shadow:"hover"}},[o("div",{staticClass:"clearfix",staticStyle:{"line-height":"32px"},attrs:{slot:"header"},slot:"header"},[o("span",[t._v("添加商品到专题")])]),t._v(" "),o("el-form",{ref:"form",attrs:{"label-width":"auto"}},[o("el-form-item",{attrs:{label:"选择分类"}},[o("el-radio-group",{model:{value:t.requestData.type,callback:function(e){t.$set(t.requestData,"type",e)},expression:"requestData.type"}},t._l(t.typeList,(function(e,a){return o("el-radio",{key:e.id,attrs:{label:e.id}},[t._v(t._s(e.title))])})),1)],1),t._v(" "),o("el-form-item",{attrs:{label:"选择商品"}},[o("el-button",{attrs:{type:"primary",plain:"",size:"mini"},on:{click:t.choosesGoodsDialogShowHandle}},[t._v("选择")])],1),t._v(" "),o("el-form-item",[o("el-table",{ref:"multipleTable",attrs:{data:t.requestData.goodsList,border:"","header-cell-style":{backgroundColor:"#F5F7FA"},"element-loading-text":"Loading",stripe:"","max-height":"500"}},[o("el-table-column",{attrs:{label:"ID",align:"center",prop:"id"}}),t._v(" "),o("el-table-column",{attrs:{label:"商品名称",align:"center",prop:"title"}}),t._v(" "),o("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[o("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(o){return t.deleteChoosesGoods(e.$index)}}},[t._v("移除")])]}}])})],1)],1),t._v(" "),o("el-form-item",[o("el-button",{attrs:{type:"primary",size:"mini"},on:{click:t.addThematice}},[t._v("提交")])],1)],1),t._v(" "),o("el-dialog",{attrs:{width:"55%",title:"商品选择",visible:t.choosesGoodsDialog.isShow,"append-to-body":""},on:{"update:visible":function(e){return t.$set(t.choosesGoodsDialog,"isShow",e)}}},[o("el-card",{staticClass:"box-card",attrs:{shadow:"hover"}},[o("div",{staticClass:"search-box"},[o("el-input",{staticClass:"search-input with",attrs:{clearable:"",size:"small",placeholder:"商品名称"},model:{value:t.choosesGoodsDialog.requestData.item_name,callback:function(e){t.$set(t.choosesGoodsDialog.requestData,"item_name",e)},expression:"choosesGoodsDialog.requestData.item_name"}}),t._v(" "),o("el-input",{staticClass:"search-input with",attrs:{clearable:"",size:"small",placeholder:"条形码"},model:{value:t.choosesGoodsDialog.requestData.bar_code,callback:function(e){t.$set(t.choosesGoodsDialog.requestData,"bar_code",e)},expression:"choosesGoodsDialog.requestData.bar_code"}}),t._v(" "),o("el-radio-group",{staticStyle:{"margin-right":"20px"},model:{value:t.choosesGoodsDialog.requestData.item_type,callback:function(e){t.$set(t.choosesGoodsDialog.requestData,"item_type",e)},expression:"choosesGoodsDialog.requestData.item_type"}},[o("el-radio",{attrs:{label:1,size:"medium"}},[t._v("线上商品")]),t._v(" "),o("el-radio",{attrs:{label:2,size:"medium"}},[t._v("门店商品")])],1),t._v(" "),o("el-button",{staticClass:"search-input",attrs:{size:"small",icon:"el-icon-search",type:"primary",plain:""},on:{click:t.choosesGoodsDialogShowHandle}},[t._v("搜索")])],1),t._v(" "),o("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.choosesGoodsDialog.requestData.isLoad,expression:"choosesGoodsDialog.requestData.isLoad"}],ref:"multipleTable",attrs:{data:t.choosesGoodsDialog.responseData,border:"","header-cell-style":{backgroundColor:"#F5F7FA"},"element-loading-text":"Loading",stripe:"","max-height":"400"},on:{"selection-change":t.handleSelectionChange}},[o("el-table-column",{attrs:{type:"selection",width:"50"}}),t._v(" "),o("el-table-column",{attrs:{label:"ID",align:"center",prop:"id"}}),t._v(" "),o("el-table-column",{attrs:{label:"商品名称",align:"center",prop:"title"}})],1),t._v(" "),o("div",{staticClass:"footer"},[o("el-pagination",{attrs:{"current-page":t.choosesGoodsDialog.requestData.page,"page-sizes":[5,10,15,20],"page-size":t.choosesGoodsDialog.requestData.limit,layout:"total, sizes, prev, pager, next, jumper",total:t.choosesGoodsDialog.totalCount,"hide-on-single-page":!0},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1),t._v(" "),o("div",{staticStyle:{float:"right",margin:"20px 0"}},[o("el-button",{attrs:{type:"primary",size:"mini"},on:{click:t.choosesGoods}},[t._v("选择")])],1)],1)],1)],1)},s=[],i=(o("63ff"),o("57f0")),n=o("4d75"),r=o("2934"),l=o("2a3de"),c={name:"index",mixins:[l["a"]],data:function(){return{requestData:{type:"",goodsList:[]},choosesGoodsDialog:{isShow:!1,requestData:{page:1,limit:5,item_type:1,item_name:"",brand_id:"",bar_code:"",shop_id:"",stock:"",not_ids:[]},choosesGoodsList:[],totalCount:0,responseData:[]}}},methods:{choosesGoodsDialogShowHandle:function(){this.choosesGoodsDialog.isShow=!0,this.loadGoodsList()},handleCurrentChange:function(t){this.choosesGoodsDialog.requestData.page=t,this.loadGoodsList()},handleSizeChange:function(t){this.choosesGoodsDialog.requestData.limit=t,this.loadGoodsList()},loadGoodsList:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.choosesGoodsDialog.totalCount=0,this.choosesGoodsDialog.responseData=[],this.choosesGoodsDialog.requestData.isLoad=!0,t.next=5,Object(r["d"])(this.choosesGoodsDialog.requestData).then((function(t){200===t.code&&(e.choosesGoodsDialog.totalCount=t.count,e.choosesGoodsDialog.responseData=t.data),e.choosesGoodsDialog.requestData.isLoad=!1})).catch((function(){e.choosesGoodsDialog.requestData.isLoad=!1}));case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),handleSelectionChange:function(t){this.choosesGoodsDialog.choosesGoodsList=t,console.log(t)},choosesGoods:function(){var t=this.requestData.goodsList.concat(this.choosesGoodsDialog.choosesGoodsList),e={};t=t.reduce((function(t,o){return!e[o.id]&&(e[o.id]=t.push(o)),t}),[]),this.requestData.goodsList=t,this.choosesGoodsDialog.isShow=!1},deleteChoosesGoods:function(t){this.requestData.goodsList.splice(t,1);this.requestData.goodsList[t].id},addThematice:function(){var t=this;if(0!==this.requestData.goodsList.length&&""!==this.requestData.type){var e={st_id:this.requestData.type,item_id:this.requestData.goodsList.map((function(t){return t.id}))};Object(n["a"])(e).then((function(e){200===e.code&&(t.requestData.type="",t.requestData.goodsList=[],t.$message({message:"新增成功",type:"success"}))})).catch((function(t){console.log(t)}))}else this.$message({message:"请选择分类或商品",type:"error"})}}},d=c,u=(o("103f"),o("5511")),h=Object(u["a"])(d,a,s,!1,null,"4cead451",null);e["default"]=h.exports}}]);