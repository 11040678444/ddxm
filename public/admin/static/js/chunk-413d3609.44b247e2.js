(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-413d3609"],{1658:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-card",{staticClass:"box-card",attrs:{shadow:"hover"}},[a("div",{staticClass:"clearfix",staticStyle:{"line-height":"32px"},attrs:{slot:"header"},slot:"header"},[a("span",[t._v("库存查询")]),t._v(" "),a("el-button",{staticStyle:{float:"right"},attrs:{size:"small",type:"success"}},[t._v("导出")])],1),t._v(" "),a("div",{staticClass:"app-container"},[a("div",{staticClass:"app-head"},[a("div",{staticClass:"ipt"},[a("div",{staticClass:"iptTitle"},[t._v("选择仓库")]),t._v(" "),a("el-select",{attrs:{clearable:"",placeholder:"请选择所入仓库",size:"small"},model:{value:t.reqData.shop_id,callback:function(e){t.$set(t.reqData,"shop_id",e)},expression:"reqData.shop_id"}},t._l(t.wareHouse,(function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})})),1)],1),t._v(" "),a("div",{staticClass:"ipt"},[a("div",{staticClass:"iptTitle"},[t._v("库存筛选")]),t._v(" "),a("el-select",{attrs:{clearable:"",placeholder:"请选择状态",size:"small"},model:{value:t.reqData.stock,callback:function(e){t.$set(t.reqData,"stock",e)},expression:"reqData.stock"}},t._l(t.status,(function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})})),1)],1),t._v(" "),a("div",{staticClass:"ipt"},[a("div",{staticClass:"iptTitle"},[t._v("商品筛选")]),t._v(" "),a("el-select",{attrs:{clearable:"",placeholder:"请选择商品来源",size:"small"},model:{value:t.reqData.item_type,callback:function(e){t.$set(t.reqData,"item_type",e)},expression:"reqData.item_type"}},t._l(t.status2,(function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})})),1)],1),t._v(" "),a("div",{staticClass:"ipt"},[a("div",{staticClass:"iptTitle"},[t._v("条形码")]),t._v(" "),a("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入条形码",clearable:"",size:"small"},model:{value:t.reqData.bar_code,callback:function(e){t.$set(t.reqData,"bar_code",e)},expression:"reqData.bar_code"}})],1),t._v(" "),a("div",{staticClass:"ipt"},[a("div",{staticClass:"iptTitle"},[t._v("商品名称")]),t._v(" "),a("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入商品名称",clearable:"",size:"small"},model:{value:t.reqData.item_name,callback:function(e){t.$set(t.reqData,"item_name",e)},expression:"reqData.item_name"}})],1),t._v(" "),a("div",[a("el-button",{attrs:{size:"small",icon:"el-icon-search",type:"primary"},on:{click:t.search}},[t._v("搜索")])],1)]),t._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],attrs:{data:t.list,"element-loading-text":"Loading",border:"",fit:"","highlight-current-row":"","empty-text":"暂无数据","header-cell-style":{backgroundColor:"#F5F7FA"},"header-row-style":{height:"30px"}}},[a("el-table-column",{attrs:{property:"item_id",label:"ID",width:"80"}}),t._v(" "),a("el-table-column",{attrs:{property:"shop_name",label:"所属仓库","min-width":"200"}}),t._v(" "),a("el-table-column",{attrs:{property:"title",label:"商品名称","min-width":"200"}}),t._v(" "),a("el-table-column",{attrs:{property:"attr_name",label:"规格",width:"200"}}),t._v(" "),a("el-table-column",{attrs:{property:"bar_code",label:"条形码",width:"200"}}),t._v(" "),a("el-table-column",{attrs:{property:"stock",label:"库存数量",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{property:"one_cost",label:"成本单价",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{property:"all_cost",label:"合计成本",align:"center"}})],1),t._v(" "),a("div",{staticClass:"block"},[a("el-pagination",{attrs:{"current-page":this.reqData.page,"page-sizes":[10,15,20],"page-size":100,layout:" sizes, prev, pager, next, total, jumper",total:t.count1},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)],1)])},r=[],l=(a("63ff"),a("57f0")),i=a("b775");function s(t){return Object(i["a"])({url:"/stock/Query_stock/index",method:"post",data:t})}var o=a("2934"),c={data:function(){return{list:null,listLoading:!1,reqData:{page:1,limit:10,bar_code:null,item_type:null,stock:null,shop_id:null,item_name:null},count1:null,wareHouse:[],status:[{id:1,name:"隐藏为零库存"},{id:2,name:"显示为零库存"}],status2:[{id:1,name:"商城商品"},{id:2,name:"门店商品"}]}},created:function(){this._getSearch(),this._getWare()},methods:{_getSearch:function(){var t=Object(l["a"])(regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.listLoading=!0,t.next=3,s(this.reqData).then((function(t){200==t.code&&(console.log("数据",t),e.list=t.data,e.count1=t.count,e.listLoading=!1)}));case 3:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),_getWare:function(){var t=Object(l["a"])(regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(o["f"])().then((function(t){200==t.code&&(e.wareHouse=t.data)}));case 2:case"end":return t.stop()}}),t)})));function e(){return t.apply(this,arguments)}return e}(),search:function(){console.log(this.reqData);var t=this.reqData.bar_code;console.log(t),null!=t&&""!=t&&null==this.reqData.item_type?this.$message.error("请筛选商品!"):this._getSearch()},handleSizeChange:function(t){this.reqData.limit=t,this._getSearch()},handleCurrentChange:function(t){this.reqData.page=t,this._getSearch()}}},u=c,d=a("5511"),p=Object(d["a"])(u,n,r,!1,null,null,null);e["default"]=p.exports},2934:function(t,e,a){"use strict";a.d(e,"d",(function(){return r})),a.d(e,"b",(function(){return l})),a.d(e,"f",(function(){return i})),a.d(e,"e",(function(){return s})),a.d(e,"c",(function(){return o})),a.d(e,"a",(function(){return c})),a.d(e,"g",(function(){return u}));var n=a("b775");function r(t){return Object(n["a"])({url:"/stock/Base/search_item",method:"post",data:t})}function l(t){return Object(n["a"])({url:"/common/Brand/get_list",method:"post",data:t})}function i(t){return Object(n["a"])({url:"/stock/Shop/get_list",method:"get",params:t})}function s(){return Object(n["a"])({url:"/stock/supplier/getAllList",method:"post"})}function o(t){return Object(n["a"])({url:"/stock/Shop/get_list",method:"post",data:t})}function c(){return Object(n["a"])({baseURL:"http://192.168.25.104",url:"/common/item_company/getItemCompany",method:"post"})}function u(){return Object(n["a"])({baseURL:"http://192.168.25.104",url:"/common/shop/getShop",method:"post"})}}}]);