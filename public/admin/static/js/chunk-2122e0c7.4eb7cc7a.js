(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2122e0c7"],{2934:function(e,t,a){"use strict";a.d(t,"d",(function(){return r})),a.d(t,"b",(function(){return l})),a.d(t,"f",(function(){return i})),a.d(t,"e",(function(){return n})),a.d(t,"c",(function(){return o})),a.d(t,"a",(function(){return c})),a.d(t,"g",(function(){return u}));var s=a("b775");function r(e){return Object(s["a"])({url:"/stock/Base/search_item",method:"post",data:e})}function l(e){return Object(s["a"])({url:"/common/Brand/get_list",method:"post",data:e})}function i(e){return Object(s["a"])({url:"/stock/Shop/get_list",method:"get",params:e})}function n(){return Object(s["a"])({url:"/stock/supplier/getAllList",method:"post"})}function o(e){return Object(s["a"])({url:"/stock/Shop/get_list",method:"post",data:e})}function c(){return Object(s["a"])({baseURL:"http://192.168.25.104",url:"/common/item_company/getItemCompany",method:"post"})}function u(){return Object(s["a"])({baseURL:"http://192.168.25.104",url:"/common/shop/getShop",method:"post"})}},"5f56":function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-select",{ref:"choosesDoorShopSelect",attrs:{placeholder:e.placeholder,size:"small",clearable:"",loading:e.requestData.loading},on:{change:e.change},model:{value:e.choosesValue,callback:function(t){e.choosesValue=t},expression:"choosesValue"}},e._l(e.responseData,(function(e,t){return a("el-option",{key:t,attrs:{label:e.name,value:e.id}})})),1)],1)},r=[],l=a("0bbb"),i=(a("63ff"),a("57f0")),n=a("2934"),o={name:"ChoosesDoorShop",props:{placeholder:{type:String,default:"选择门店/仓库"}},data:function(){return{responseData:[],requestData:{page:1,limit:100,haveMore:!0,loading:!0},choosesValue:""}},methods:{loadMore:function(){this.haveMore&&(this.requestData.page++,this.loadData())},loadData:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t,a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.requestData.loading=!0,t={page:this.requestData.page,limit:this.requestData.limit},e.next=4,Object(n["c"])(t).then((function(e){var s;200===e.code&&((s=a.responseData).push.apply(s,Object(l["a"])(e.data)),e.data.length===t.limit?a.haveMore=!0:a.haveMore=!1,a.$nextTick((function(){a.requestData.loading=!1})))})).catch((function(){a.requestData.loading=!1}));case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),change:function(e){var t=this;e?this.responseData.map((function(a){a.id===e&&t.$emit("valueChange",a)})):this.$emit("valueChange",{})}},created:function(){this.loadData()},directive:{"load-more":{bind:function(e,t){var a=this.$refs.choosesDoorShopSelect;a.addEventListener("scroll",(function(){var e=this.scrollHeight-this.scrollTop<=this.clientHeight;e&&t.value()}))}}}},c=o,u=a("5511"),d=Object(u["a"])(c,s,r,!1,null,null,null);t["a"]=d.exports},"7c24":function(e,t,a){"use strict";a("6a65");t["a"]={filters:{orderStatusToText:function(e){var t="";switch(e){case-8:t="已取消";break;case-7:t="门店取消";break;case-6:t="退款完成";break;case-5:t="申请退款";break;case-2:t="退货完成";break;case-1:t="申请退货";break;case 0:t="待发货";break;case 1:t="待收货";break;case 2:t="已完成";break;case 8:t="配送中";break;case 9:t="待处理";break;case 10:t="换货完成";break}return t}}}},"7cf4":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-card",{staticClass:"box-card",attrs:{shadow:"hover"}},[a("div",{staticClass:"clearfix",staticStyle:{"line-height":"32px"},attrs:{slot:"header"},slot:"header"},[a("span",[e._v("退货列表")]),e._v(" "),a("el-button",{staticClass:"export",staticStyle:{float:"right"},attrs:{type:"primary",plain:"",size:"small"}},[e._v("导出")])],1),e._v(" "),a("div",{staticClass:"app-container"},[a("el-form",{ref:"requestData",staticClass:"app-head",attrs:{model:e.requestData}},[a("chooses-door-shop",{attrs:{iptTitle:"选择门店"},on:{valueChange:e.choosesDoor}}),e._v(" "),a("div",{staticClass:"ipt"},[a("div",{staticClass:"iptTitle"},[e._v("订单状态")]),e._v(" "),a("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入订单单号",disabled:"",size:"small",value:"待发货"}})],1),e._v(" "),a("div",{staticClass:"ipt"},[a("div",{staticClass:"iptTitle"},[e._v("订单单号")]),e._v(" "),a("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入订单单号",clearable:"",size:"small"},model:{value:e.requestData.sn,callback:function(t){e.$set(e.requestData,"sn",t)},expression:"requestData.sn"}})],1),e._v(" "),a("div",{staticClass:"ipt"},[a("div",{staticClass:"iptTitle"},[e._v("手机号")]),e._v(" "),a("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"手机号码",clearable:"",size:"small"},model:{value:e.requestData.mobile,callback:function(t){e.$set(e.requestData,"mobile",t)},expression:"requestData.mobile"}})],1),e._v(" "),a("div",{staticClass:"ipt"},[a("div",{staticClass:"iptTitle"},[e._v("支付状态")]),e._v(" "),a("el-select",{attrs:{clearable:"",placeholder:"支付状态",size:"small"},model:{value:e.requestData.pay_status,callback:function(t){e.$set(e.requestData,"pay_status",t)},expression:"requestData.pay_status"}},[a("el-option",{attrs:{label:"待支付",value:"0"}}),e._v(" "),a("el-option",{attrs:{label:"已支付",value:"2"}}),e._v(" "),a("el-option",{attrs:{label:"取消支付",value:"3"}})],1)],1),e._v(" "),a("div",{staticClass:"ipt"},[a("div",{staticClass:"iptTitle"},[e._v("付款方式")]),e._v(" "),a("el-select",{attrs:{clearable:"",placeholder:"付款方式",size:"small"},model:{value:e.requestData.pay_way,callback:function(t){e.$set(e.requestData,"pay_way",t)},expression:"requestData.pay_way"}},[a("el-option",{attrs:{label:"余额",value:"0"}}),e._v(" "),a("el-option",{attrs:{label:"微信",value:"2"}})],1)],1),e._v(" "),a("div",{staticClass:"ipt"},[a("div",{staticClass:"iptTitle"},[e._v("物流状态")]),e._v(" "),a("el-select",{attrs:{clearable:"",placeholder:"物流状态",size:"small"},model:{value:e.requestData.express,callback:function(t){e.$set(e.requestData,"express",t)},expression:"requestData.express"}},[a("el-option",{attrs:{label:"正常",value:"0"}}),e._v(" "),a("el-option",{attrs:{label:"异常",value:"3"}})],1)],1),e._v(" "),a("div",{staticClass:"ipt"},[a("div",{staticClass:"iptTitle"},[e._v("商品名称")]),e._v(" "),a("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入商品名称",clearable:"",size:"small"},model:{value:e.requestData.subtitle,callback:function(t){e.$set(e.requestData,"subtitle",t)},expression:"requestData.subtitle"}})],1),e._v(" "),a("el-date-picker",{attrs:{size:"small",type:"datetimerange","range-separator":"至","start-placeholder":"下单开始时间","end-placeholder":"下单结束时间"},model:{value:e.requestData.add_time,callback:function(t){e.$set(e.requestData,"add_time",t)},expression:"requestData.add_time"}}),e._v(" "),a("el-date-picker",{attrs:{size:"small",type:"datetimerange","range-separator":"至","start-placeholder":"支付开始时间","end-placeholder":"支付结束时间"},model:{value:e.requestData.pay_time,callback:function(t){e.$set(e.requestData,"pay_time",t)},expression:"requestData.pay_time"}}),e._v(" "),a("div",[a("el-button",{attrs:{size:"small",type:"reset"}},[e._v("重置")]),e._v(" "),a("el-button",{attrs:{size:"small",icon:"el-icon-search",type:"primary"},on:{click:e.loadData}},[e._v("搜索")])],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.requestData.listLoading,expression:"requestData.listLoading"}],attrs:{id:"orderTable",data:e.responseData,"element-loading-text":"Loading",border:"","max-height":"550","highlight-current-row":"","empty-text":"暂无数据","header-cell-style":{backgroundColor:"#F5F7FA"}}},[a("el-table-column",{attrs:{label:"序号",type:"index",fixed:"left",width:"50",align:"center","header-align":"left"}}),e._v(" "),a("el-table-column",{attrs:{label:"ID",prop:"id",width:"100",align:"center","header-align":"left"}}),e._v(" "),a("el-table-column",{attrs:{label:"订单号",prop:"sn",width:"250",align:"center","header-align":"left"}}),e._v(" "),a("el-table-column",{attrs:{label:"所属门店",prop:"name",width:"100",align:"center","header-align":"left"}}),e._v(" "),a("el-table-column",{attrs:{label:"收货信息","show-overflow-tooltip":"",width:"400","header-align":"left"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("p",[e._v("收货人: "+e._s(t.row.nickname))]),e._v(" "),a("p",[e._v("手机号码: "+e._s(t.row.m_mobile))]),e._v(" "),a("p",[e._v("收货地址: "+e._s(t.row.detail_address))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"商品信息","show-overflow-tooltip":"",width:"500","header-align":"left"},scopedSlots:e._u([{key:"default",fn:function(t){return e._l(t.row.order_goods,(function(t,s){return a("p",{key:s},[e._v(e._s(t.subtitle)+"__数量"+e._s(t.num)+"__金额"+e._s(t.sum_real_price))])}))}}])}),e._v(" "),a("el-table-column",{attrs:{label:"下单时间",prop:"add_time",width:"200",align:"center","header-align":"left"}}),e._v(" "),a("el-table-column",{attrs:{label:"支付时间",prop:"paytime",width:"200",align:"center","header-align":"left"}}),e._v(" "),a("el-table-column",{attrs:{label:"支付金额",prop:"amount",width:"200",align:"center","header-align":"left"}}),e._v(" "),a("el-table-column",{attrs:{label:"发货时间",prop:"sendtime",width:"200",align:"center","header-align":"left"}}),e._v(" "),a("el-table-column",{attrs:{label:"订单状态",fixed:"right",width:"80",align:"center","header-align":"left"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e._f("orderStatusToText")(t.row.order_status)))]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作",fixed:"right",width:"400",align:"center","header-align":"left"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"info"},on:{click:function(a){return e.refuse(t.row)}}},[e._v("拒绝")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){return e.returnShop(t.row)}}},[e._v("退货")])]}}])})],1),e._v(" "),a("div",{staticClass:"footer-pagination"},[a("el-pagination",{attrs:{"current-page":e.requestData.page,"page-sizes":[10,15,20,25],"page-size":e.requestData.limit,layout:"total, sizes, prev, pager, next, jumper",total:e.totalCount,"hide-on-single-page":!0},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"选择仓库",visible:e.chooeseVisible,width:"30%",top:"30vh"},on:{"update:visible":function(t){e.chooeseVisible=t}}},[a("el-card",{staticClass:"box-card",attrs:{shadow:"hover",size:"small"}},[a("div",{staticClass:"ipt"},[a("span",{staticClass:"iptTitle"},[e._v("退货仓库")]),e._v(" "),a("el-select",{attrs:{clearable:"",placeholder:"请选择仓库",size:"small"},model:{value:e.xz_ware.shop_id,callback:function(t){e.$set(e.xz_ware,"shop_id",t)},expression:"xz_ware.shop_id"}},e._l(e.wareList,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1)]),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.refuseVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.determine(1)}}},[e._v("确 定")])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"拒绝退货",visible:e.refuseVisible,width:"30%",top:"30vh"},on:{"update:visible":function(t){e.refuseVisible=t}}},[a("el-card",{staticClass:"box-card",attrs:{shadow:"hover",size:"small"}},[a("el-input",{staticStyle:{width:"400px"},attrs:{placeholder:"请输入拒绝理由",clearable:""},model:{value:e.refuseReturn.r_desc,callback:function(t){e.$set(e.refuseReturn,"r_desc",t)},expression:"refuseReturn.r_desc"}},[a("template",{slot:"prepend"},[e._v("拒绝理由")])],2)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.refuseVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.determine(2)}}},[e._v("确 定")])],1)],1)],1)},r=[],l=(a("63ff"),a("57f0")),i=a("f8b7"),n=a("5f56"),o=a("7c24"),c={data:function(){return{requestData:{age:"",page:1,limit:10,listLoading:!0,order_status:"all",sn:"",pay_status:"",mobile:"",express:"",subtitle:"",add_time:"",pay_time:"",shop_id:"",pay_way:""},refuseReturn:{id:null,r_desc:null},returnData:{operate_type:null,id:null,order_id:null,os_id:null},xz_ware:{os_id:null,shop_id:null},refuseVisible:!1,chooeseVisible:!1,totalCount:0,responseData:[],wareList:[]}},created:function(){this.loadData(),this._getWare()},methods:{handleCurrentChange:function(e){this.requestData.page=e,this.loadData()},handleSizeChange:function(e){this.requestData.limit=e,this.loadData()},resetForm:function(e){alert(1),this.$refs[e].resetFields()},loadData:function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(){var t,a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.requestData.listLoading=!0,t={page:this.requestData.page,limit:this.requestData.limit,order_status:0},e.next=4,Object(i["e"])(t).then((function(e){console.log(e),200===e.code&&null!=e.data&&(a.totalCount=e.data.total,a.responseData=e.data.data),a.$nextTick((function(){a.requestData.listLoading=!1}))})).catch((function(e){console.log(e),a.requestData.listLoading=!1}));case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),choosesDoor:function(e){e.id&&(this.requestData.shop_id=e.id)},_getWare:function(){var e=this;Object(i["b"])().then((function(t){200==t.code&&(e.wareList=t.data)}))},returnShop:function(e){console.log(e),this.xz_ware.os_id=e.os_id,this.chooeseVisible=!0},refuse:function(e){this.refuseVisible=!0,this.refuseReturn.id=e.id},determine:function(e){1==e?Object(i["a"])(this.xz_ware).then((function(e){console.log(e),e.code})):Object(i["c"])(this.refuseReturn).then((function(e){console.log(e)}))}},components:{ChoosesDoorShop:n["a"]},mixins:[o["a"]]},u=c,d=a("5511"),p=Object(d["a"])(u,s,r,!1,null,"e8830c80",null);t["default"]=p.exports},f8b7:function(e,t,a){"use strict";a.d(t,"e",(function(){return r})),a.d(t,"d",(function(){return l})),a.d(t,"f",(function(){return i})),a.d(t,"g",(function(){return n})),a.d(t,"c",(function(){return o})),a.d(t,"b",(function(){return c})),a.d(t,"a",(function(){return u}));var s=a("b775");function r(e){return Object(s["a"])({baseURL:"http://192.168.25.104",url:"/mall_admin_order/order_list/getOrderList",method:"post",data:e})}function l(e){return Object(s["a"])({baseURL:"http://192.168.25.104",url:"/mall_admin_order/order_goods/getOrderDetail",method:"post",data:e})}function i(e){return Object(s["a"])({baseURL:"http://192.168.25.104",url:"/mall_admin_order/order_send_goods/operateSendGoods",method:"post",data:e})}function n(e){return Object(s["a"])({baseURL:"http://192.168.25.104",url:"/mall_admin_order/order_service/setOrderShop",method:"post",data:e})}function o(e){return Object(s["a"])({baseURL:"http://192.168.25.104",url:"/mall_admin_order/order_refund_goods/refuseRefundGoods",method:"post",data:e})}function c(e){return Object(s["a"])({baseURL:"http://192.168.25.104",url:"/common/shop/getShop",method:"post",data:e})}function u(e){return Object(s["a"])({baseURL:"http://192.168.25.104",url:"/mall_admin_order/order_service/setOrderShop",method:"post",data:e})}}}]);