(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c5fb3fc8"],{"163d":function(t,e,a){"use strict";var s=a("e7ad"),o=a("e042"),i=a("75c4"),n=a("1e5b"),l=a("94b3"),r=a("238a"),c=a("2ea2").f,d=a("dcb7").f,u=a("064e").f,p=a("777a").trim,h="Number",v=s[h],f=v,_=v.prototype,m=i(a("e005")(_))==h,b="trim"in String.prototype,g=function(t){var e=l(t,!1);if("string"==typeof e&&e.length>2){e=b?e.trim():p(e,3);var a,s,o,i=e.charCodeAt(0);if(43===i||45===i){if(a=e.charCodeAt(2),88===a||120===a)return NaN}else if(48===i){switch(e.charCodeAt(1)){case 66:case 98:s=2,o=49;break;case 79:case 111:s=8,o=55;break;default:return+e}for(var n,r=e.slice(2),c=0,d=r.length;c<d;c++)if(n=r.charCodeAt(c),n<48||n>o)return NaN;return parseInt(r,s)}}return+e};if(!v(" 0o1")||!v("0b1")||v("+0x1")){v=function(t){var e=arguments.length<1?0:t,a=this;return a instanceof v&&(m?r((function(){_.valueOf.call(a)})):i(a)!=h)?n(new f(g(e)),a,v):g(e)};for(var D,w=a("149f")?c(f):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),C=0;w.length>C;C++)o(f,D=w[C])&&!o(v,D)&&u(v,D,d(f,D));v.prototype=_,_.constructor=v,a("bf16")(s,h,v)}},"1e5b":function(t,e,a){var s=a("fb68"),o=a("859b").set;t.exports=function(t,e,a){var i,n=e.constructor;return n!==a&&"function"==typeof n&&(i=n.prototype)!==a.prototype&&s(i)&&o&&o(t,i),t}},2934:function(t,e,a){"use strict";a.d(e,"d",(function(){return o})),a.d(e,"b",(function(){return i})),a.d(e,"f",(function(){return n})),a.d(e,"e",(function(){return l})),a.d(e,"c",(function(){return r})),a.d(e,"a",(function(){return c})),a.d(e,"g",(function(){return d}));var s=a("b775");function o(t){return Object(s["a"])({url:"/stock/Base/search_item",method:"post",data:t})}function i(t){return Object(s["a"])({url:"/common/Brand/get_list",method:"post",data:t})}function n(t){return Object(s["a"])({url:"/stock/Shop/get_list",method:"get",params:t})}function l(){return Object(s["a"])({url:"/stock/supplier/getAllList",method:"post"})}function r(t){return Object(s["a"])({url:"/stock/Shop/get_list",method:"post",data:t})}function c(){return Object(s["a"])({baseURL:"http://192.168.25.104",url:"/common/item_company/getItemCompany",method:"post"})}function d(){return Object(s["a"])({baseURL:"http://192.168.25.104",url:"/common/shop/getShop",method:"post"})}},5851:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{attrs:{width:"55%",title:"订单详情",visible:t.show,"append-to-body":""},on:{"update:visible":function(e){t.show=e}}},[a("el-card",{staticClass:"box-card",staticStyle:{"margin-bottom":"20px"}},[a("div",{attrs:{slot:"header"},slot:"header"},[a("span",[t._v("订单信息")])]),t._v(" "),a("div",{staticClass:"myBoxCardDetails"},[a("div",{staticClass:"item-box"},[a("div",{staticClass:"item"},[a("div",{staticClass:"item-title"},[t._v("订单号")]),t._v(" "),a("div",{staticClass:"item-content"},[t._v(t._s(t.responseData.sn))])]),t._v(" "),a("div",{staticClass:"item"},[a("div",{staticClass:"item-title"},[t._v("用户昵称")]),t._v(" "),a("div",{staticClass:"item-content"},[t._v(t._s(t.responseData.nickname))])])]),t._v(" "),a("div",{staticClass:"item-box"},[a("div",{staticClass:"item"},[a("div",{staticClass:"item-title"},[t._v("用户登记")]),t._v(" "),a("div",{staticClass:"item-content"},[t._v(t._s(t.responseData.level_name))])]),t._v(" "),a("div",{staticClass:"item"},[a("div",{staticClass:"item-title"},[t._v("用户余额")]),t._v(" "),a("div",{staticClass:"item-content"},[t._v(t._s(t.responseData.money))])])]),t._v(" "),a("div",{staticClass:"item-box"},[a("div",{staticClass:"item"},[a("div",{staticClass:"item-title"},[t._v("仓库名称")]),t._v(" "),a("div",{staticClass:"item-content"},[t._v(t._s(t.responseData.name))])]),t._v(" "),a("div",{staticClass:"item"},[a("div",{staticClass:"item-title"},[t._v("订单状态")]),t._v(" "),a("div",{staticClass:"item-content"},[t._v(t._s(t._f("orderStatusToText")(t.responseData.order_status)))])])]),t._v(" "),a("div",{staticClass:"item-box"},[a("div",{staticClass:"item"},[a("div",{staticClass:"item-title"},[t._v("操作人员")]),t._v(" "),a("div",{staticClass:"item-content"},[t._v(t._s(t.responseData.waiter||"无"))])])])])]),t._v(" "),a("el-card",{staticClass:"box-card",attrs:{shadow:"hover"}},[a("div",{attrs:{slot:"header"},slot:"header"},[a("span",[t._v("商品信息")])]),t._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],attrs:{data:t.responseData.order_goods,border:"","max-height":"300"}},[a("el-table-column",{attrs:{label:"序号",align:"center",prop:"title",type:"index",width:"50"}}),t._v(" "),a("el-table-column",{attrs:{label:"ID",align:"center",prop:"id"}}),t._v(" "),a("el-table-column",{attrs:{label:"商品名称",align:"center",prop:"subtitle"}}),t._v(" "),a("el-table-column",{attrs:{label:"数量",align:"center",prop:"num"}}),t._v(" "),a("el-table-column",{attrs:{label:"成本单价",align:"center",prop:"oprice"}}),t._v(" "),a("el-table-column",{attrs:{label:"总成本",align:"center",prop:"sum_real_price"}}),t._v(" "),a("el-table-column",{attrs:{label:"快递公司",align:"center",prop:"title"}}),t._v(" "),a("el-table-column",{attrs:{label:"快递单号",align:"center",prop:"sn"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center"}})],1)],1)],1)},o=[],i=(a("63ff"),a("57f0")),n=(a("163d"),a("f8b7")),l=a("7c24"),r={name:"orderDetails",mixins:[l["a"]],props:{isShow:{type:Boolean,default:!1},orderId:{type:Number,default:0}},watch:{isShow:{immediate:!0,handler:function(t){this.show=t}},show:function(t,e){t||this.$emit("update:isShow",!1)},orderId:function(t,e){t&&this.loadData()}},data:function(){return{listLoading:!0,show:!1,responseData:{}}},methods:{loadData:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.listLoading=!0,t.next=3,Object(n["d"])({order_id:this.orderId}).then((function(t){200===t.code&&(e.responseData=t.data),e.$nextTick((function(){e.listLoading=!1}))})).catch((function(t){console.log(t),e.listLoading=!1}));case 3:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()}},c=r,d=a("5511"),u=Object(d["a"])(c,s,o,!1,null,null,null);e["a"]=u.exports},"5f56":function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-select",{ref:"choosesDoorShopSelect",attrs:{placeholder:t.placeholder,size:"small",clearable:"",loading:t.requestData.loading},on:{change:t.change},model:{value:t.choosesValue,callback:function(e){t.choosesValue=e},expression:"choosesValue"}},t._l(t.responseData,(function(t,e){return a("el-option",{key:e,attrs:{label:t.name,value:t.id}})})),1)],1)},o=[],i=a("0bbb"),n=(a("63ff"),a("57f0")),l=a("2934"),r={name:"ChoosesDoorShop",props:{placeholder:{type:String,default:"选择门店/仓库"}},data:function(){return{responseData:[],requestData:{page:1,limit:100,haveMore:!0,loading:!0},choosesValue:""}},methods:{loadMore:function(){this.haveMore&&(this.requestData.page++,this.loadData())},loadData:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(){var e,a=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.requestData.loading=!0,e={page:this.requestData.page,limit:this.requestData.limit},t.next=4,Object(l["c"])(e).then((function(t){var s;200===t.code&&((s=a.responseData).push.apply(s,Object(i["a"])(t.data)),t.data.length===e.limit?a.haveMore=!0:a.haveMore=!1,a.$nextTick((function(){a.requestData.loading=!1})))})).catch((function(){a.requestData.loading=!1}));case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),change:function(t){var e=this;t?this.responseData.map((function(a){a.id===t&&e.$emit("valueChange",a)})):this.$emit("valueChange",{})}},created:function(){this.loadData()},directive:{"load-more":{bind:function(t,e){var a=this.$refs.choosesDoorShopSelect;a.addEventListener("scroll",(function(){var t=this.scrollHeight-this.scrollTop<=this.clientHeight;t&&e.value()}))}}}},c=r,d=a("5511"),u=Object(d["a"])(c,s,o,!1,null,null,null);e["a"]=u.exports},"777a":function(t,e,a){var s=a("e46b"),o=a("f6b4"),i=a("238a"),n=a("9769"),l="["+n+"]",r="​",c=RegExp("^"+l+l+"*"),d=RegExp(l+l+"*$"),u=function(t,e,a){var o={},l=i((function(){return!!n[t]()||r[t]()!=r})),c=o[t]=l?e(p):n[t];a&&(o[a]=c),s(s.P+s.F*l,"String",o)},p=u.trim=function(t,e){return t=String(o(t)),1&e&&(t=t.replace(c,"")),2&e&&(t=t.replace(d,"")),t};t.exports=u},"7c24":function(t,e,a){"use strict";a("6a65");e["a"]={filters:{orderStatusToText:function(t){var e="";switch(t){case-8:e="已取消";break;case-7:e="门店取消";break;case-6:e="退款完成";break;case-5:e="申请退款";break;case-2:e="退货完成";break;case-1:e="申请退货";break;case 0:e="待发货";break;case 1:e="待收货";break;case 2:e="已完成";break;case 8:e="配送中";break;case 9:e="待处理";break;case 10:e="换货完成";break}return e}}}},"859b":function(t,e,a){var s=a("fb68"),o=a("69b3"),i=function(t,e){if(o(t),!s(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,s){try{s=a("4ce5")(Function.call,a("dcb7").f(Object.prototype,"__proto__").set,2),s(t,[]),e=!(t instanceof Array)}catch(o){e=!0}return function(t,a){return i(t,a),e?t.__proto__=a:s(t,a),t}}({},!1):void 0),check:i}},9769:function(t,e){t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},a488:function(t,e,a){"use strict";var s=a("c800"),o=a.n(s);o.a},c800:function(t,e,a){},e413:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-card",{staticClass:"box-card",attrs:{shadow:"hover"}},[a("div",{staticClass:"clearfix",staticStyle:{"line-height":"32px"},attrs:{slot:"header"},slot:"header"},[a("span",[t._v("订单列表")]),t._v(" "),a("el-button",{staticClass:"export",staticStyle:{float:"right"},attrs:{type:"primary",plain:"",size:"small"}},[t._v("导出")])],1),t._v(" "),a("div",{staticClass:"app-container"},[a("el-form",{ref:"requestData",staticClass:"app-head",attrs:{model:t.requestData}},[a("chooses-door-shop",{attrs:{iptTitle:"选择门店"},on:{valueChange:t.choosesDoor}}),t._v(" "),a("div",{staticClass:"ipt"},[a("div",{staticClass:"iptTitle"},[t._v("订单状态")]),t._v(" "),a("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入订单单号",disabled:"",size:"small",value:"待发货"}})],1),t._v(" "),a("div",{staticClass:"ipt"},[a("div",{staticClass:"iptTitle"},[t._v("订单单号")]),t._v(" "),a("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入订单单号",clearable:"",size:"small"},model:{value:t.requestData.sn,callback:function(e){t.$set(t.requestData,"sn",e)},expression:"requestData.sn"}})],1),t._v(" "),a("div",{staticClass:"ipt"},[a("div",{staticClass:"iptTitle"},[t._v("手机号")]),t._v(" "),a("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"手机号码",clearable:"",size:"small"},model:{value:t.requestData.mobile,callback:function(e){t.$set(t.requestData,"mobile",e)},expression:"requestData.mobile"}})],1),t._v(" "),a("div",{staticClass:"ipt"},[a("div",{staticClass:"iptTitle"},[t._v("支付状态")]),t._v(" "),a("el-select",{attrs:{clearable:"",placeholder:"支付状态",size:"small"},model:{value:t.requestData.pay_status,callback:function(e){t.$set(t.requestData,"pay_status",e)},expression:"requestData.pay_status"}},[a("el-option",{attrs:{label:"待支付",value:"0"}}),t._v(" "),a("el-option",{attrs:{label:"已支付",value:"2"}}),t._v(" "),a("el-option",{attrs:{label:"取消支付",value:"3"}})],1)],1),t._v(" "),a("div",{staticClass:"ipt"},[a("div",{staticClass:"iptTitle"},[t._v("付款方式")]),t._v(" "),a("el-select",{attrs:{clearable:"",placeholder:"付款方式",size:"small"},model:{value:t.requestData.pay_way,callback:function(e){t.$set(t.requestData,"pay_way",e)},expression:"requestData.pay_way"}},[a("el-option",{attrs:{label:"余额",value:"0"}}),t._v(" "),a("el-option",{attrs:{label:"微信",value:"2"}})],1)],1),t._v(" "),a("div",{staticClass:"ipt"},[a("div",{staticClass:"iptTitle"},[t._v("物流状态")]),t._v(" "),a("el-select",{attrs:{clearable:"",placeholder:"物流状态",size:"small"},model:{value:t.requestData.express,callback:function(e){t.$set(t.requestData,"express",e)},expression:"requestData.express"}},[a("el-option",{attrs:{label:"正常",value:"0"}}),t._v(" "),a("el-option",{attrs:{label:"异常",value:"3"}})],1)],1),t._v(" "),a("div",{staticClass:"ipt"},[a("div",{staticClass:"iptTitle"},[t._v("商品名称")]),t._v(" "),a("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入商品名称",clearable:"",size:"small"},model:{value:t.requestData.subtitle,callback:function(e){t.$set(t.requestData,"subtitle",e)},expression:"requestData.subtitle"}})],1),t._v(" "),a("el-date-picker",{attrs:{size:"small",type:"datetimerange","range-separator":"至","start-placeholder":"下单开始时间","end-placeholder":"下单结束时间"},model:{value:t.requestData.add_time,callback:function(e){t.$set(t.requestData,"add_time",e)},expression:"requestData.add_time"}}),t._v(" "),a("el-date-picker",{attrs:{size:"small",type:"datetimerange","range-separator":"至","start-placeholder":"支付开始时间","end-placeholder":"支付结束时间"},model:{value:t.requestData.pay_time,callback:function(e){t.$set(t.requestData,"pay_time",e)},expression:"requestData.pay_time"}}),t._v(" "),a("div",[a("el-button",{attrs:{size:"small",icon:"el-icon-search",type:"primary"},on:{click:t.loadData}},[t._v("搜索")])],1)],1),t._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.requestData.listLoading,expression:"requestData.listLoading"}],attrs:{id:"orderTable",data:t.responseData,"element-loading-text":"Loading",border:"","max-height":"550","highlight-current-row":"","empty-text":"暂无数据","header-cell-style":{backgroundColor:"#F5F7FA"}}},[a("el-table-column",{attrs:{label:"序号",type:"index",width:"50",align:"center","header-align":"left"}}),t._v(" "),a("el-table-column",{attrs:{label:"ID",prop:"id",width:"100",align:"center","header-align":"left"}}),t._v(" "),a("el-table-column",{attrs:{label:"订单信息",width:"400"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("p",[t._v("订单号: "+t._s(e.row.sn))]),t._v(" "),a("p",[t._v("订单总额: "+t._s(e.row.amount))]),t._v(" "),a("p",[t._v("下单时间: "+t._s(e.row.add_time))]),t._v(" "),a("p",[t._v("付款时间: "+t._s(e.row.paytime))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"会员信息",width:"400","header-align":"left"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("p",[t._v("收货人: "+t._s(e.row.nickname))]),t._v(" "),a("p",[t._v("是否实名: ？？")]),t._v(" "),a("p",[t._v("手机号码: "+t._s(e.row.m_mobile))]),t._v(" "),a("p",[t._v("收货地址: "+t._s(e.row.detail_address))]),t._v(" "),a("p",[t._v("所属门店: "+t._s(e.row.name))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"商品名称",width:"300","header-align":"left"},scopedSlots:t._u([{key:"default",fn:function(e){return t._l(e.row.order_goods,(function(e,s){return a("p",{key:s},[t._v("\n            （"+t._s(s+1)+"）"+t._s(e.s_subtitle)+"\n          ")])}))}}])}),t._v(" "),a("el-table-column",{attrs:{label:"商品规格",width:"300","header-align":"left"},scopedSlots:t._u([{key:"default",fn:function(t){}}])}),t._v(" "),a("el-table-column",{attrs:{label:"商品数量",width:"100","header-align":"left"},scopedSlots:t._u([{key:"default",fn:function(e){return t._l(e.row.order_goods,(function(e,s){return a("p",{key:s},[t._v("\n            "+t._s(e.s_num)+"\n          ")])}))}}])}),t._v(" "),a("el-table-column",{attrs:{label:"商品金额",width:"100","header-align":"left"},scopedSlots:t._u([{key:"default",fn:function(e){return t._l(e.row.order_goods,(function(e,s){return a("p",{key:s},[t._v("\n            "+t._s(e.s_price)+"\n          ")])}))}}])}),t._v(" "),a("el-table-column",{attrs:{label:"订单状态",width:"80",align:"center","header-align":"left"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n          "+t._s(t._f("orderStatusToText")(e.row.order_status))+"\n        ")]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"操作",width:"400",align:"center","header-align":"left"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"mini",type:"primary",plain:""},on:{click:function(a){return t.showOrderDetails(e)}}},[t._v("详情")]),t._v(" "),a("el-button",{attrs:{size:"mini",type:"primary",plain:""},on:{click:function(a){return t.sendGoods(e.row)}}},[t._v("发货")])]}}])})],1),t._v(" "),a("div",{staticClass:"footer-pagination"},[a("el-pagination",{attrs:{"current-page":t.requestData.page,"page-sizes":[10,15,20,25],"page-size":t.requestData.limit,layout:"total, sizes, prev, pager, next, jumper",total:t.totalCount,"hide-on-single-page":!0},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)],1),t._v(" "),a("order-details",{attrs:{isShow:t.orderDetailsDialog.isShow,orderId:t.orderDetailsDialog.orderId},on:{"update:isShow":function(e){return t.$set(t.orderDetailsDialog,"isShow",e)},"update:is-show":function(e){return t.$set(t.orderDetailsDialog,"isShow",e)}}}),t._v(" "),a("order-send",{attrs:{isShow:t.orderSendGoodsDialog.isShow,orderInfo:t.orderSendGoodsDialog.orderInfo},on:{"update:isShow":function(e){return t.$set(t.orderSendGoodsDialog,"isShow",e)},"update:is-show":function(e){return t.$set(t.orderSendGoodsDialog,"isShow",e)}}})],1)},o=[],i=(a("63ff"),a("57f0")),n=a("f8b7"),l=a("5f56"),r=a("5851"),c=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{attrs:{width:"55%",title:"订单发货",visible:t.show,"append-to-body":""},on:{"update:visible":function(e){t.show=e}}},[a("el-card",{staticClass:"box-card",attrs:{shadow:"hover"}},[a("div",{attrs:{slot:"header"},slot:"header"},[a("span",[t._v("订单号："+t._s(t.orderInfo.sn))])]),t._v(" "),a("el-table",{ref:"multipleTable",attrs:{data:t.orderInfo.order_goods,border:"","max-height":"300"},on:{"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{label:"商品名称",align:"center",prop:"s_subtitle"}}),t._v(" "),a("el-table-column",{attrs:{label:"商品规格",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{label:"商品数量",align:"center",prop:"s_num"}}),t._v(" "),a("el-table-column",{attrs:{label:"出库仓库",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{label:"快递公司",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{label:"快递单号",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"mini",type:"primary",plain:""},on:{click:function(a){return t.onGoodsSend(e.row)}}},[t._v("发货")])]}}])})],1),t._v(" "),a("div",{staticClass:"footer"}),t._v(" "),a("el-dialog",{attrs:{width:"55%",title:"订单发货",visible:t.sendInfoDialog.isShow,"append-to-body":""},on:{"update:visible":function(e){return t.$set(t.sendInfoDialog,"isShow",e)}}},[a("el-card",{staticClass:"box-card",staticStyle:{"margin-bottom":"20px"}},[a("div",{attrs:{slot:"header"},slot:"header"},[a("span",[t._v("发货商品")])]),t._v(" "),a("el-table",{attrs:{data:t.sendInfoDialog.multipleSelection,border:"","max-height":"300"}},[a("el-table-column",{attrs:{label:"序号",align:"center",prop:"title",type:"index",width:"200"}}),t._v(" "),a("el-table-column",{attrs:{label:"商品名称",align:"center",prop:"s_subtitle"}})],1)],1),t._v(" "),a("el-card",{staticClass:"box-card",staticStyle:{"margin-bottom":"20px"}},[a("div",{attrs:{slot:"header"},slot:"header"},[a("span",[t._v("填写发货信息")])]),t._v(" "),a("div",{staticClass:"myBoxCardDetails"},[a("div",{staticClass:"item-box"},[a("div",{staticClass:"item"},[a("div",{staticClass:"item-title"},[t._v("收货人姓名")]),t._v(" "),a("div",{staticClass:"item-content"},[t._v("\n                  "+t._s(t.orderInfo.nickname)+"\n                ")])]),t._v(" "),a("div",{staticClass:"item"},[a("div",{staticClass:"item-title"},[t._v("收货人电话")]),t._v(" "),a("div",{staticClass:"item-content"},[t._v("\n                  "+t._s(t.orderInfo.m_mobile)+"\n                ")])])]),t._v(" "),a("div",{staticClass:"item-box"},[a("div",{staticClass:"item"},[a("div",{staticClass:"item-title"},[t._v("收货地址")]),t._v(" "),a("div",{staticClass:"item-content"},[t._v("\n                  "+t._s(t.orderInfo.detail_address)+"\n                ")])])]),t._v(" "),t.sendInfoDialog.multipleSelection.length&&0==t.sendInfoDialog.multipleSelection[0].is_xzck?a("div",{staticClass:"item-box"},[a("div",{staticClass:"item"},[a("div",{staticClass:"item-title"},[t._v("选择发货仓库")]),t._v(" "),a("div",{staticClass:"item-content"},[a("el-select",{attrs:{placeholder:"选择仓库",size:"small",clearable:""},on:{change:t.choosesWarehouse},model:{value:t.sendInfoDialog.requestData.shop_id,callback:function(e){t.$set(t.sendInfoDialog.requestData,"shop_id",e)},expression:"sendInfoDialog.requestData.shop_id"}},t._l(t.warehouse,(function(t,e){return a("el-option",{key:e,attrs:{label:t.name,value:t.id}})})),1)],1)])]):t._e(),t._v(" "),t.sendInfoDialog.multipleSelection.length&&(0==t.sendInfoDialog.multipleSelection[0].is_xzfh||1==t.sendInfoDialog.multipleSelection[0].is_xzfh&&2===t.sendInfoDialog.requestData.level)?a("div",{staticClass:"item-box"},[a("div",{staticClass:"item"},[a("div",{staticClass:"item-title"},[t._v("快递名称")]),t._v(" "),a("div",{staticClass:"item-content"},[a("el-select",{attrs:{size:"small",clearable:""},on:{change:t.choosesExpressCompany},model:{value:t.sendInfoDialog.requestData.code,callback:function(e){t.$set(t.sendInfoDialog.requestData,"code",e)},expression:"sendInfoDialog.requestData.code"}},t._l(t.expressCompany,(function(t,e){return a("el-option",{key:e,attrs:{label:t.title,value:t.code}})})),1)],1)]),t._v(" "),a("div",{staticClass:"item"},[a("div",{staticClass:"item-title"},[t._v("快递单号")]),t._v(" "),a("div",{staticClass:"item-content"},[a("el-input",{attrs:{size:"small",placeholder:"请输入快递单号"},model:{value:t.sendInfoDialog.requestData.sn,callback:function(e){t.$set(t.sendInfoDialog.requestData,"sn",e)},expression:"sendInfoDialog.requestData.sn"}})],1)])]):t._e()]),t._v(" "),a("div",{staticClass:"footer"},[a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:t.sendGoods}},[t._v("发货")])],1)])],1)],1)],1)},d=[],u=a("2934"),p={name:"orderDetails",props:{isShow:{type:Boolean,default:!1},orderInfo:{type:Object,default:{}}},data:function(){return{show:!1,sendInfoDialog:{isShow:!1,requestData:{operate_type:"",id:[],order_id:"",os_id:"",shop_id:"",level:"",title:"",code:"",sn:"",order_goods_id:[]},multipleSelection:[]},expressCompany:[],warehouse:[]}},methods:{handleSelectionChange:function(t){this.sendInfoDialog.multipleSelection=t,this.sendInfoDialog.requestData.id=this.sendInfoDialog.multipleSelection.map((function(t){return t.id}))},onGoodsSend:function(t){this.handleSelectionChange([t]),this.sendInfoDialog.isShow=!0},choosesExpressCompany:function(t){var e=this;this.expressCompany.map((function(a){a.code===t&&(e.sendInfoDialog.requestData.title=a.title)}))},choosesWarehouse:function(t){var e=this;this.warehouse.map((function(a){a.id===t&&(e.sendInfoDialog.requestData.level=a.level)}))},someGoodsSend:function(){this.sendInfoDialog.multipleSelection.length?this.sendInfoDialog.isShow=!0:this.$message("请选择要发货的商品")},setWarehouse:function(){var t={os_id:this.orderInfo.os_id,shop_id:this.sendInfoDialog.requestData.shop_id};Object(n["g"])(t).then((function(t){console.log(t)})).catch((function(t){console.log(t)}))},sendGoods:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var e,a=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e={operate_type:"",id:this.sendInfoDialog.requestData.id,order_id:this.orderInfo.id,os_id:this.orderInfo.os_id},0==this.sendInfoDialog.multipleSelection[0].is_xzck?(e.operate_type="xzck",e.level=this.sendInfoDialog.requestData.level,2===this.sendInfoDialog.requestData.level&&(e.title=this.sendInfoDialog.requestData.title,e.code=this.sendInfoDialog.requestData.code,e.sn=this.sendInfoDialog.requestData.sn),this.setWarehouse()):0==this.sendInfoDialog.multipleSelection[0].is_xzfh?(e.operate_type="xzfh",e.title=this.sendInfoDialog.requestData.title,e.code=this.sendInfoDialog.requestData.code,e.sn=this.sendInfoDialog.requestData.sn):e.operate_type="xzqr",t.next=4,Object(n["f"])(e).then((function(t){a.sendInfoDialog.isShow=!1,a.show=!1,console.log(t)})).catch((function(t){a.sendInfoDialog.isShow=!1,a.show=!1,console.log(t)}));case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},watch:{isShow:{immediate:!0,handler:function(t){this.show=t}},show:function(t,e){t||this.$emit("update:isShow",!1)},"sendInfoDialog.isShow":{handler:function(t,e){t||(this.sendInfoDialog.multipleSelection=[],this.$refs.multipleTable.clearSelection(),this.sendInfoDialog.requestData={operate_type:"",id:[],order_id:"",os_id:""})},deep:!0}},created:function(){var t=this;console.log("父组件传过来的订单信息：",this.orderInfo),Object(u["a"])().then((function(e){200===e.code&&(t.expressCompany=e.data)})).catch((function(t){console.log(t)})),Object(u["g"])().then((function(e){200===e.code&&(t.warehouse=e.data)})).catch((function(t){console.log(t)}))},components:{}},h=p,v=(a("a488"),a("5511")),f=Object(v["a"])(h,c,d,!1,null,"a479e7fa",null),_=f.exports,m=a("7c24"),b={data:function(){return{requestData:{age:"",page:1,limit:10,listLoading:!0,order_status:"all",sn:"",pay_status:"",mobile:"",express:"",subtitle:"",add_time:"",pay_time:"",shop_id:"",pay_way:""},orderDetailsDialog:{isShow:!1,orderId:0,goodsList:[]},orderSendGoodsDialog:{isShow:!1,orderInfo:{}},totalCount:0,responseData:[]}},created:function(){this.loadData()},methods:{handleCurrentChange:function(t){this.requestData.page=t,this.loadData()},handleSizeChange:function(t){this.requestData.limit=t,this.loadData()},loadData:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var e,a=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.requestData.listLoading=!0,e={page:this.requestData.page,limit:this.requestData.limit,order_status:0},t.next=4,Object(n["e"])(e).then((function(t){200===t.code&&(a.totalCount=t.data.total,a.responseData=t.data.data),a.$nextTick((function(){a.requestData.listLoading=!1}))})).catch((function(t){console.log(t),a.requestData.listLoading=!1}));case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),choosesDoor:function(t){t.id&&(this.requestData.shop_id=t.id)},showOrderDetails:function(t){this.orderDetailsDialog.orderId=t.row.id,this.orderDetailsDialog.isShow=!0},sendGoods:function(t){console.log(t),this.orderSendGoodsDialog.isShow=!0,this.orderSendGoodsDialog.orderInfo=t}},components:{ChoosesDoorShop:l["a"],OrderDetails:r["a"],OrderSend:_},mixins:[m["a"]]},g=b,D=Object(v["a"])(g,s,o,!1,null,"1147955e",null);e["default"]=D.exports},f8b7:function(t,e,a){"use strict";a.d(e,"e",(function(){return o})),a.d(e,"d",(function(){return i})),a.d(e,"f",(function(){return n})),a.d(e,"g",(function(){return l})),a.d(e,"c",(function(){return r})),a.d(e,"b",(function(){return c})),a.d(e,"a",(function(){return d}));var s=a("b775");function o(t){return Object(s["a"])({baseURL:"http://192.168.25.104",url:"/mall_admin_order/order_list/getOrderList",method:"post",data:t})}function i(t){return Object(s["a"])({baseURL:"http://192.168.25.104",url:"/mall_admin_order/order_goods/getOrderDetail",method:"post",data:t})}function n(t){return Object(s["a"])({baseURL:"http://192.168.25.104",url:"/mall_admin_order/order_send_goods/operateSendGoods",method:"post",data:t})}function l(t){return Object(s["a"])({baseURL:"http://192.168.25.104",url:"/mall_admin_order/order_service/setOrderShop",method:"post",data:t})}function r(t){return Object(s["a"])({baseURL:"http://192.168.25.104",url:"/mall_admin_order/order_refund_goods/refuseRefundGoods",method:"post",data:t})}function c(t){return Object(s["a"])({baseURL:"http://192.168.25.104",url:"/common/shop/getShop",method:"post",data:t})}function d(t){return Object(s["a"])({baseURL:"http://192.168.25.104",url:"/mall_admin_order/order_service/setOrderShop",method:"post",data:t})}}}]);