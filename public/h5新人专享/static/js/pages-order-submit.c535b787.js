(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-order-submit"],{"2ea2":function(e,t,i){"use strict";i.r(t);var a=i("de44"),s=i.n(a);for(var n in a)"default"!==n&&function(e){i.d(t,e,function(){return a[e]})}(n);t["default"]=s.a},"465d":function(e,t,i){"use strict";var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-uni-view",{staticClass:"container"},[i("v-uni-view",{staticClass:"address"},[e.address.id?i("v-uni-view",{staticClass:"has-address",on:{click:function(t){t=e.$handleEvent(t),e._goPage("address_chooses")}}},[i("v-uni-view",[i("i",{staticClass:"iconfont icon-ddx-shop-location"})]),i("v-uni-view",{staticClass:"text"},[i("v-uni-view",[e._v(e._s(e.address.name)),i("span",{staticClass:"mobile"},[e._v(e._s(e.address.phone))])]),i("v-uni-view",{staticClass:"address-detail"},[e._v(e._s(e.address.addres))])],1),i("v-uni-view",[i("i",{staticClass:"iconfont icon-ddx-shop-content_arrows"})])],1):i("v-uni-view",{staticClass:"no-address",on:{click:function(t){t=e.$handleEvent(t),e._goPage("address_chooses")}}},[i("v-uni-view",[i("i",{staticClass:"iconfont icon-ddx-shop-anonymous-iconfont icon-color"})]),i("v-uni-view",[e._v("选择收货地址")])],1)],1),i("v-uni-view",{staticClass:"car-list"},[e._l(e.myResponseData,function(t,a){return i("v-uni-view",{key:a,staticClass:"section"},[i("v-uni-view",{staticClass:"shop-name"},[i("v-uni-view",[e._v(e._s(t.name))]),i("v-uni-view",[e._v("共"+e._s(t.data.length)+"件")])],1),e._l(t.data,function(t,a){return i("v-uni-view",{key:a,staticClass:"goods"},[i("v-uni-view",{staticClass:"goods-img"},[i("v-uni-image",{staticClass:"img",attrs:{src:t.pic}})],1),i("v-uni-view",{staticClass:"other"},[i("v-uni-view",{staticClass:"title"},[e._v(e._s(t.title))]),t.categoryArr.length?i("v-uni-view",{staticClass:"specification"},[e._v("规格:"),e._l(t.categoryArr,function(t,a){return i("v-uni-text",{key:a,staticStyle:{"margin-right":"6upx"}},[e._v(e._s(t))])})],2):e._e(),i("v-uni-view",{staticClass:"money"},[i("v-uni-view",{staticClass:"money-num"}),i("v-uni-view",[e._v("X"+e._s(t.num))])],1)],1)],1)})],2)}),i("v-uni-view",{staticClass:"section"},[i("v-uni-view",{staticClass:"shop-name",staticStyle:{border:"none"}},[i("v-uni-view",[e._v("商品金额")]),i("v-uni-view",{staticStyle:{color:"#dd524d"}},[e._v("￥"+e._s(e._f("moneyToFixed")(e.sumMoney)))])],1),i("v-uni-view",{staticClass:"shop-name",staticStyle:{border:"none"}},[i("v-uni-view",[e._v("运费")]),i("v-uni-view",{staticStyle:{color:"#dd524d"}},[e._v("￥"+e._s(e._f("moneyToFixed")(e.freight)))])],1)],1)],2),i("v-uni-view",{staticClass:"fixed"},[i("v-uni-view",{staticClass:"other"},[i("v-uni-view",{staticClass:"num"},[e._v("共"+e._s(e.sumNum)+"件，")]),i("v-uni-view",{staticClass:"money"},[e._v("合计："),i("span",{staticClass:"money-num"},[e._v("￥"+e._s(e._f("moneyToFixed")(parseFloat(e.sumMoney)+parseFloat(e.freight))))])]),i("v-uni-view",{staticClass:"btn",on:{click:function(t){t=e.$handleEvent(t),e.submitOrder(t)}}},[e._v("提交订单")])],1)],1)],1)},s=[];i.d(t,"a",function(){return a}),i.d(t,"b",function(){return s})},bcd9:function(e,t,i){t=e.exports=i("2350")(!1),t.push([e.i,'@charset "UTF-8";\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */\n/* 页面设置相关 */\n/* 边线相关 */.container .fixed[data-v-e1793e38]{border-top:1px #f2f2f2 solid}\n/* 主要颜色 */\n/* 超出行数显示 省略号*/.container .address .has-address .text .address-detail[data-v-e1793e38],.container .car-list .section .goods .other .title[data-v-e1793e38]{word-break:break-all;-o-text-overflow:ellipsis;text-overflow:ellipsis;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2;overflow:hidden}\n/* 阿里巴巴图标被选中状态的样式 */.icon-color[data-v-e1793e38]{color:#fc5a5a}.container[data-v-e1793e38]{color:#1a1a1a}.container .address[data-v-e1793e38]{background:#fff;width:100%;height:%?168?%;font-size:%?28?%;color:#1a1a1a;padding:10px}.container .address .no-address[data-v-e1793e38]{width:100%;height:100%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:start;-webkit-justify-content:flex-start;-ms-flex-pack:start;justify-content:flex-start;font-size:%?32?%}.container .address .no-address i[data-v-e1793e38]{margin-right:10px}.container .address .has-address[data-v-e1793e38]{width:100%;height:100%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;padding-left:10px;padding-right:10px;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between}.container .address .has-address .text[data-v-e1793e38]{width:80%}.container .address .has-address .text .mobile[data-v-e1793e38]{margin-left:%?30?%;color:#ccc!important}.container .address .has-address .icon-ddx-shop-location[data-v-e1793e38]{font-size:%?48?%}.container .address .has-address .icon-ddx-shop-content_arrows[data-v-e1793e38]{font-size:%?32?%}.container .car-list[data-v-e1793e38]{padding-top:%?24?%;padding-bottom:%?96?%}.container .car-list .section[data-v-e1793e38]{background:#fff;margin-bottom:%?24?%}.container .car-list .section .shop-name[data-v-e1793e38]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;border-bottom:1px solid #f2f2f2;padding:10px;color:#000;font-size:%?32?%}.container .car-list .section .goods[data-v-e1793e38]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;padding:10px;width:100%;height:23.5%}.container .car-list .section .goods .chooses[data-v-e1793e38]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;margin-right:10px}.container .car-list .section .goods .goods-img[data-v-e1793e38]{margin-right:10px}.container .car-list .section .goods .goods-img .img[data-v-e1793e38]{width:%?200?%;height:%?200?%;border-radius:%?4?%}.container .car-list .section .goods .other[data-v-e1793e38]{width:75%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column}.container .car-list .section .goods .other .title[data-v-e1793e38]{color:#1a1a1a;font-size:%?28?%}.container .car-list .section .goods .other .specification[data-v-e1793e38]{color:grey;font-size:%?24?%}.container .car-list .section .goods .other .money[data-v-e1793e38]{font-size:%?28?%;color:grey;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between}.container .car-list .section .goods .other .money .money-num[data-v-e1793e38]{color:#fc5a5a}.container .fixed[data-v-e1793e38]{z-index:99;background:#fff;position:fixed;width:100%;bottom:0;left:0;height:%?100?%;line-height:%?100?%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-flex-flow:nowrap;-ms-flex-flow:nowrap;flex-flow:nowrap;-webkit-box-pack:end;-webkit-justify-content:flex-end;-ms-flex-pack:end;justify-content:flex-end;font-size:%?32?%;padding-left:10px}.container .fixed .other[data-v-e1793e38]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:end;-webkit-justify-content:flex-end;-ms-flex-pack:end;justify-content:flex-end}.container .fixed .other .num[data-v-e1793e38]{font-size:%?28?%;color:grey}.container .fixed .other .money[data-v-e1793e38]{color:#1a1a1a;margin-right:%?30?%}.container .fixed .other .money .money-num[data-v-e1793e38]{color:#fc5a5a}.container .fixed .other .btn[data-v-e1793e38]{padding:0 %?60?%;background:#fc5a5a;color:#fff}',""])},cc91:function(e,t,i){var a=i("bcd9");"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var s=i("4f06").default;s("016989ea",a,!0,{sourceMap:!1,shadowMode:!1})},ce4f:function(e,t,i){"use strict";i.r(t);var a=i("465d"),s=i("2ea2");for(var n in s)"default"!==n&&function(e){i.d(t,e,function(){return s[e]})}(n);i("fc3e");var o=i("2877"),r=Object(o["a"])(s["default"],a["a"],a["b"],!1,null,"e1793e38",null);t["default"]=r.exports},de44:function(e,t,i){"use strict";var a=i("288e");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,i("ac6a"),i("96cf");var s=a(i("3b8d")),n={name:"submit",data:function(){return{address:{id:0},myResponseData:[],sumNum:0,sumSum:0,sumMoney:0,freight:0,requestData:null,isDisableSubmitOrder:!1}},onLoad:function(){var e=(0,s.default)(regeneratorRuntime.mark(function e(){var t,i,a,s,n=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$minApi.addressList({default:1}).then(function(e){200===e.code&&e.data.length&&(n.address=e.data[0])});case 2:console.log("带过来的参数:",this.$parseURL()),this.myResponseData=this.$parseURL().myResponseData,this.sumNum=this.$parseURL().sumNum,this.sumSum=this.$parseURL().sumSum,this.sumMoney=this.$parseURL().sumMoney,t=uni.getStorageSync("inviteBuy"),i=[],e.t0=this.$parseURL().createOrderType,e.next="buy_now"===e.t0?12:"car"===e.t0?16:"group"===e.t0?19:"spike"===e.t0?23:"newman_buy"===e.t0?27:31;break;case 12:return this.$parseURL().myResponseData.forEach(function(e,t){e.data.forEach(function(e,t){i.push({id:e.item_id,num:e.num,specs_ids:e.key})})}),this.requestData={address_id:this.address.id,order_distinguish:0,item:i},"buy_now"===t.type&&t.data.id==i[0].id&&(this.requestData.share_id=t.data.share_id),e.abrupt("break",31);case 16:return this.$parseURL().myResponseData.forEach(function(e,t){e.data.forEach(function(e,t){i.push({id:e.item_id,num:e.num,specs_ids:e.key,card_id:e.id})})}),this.requestData={address_id:this.address.id,order_distinguish:0,item:i},e.abrupt("break",31);case 19:return this.$parseURL().myResponseData.forEach(function(e,t){e.data.forEach(function(e,t){i.push({id:e.item_id,num:e.num,specs_ids:e.key})})}),this.requestData={address_id:this.address.id,activity_id:this.$parseURL().activity_id,order_distinguish:1,commander:this.$parseURL().commander,assemble_list_id:this.$parseURL().assemble_list_id,item:i},"group"===t.type&&(t.data.assemble_list_id?t.data.assemble_list_id==this.requestData.assemble_list_id&&t.data.assemble_id==this.requestData.activity_id&&t.data.item_id==i[0].id&&(this.requestData.share_id=t.data.share_id):t.data.assemble_id==this.requestData.activity_id&&t.data.item_id==i[0].id&&(this.requestData.share_id=t.data.share_id)),e.abrupt("break",31);case 23:return this.$parseURL().myResponseData.forEach(function(e,t){e.data.forEach(function(e,t){i.push({id:e.item_id,num:e.num,specs_ids:e.key})})}),this.requestData={address_id:this.address.id,activity_id:this.$parseURL().seckill_id,order_distinguish:2,item:i},"spike"===t.type&&t.data.seckill_id==this.requestData.activity_id&&t.data.item_id==i[0].id&&(this.requestData.share_id=t.data.share_id),e.abrupt("break",31);case 27:return a=null,this.$parseURL().myResponseData.forEach(function(e,t){e.data.forEach(function(e,t){a=e.activity_id,i.push({id:e.item_id,num:e.num,specs_ids:e.key})})}),this.requestData={address_id:this.address.id,activity_id:a,order_distinguish:6,item:i},e.abrupt("break",31);case 31:this.getFreight(),s=this,this.$eventHub.$on("address",function(e){s.address=e,s.requestData.address_id=e.id,s.getFreight()});case 34:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),onUnload:function(){this.$eventHub.$off("address")},methods:{_goPage:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.$openPage({name:e,query:t})},getFreight:function(){var e=(0,s.default)(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$minApi.freight(this.requestData).then(function(e){console.log(e),200===e.code&&(t.freight=e.data),403===e.code&&(t.isDisableSubmitOrder=!0,setTimeout(function(){uni.navigateBack()},2500))});case 2:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),submitOrder:function(){var e=(0,s.default)(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(this.address.id){e.next=3;break}return this.msg("未选择收货地址"),e.abrupt("return");case 3:if(!this.isDisableSubmitOrder){e.next=5;break}return e.abrupt("return");case 5:this.isDisableSubmitOrder=!0,e.t0=this.$parseURL().createOrderType,e.next="car"===e.t0?9:"buy_now"===e.t0?12:"group"===e.t0?15:"spike"===e.t0?18:"newman_buy"===e.t0?21:24;break;case 9:return e.next=11,this.$minApi.createOrder(this.requestData).then(function(e){if(200===e.code)t._goPage("order_pay",e.data);else{var i=t;-1!==[108,107,208].indexOf(e.code)?uni.showModal({title:"提示",content:e.msg,success:function(t){t.confirm?(console.log("用户点击确定"),108===e.code&&i._goPage("id_card_authentication"),107===e.code&&i._goPage("address_chooses"),208===e.code&&i._goPage("order_detail",{order_id:e.data.order_id})):t.cancel&&console.log("用户点击取消")}}):t.msg(e.msg)}}).catch(function(e){console.log(e)});case 11:return e.abrupt("break",24);case 12:return e.next=14,this.$minApi.createOrder(this.requestData).then(function(e){if(200===e.code)t._goPage("order_pay",e.data);else{var i=t;-1!==[108,107,208].indexOf(e.code)?uni.showModal({title:"提示",content:e.msg,success:function(t){t.confirm?(console.log("用户点击确定"),108===e.code&&i._goPage("id_card_authentication"),107===e.code&&i._goPage("address_chooses"),208===e.code&&i._goPage("order_detail",{order_id:e.data.order_id})):t.cancel&&console.log("用户点击取消")}}):t.msg(e.msg)}}).catch(function(e){console.log(e)});case 14:return e.abrupt("break",24);case 15:return e.next=17,this.$minApi.createAassembleOrder(this.requestData).then(function(e){if(200===e.code)t._goPage("order_pay",e.data);else{var i=t;-1!==[108,107,208].indexOf(e.code)?uni.showModal({title:"提示",content:e.msg,success:function(t){t.confirm?(console.log("用户点击确定"),108===e.code&&i._goPage("id_card_authentication"),107===e.code&&i._goPage("address_chooses"),208===e.code&&i._goPage("order_detail",{order_id:e.data.order_id})):t.cancel&&console.log("用户点击取消")}}):t.msg(e.msg)}}).catch(function(e){console.log(e)});case 17:return e.abrupt("break",24);case 18:return e.next=20,this.$minApi.createOrederSeckillDoPost(this.requestData).then(function(e){if(200===e.code)t._goPage("order_pay",e.data);else{var i=t;-1!==[108,107,208].indexOf(e.code)?uni.showModal({title:"提示",content:e.msg,success:function(t){t.confirm?(console.log("用户点击确定"),108===e.code&&i._goPage("id_card_authentication"),107===e.code&&i._goPage("address_chooses"),208===e.code&&i._goPage("order_detail",{order_id:e.data.order_id})):t.cancel&&console.log("用户点击取消")}}):t.msg(e.msg)}}).catch(function(e){console.log(e)});case 20:return e.abrupt("break",24);case 21:return e.next=23,this.$minApi.newmanCreate(this.requestData).then(function(e){if(200===e.code)t._goPage("order_pay",e.data);else{var i=t;-1!==[108,107,208].indexOf(e.code)?uni.showModal({title:"提示",content:e.msg,success:function(t){t.confirm?(console.log("用户点击确定"),108===e.code&&i._goPage("id_card_authentication"),107===e.code&&i._goPage("address_chooses"),208===e.code&&i._goPage("order_detail",{order_id:e.data.order_id})):t.cancel&&console.log("用户点击取消")}}):t.msg(e.msg)}}).catch(function(e){console.log(e)});case 23:return e.abrupt("break",24);case 24:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},components:{}};t.default=n},fc3e:function(e,t,i){"use strict";var a=i("cc91"),s=i.n(a);s.a}}]);